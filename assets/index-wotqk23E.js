function q_(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function K_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var G_={exports:{}},Fc={},Q_={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fl=Symbol.for("react.element"),AI=Symbol.for("react.portal"),kI=Symbol.for("react.fragment"),NI=Symbol.for("react.strict_mode"),bI=Symbol.for("react.profiler"),DI=Symbol.for("react.provider"),OI=Symbol.for("react.context"),LI=Symbol.for("react.forward_ref"),MI=Symbol.for("react.suspense"),VI=Symbol.for("react.memo"),jI=Symbol.for("react.lazy"),Dg=Symbol.iterator;function FI(t){return t===null||typeof t!="object"?null:(t=Dg&&t[Dg]||t["@@iterator"],typeof t=="function"?t:null)}var X_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y_=Object.assign,J_={};function wo(t,e,n){this.props=t,this.context=e,this.refs=J_,this.updater=n||X_}wo.prototype.isReactComponent={};wo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};wo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Z_(){}Z_.prototype=wo.prototype;function ap(t,e,n){this.props=t,this.context=e,this.refs=J_,this.updater=n||X_}var lp=ap.prototype=new Z_;lp.constructor=ap;Y_(lp,wo.prototype);lp.isPureReactComponent=!0;var Og=Array.isArray,e0=Object.prototype.hasOwnProperty,up={current:null},t0={key:!0,ref:!0,__self:!0,__source:!0};function n0(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)e0.call(e,r)&&!t0.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:fl,type:t,key:s,ref:o,props:i,_owner:up.current}}function UI(t,e){return{$$typeof:fl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function cp(t){return typeof t=="object"&&t!==null&&t.$$typeof===fl}function zI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Lg=/\/+/g;function Fd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?zI(""+t.key):e.toString(36)}function Eu(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case fl:case AI:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Fd(o,0):r,Og(i)?(n="",t!=null&&(n=t.replace(Lg,"$&/")+"/"),Eu(i,e,n,"",function(c){return c})):i!=null&&(cp(i)&&(i=UI(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Lg,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Og(t))for(var l=0;l<t.length;l++){s=t[l];var u=r+Fd(s,l);o+=Eu(s,e,n,u,i)}else if(u=FI(t),typeof u=="function")for(t=u.call(t),l=0;!(s=t.next()).done;)s=s.value,u=r+Fd(s,l++),o+=Eu(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Kl(t,e,n){if(t==null)return t;var r=[],i=0;return Eu(t,r,"","",function(s){return e.call(n,s,i++)}),r}function BI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ht={current:null},Tu={transition:null},$I={ReactCurrentDispatcher:Ht,ReactCurrentBatchConfig:Tu,ReactCurrentOwner:up};function r0(){throw Error("act(...) is not supported in production builds of React.")}ve.Children={map:Kl,forEach:function(t,e,n){Kl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Kl(t,function(){e++}),e},toArray:function(t){return Kl(t,function(e){return e})||[]},only:function(t){if(!cp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ve.Component=wo;ve.Fragment=kI;ve.Profiler=bI;ve.PureComponent=ap;ve.StrictMode=NI;ve.Suspense=MI;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$I;ve.act=r0;ve.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Y_({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=up.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)e0.call(e,u)&&!t0.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:fl,type:t.type,key:i,ref:s,props:r,_owner:o}};ve.createContext=function(t){return t={$$typeof:OI,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:DI,_context:t},t.Consumer=t};ve.createElement=n0;ve.createFactory=function(t){var e=n0.bind(null,t);return e.type=t,e};ve.createRef=function(){return{current:null}};ve.forwardRef=function(t){return{$$typeof:LI,render:t}};ve.isValidElement=cp;ve.lazy=function(t){return{$$typeof:jI,_payload:{_status:-1,_result:t},_init:BI}};ve.memo=function(t,e){return{$$typeof:VI,type:t,compare:e===void 0?null:e}};ve.startTransition=function(t){var e=Tu.transition;Tu.transition={};try{t()}finally{Tu.transition=e}};ve.unstable_act=r0;ve.useCallback=function(t,e){return Ht.current.useCallback(t,e)};ve.useContext=function(t){return Ht.current.useContext(t)};ve.useDebugValue=function(){};ve.useDeferredValue=function(t){return Ht.current.useDeferredValue(t)};ve.useEffect=function(t,e){return Ht.current.useEffect(t,e)};ve.useId=function(){return Ht.current.useId()};ve.useImperativeHandle=function(t,e,n){return Ht.current.useImperativeHandle(t,e,n)};ve.useInsertionEffect=function(t,e){return Ht.current.useInsertionEffect(t,e)};ve.useLayoutEffect=function(t,e){return Ht.current.useLayoutEffect(t,e)};ve.useMemo=function(t,e){return Ht.current.useMemo(t,e)};ve.useReducer=function(t,e,n){return Ht.current.useReducer(t,e,n)};ve.useRef=function(t){return Ht.current.useRef(t)};ve.useState=function(t){return Ht.current.useState(t)};ve.useSyncExternalStore=function(t,e,n){return Ht.current.useSyncExternalStore(t,e,n)};ve.useTransition=function(){return Ht.current.useTransition()};ve.version="18.3.1";Q_.exports=ve;var j=Q_.exports;const ke=K_(j),bh=q_({__proto__:null,default:ke},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HI=j,WI=Symbol.for("react.element"),qI=Symbol.for("react.fragment"),KI=Object.prototype.hasOwnProperty,GI=HI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,QI={key:!0,ref:!0,__self:!0,__source:!0};function i0(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)KI.call(e,r)&&!QI.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:WI,type:t,key:s,ref:o,props:i,_owner:GI.current}}Fc.Fragment=qI;Fc.jsx=i0;Fc.jsxs=i0;G_.exports=Fc;var g=G_.exports,Dh={},s0={exports:{}},hn={},o0={exports:{}},a0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(W,Z){var ee=W.length;W.push(Z);e:for(;0<ee;){var de=ee-1>>>1,oe=W[de];if(0<i(oe,Z))W[de]=Z,W[ee]=oe,ee=de;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var Z=W[0],ee=W.pop();if(ee!==Z){W[0]=ee;e:for(var de=0,oe=W.length,pe=oe>>>1;de<pe;){var Pe=2*(de+1)-1,De=W[Pe],Fe=Pe+1,yt=W[Fe];if(0>i(De,ee))Fe<oe&&0>i(yt,De)?(W[de]=yt,W[Fe]=ee,de=Fe):(W[de]=De,W[Pe]=ee,de=Pe);else if(Fe<oe&&0>i(yt,ee))W[de]=yt,W[Fe]=ee,de=Fe;else break e}}return Z}function i(W,Z){var ee=W.sortIndex-Z.sortIndex;return ee!==0?ee:W.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],c=[],h=1,f=null,m=3,S=!1,x=!1,R=!1,A=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(W){for(var Z=n(c);Z!==null;){if(Z.callback===null)r(c);else if(Z.startTime<=W)r(c),Z.sortIndex=Z.expirationTime,e(u,Z);else break;Z=n(c)}}function b(W){if(R=!1,w(W),!x)if(n(u)!==null)x=!0,Ft(U);else{var Z=n(c);Z!==null&&fe(b,Z.startTime-W)}}function U(W,Z){x=!1,R&&(R=!1,I(y),y=-1),S=!0;var ee=m;try{for(w(Z),f=n(u);f!==null&&(!(f.expirationTime>Z)||W&&!k());){var de=f.callback;if(typeof de=="function"){f.callback=null,m=f.priorityLevel;var oe=de(f.expirationTime<=Z);Z=t.unstable_now(),typeof oe=="function"?f.callback=oe:f===n(u)&&r(u),w(Z)}else r(u);f=n(u)}if(f!==null)var pe=!0;else{var Pe=n(c);Pe!==null&&fe(b,Pe.startTime-Z),pe=!1}return pe}finally{f=null,m=ee,S=!1}}var N=!1,T=null,y=-1,E=5,P=-1;function k(){return!(t.unstable_now()-P<E)}function O(){if(T!==null){var W=t.unstable_now();P=W;var Z=!0;try{Z=T(!0,W)}finally{Z?C():(N=!1,T=null)}}else N=!1}var C;if(typeof v=="function")C=function(){v(O)};else if(typeof MessageChannel<"u"){var ge=new MessageChannel,et=ge.port2;ge.port1.onmessage=O,C=function(){et.postMessage(null)}}else C=function(){A(O,0)};function Ft(W){T=W,N||(N=!0,C())}function fe(W,Z){y=A(function(){W(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){x||S||(x=!0,Ft(U))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(W){switch(m){case 1:case 2:case 3:var Z=3;break;default:Z=m}var ee=m;m=Z;try{return W()}finally{m=ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,Z){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ee=m;m=W;try{return Z()}finally{m=ee}},t.unstable_scheduleCallback=function(W,Z,ee){var de=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?de+ee:de):ee=de,W){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=ee+oe,W={id:h++,callback:Z,priorityLevel:W,startTime:ee,expirationTime:oe,sortIndex:-1},ee>de?(W.sortIndex=ee,e(c,W),n(u)===null&&W===n(c)&&(R?(I(y),y=-1):R=!0,fe(b,ee-de))):(W.sortIndex=oe,e(u,W),x||S||(x=!0,Ft(U))),W},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(W){var Z=m;return function(){var ee=m;m=Z;try{return W.apply(this,arguments)}finally{m=ee}}}})(a0);o0.exports=a0;var XI=o0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YI=j,un=XI;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l0=new Set,ba={};function cs(t,e){no(t,e),no(t+"Capture",e)}function no(t,e){for(ba[t]=e,t=0;t<e.length;t++)l0.add(e[t])}var Ir=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Oh=Object.prototype.hasOwnProperty,JI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Mg={},Vg={};function ZI(t){return Oh.call(Vg,t)?!0:Oh.call(Mg,t)?!1:JI.test(t)?Vg[t]=!0:(Mg[t]=!0,!1)}function eS(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function tS(t,e,n,r){if(e===null||typeof e>"u"||eS(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Wt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Rt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Rt[t]=new Wt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Rt[e]=new Wt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Rt[t]=new Wt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Rt[t]=new Wt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Rt[t]=new Wt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Rt[t]=new Wt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Rt[t]=new Wt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Rt[t]=new Wt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Rt[t]=new Wt(t,5,!1,t.toLowerCase(),null,!1,!1)});var dp=/[\-:]([a-z])/g;function hp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(dp,hp);Rt[e]=new Wt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(dp,hp);Rt[e]=new Wt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(dp,hp);Rt[e]=new Wt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Rt[t]=new Wt(t,1,!1,t.toLowerCase(),null,!1,!1)});Rt.xlinkHref=new Wt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Rt[t]=new Wt(t,1,!1,t.toLowerCase(),null,!0,!0)});function fp(t,e,n,r){var i=Rt.hasOwnProperty(e)?Rt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(tS(e,n,i,r)&&(n=null),r||i===null?ZI(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var br=YI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gl=Symbol.for("react.element"),Ds=Symbol.for("react.portal"),Os=Symbol.for("react.fragment"),pp=Symbol.for("react.strict_mode"),Lh=Symbol.for("react.profiler"),u0=Symbol.for("react.provider"),c0=Symbol.for("react.context"),mp=Symbol.for("react.forward_ref"),Mh=Symbol.for("react.suspense"),Vh=Symbol.for("react.suspense_list"),gp=Symbol.for("react.memo"),Wr=Symbol.for("react.lazy"),d0=Symbol.for("react.offscreen"),jg=Symbol.iterator;function qo(t){return t===null||typeof t!="object"?null:(t=jg&&t[jg]||t["@@iterator"],typeof t=="function"?t:null)}var Qe=Object.assign,Ud;function ia(t){if(Ud===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ud=e&&e[1]||""}return`
`+Ud+t}var zd=!1;function Bd(t,e){if(!t||zd)return"";zd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=l);break}}}finally{zd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ia(t):""}function nS(t){switch(t.tag){case 5:return ia(t.type);case 16:return ia("Lazy");case 13:return ia("Suspense");case 19:return ia("SuspenseList");case 0:case 2:case 15:return t=Bd(t.type,!1),t;case 11:return t=Bd(t.type.render,!1),t;case 1:return t=Bd(t.type,!0),t;default:return""}}function jh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Os:return"Fragment";case Ds:return"Portal";case Lh:return"Profiler";case pp:return"StrictMode";case Mh:return"Suspense";case Vh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case c0:return(t.displayName||"Context")+".Consumer";case u0:return(t._context.displayName||"Context")+".Provider";case mp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case gp:return e=t.displayName||null,e!==null?e:jh(t.type)||"Memo";case Wr:e=t._payload,t=t._init;try{return jh(t(e))}catch{}}return null}function rS(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return jh(e);case 8:return e===pp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function pi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function h0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function iS(t){var e=h0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ql(t){t._valueTracker||(t._valueTracker=iS(t))}function f0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=h0(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function $u(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Fh(t,e){var n=e.checked;return Qe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Fg(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=pi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function p0(t,e){e=e.checked,e!=null&&fp(t,"checked",e,!1)}function Uh(t,e){p0(t,e);var n=pi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?zh(t,e.type,n):e.hasOwnProperty("defaultValue")&&zh(t,e.type,pi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ug(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function zh(t,e,n){(e!=="number"||$u(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var sa=Array.isArray;function qs(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+pi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Bh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return Qe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function zg(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(H(92));if(sa(n)){if(1<n.length)throw Error(H(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:pi(n)}}function m0(t,e){var n=pi(e.value),r=pi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Bg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function g0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $h(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?g0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Xl,y0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Xl=Xl||document.createElement("div"),Xl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Xl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Da(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ma={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sS=["Webkit","ms","Moz","O"];Object.keys(ma).forEach(function(t){sS.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ma[e]=ma[t]})});function v0(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ma.hasOwnProperty(t)&&ma[t]?(""+e).trim():e+"px"}function _0(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=v0(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var oS=Qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hh(t,e){if(e){if(oS[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function Wh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qh=null;function yp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Kh=null,Ks=null,Gs=null;function $g(t){if(t=gl(t)){if(typeof Kh!="function")throw Error(H(280));var e=t.stateNode;e&&(e=Hc(e),Kh(t.stateNode,t.type,e))}}function w0(t){Ks?Gs?Gs.push(t):Gs=[t]:Ks=t}function E0(){if(Ks){var t=Ks,e=Gs;if(Gs=Ks=null,$g(t),e)for(t=0;t<e.length;t++)$g(e[t])}}function T0(t,e){return t(e)}function I0(){}var $d=!1;function S0(t,e,n){if($d)return t(e,n);$d=!0;try{return T0(t,e,n)}finally{$d=!1,(Ks!==null||Gs!==null)&&(I0(),E0())}}function Oa(t,e){var n=t.stateNode;if(n===null)return null;var r=Hc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(H(231,e,typeof n));return n}var Gh=!1;if(Ir)try{var Ko={};Object.defineProperty(Ko,"passive",{get:function(){Gh=!0}}),window.addEventListener("test",Ko,Ko),window.removeEventListener("test",Ko,Ko)}catch{Gh=!1}function aS(t,e,n,r,i,s,o,l,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var ga=!1,Hu=null,Wu=!1,Qh=null,lS={onError:function(t){ga=!0,Hu=t}};function uS(t,e,n,r,i,s,o,l,u){ga=!1,Hu=null,aS.apply(lS,arguments)}function cS(t,e,n,r,i,s,o,l,u){if(uS.apply(this,arguments),ga){if(ga){var c=Hu;ga=!1,Hu=null}else throw Error(H(198));Wu||(Wu=!0,Qh=c)}}function ds(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function x0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Hg(t){if(ds(t)!==t)throw Error(H(188))}function dS(t){var e=t.alternate;if(!e){if(e=ds(t),e===null)throw Error(H(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Hg(i),t;if(s===r)return Hg(i),e;s=s.sibling}throw Error(H(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?t:e}function R0(t){return t=dS(t),t!==null?P0(t):null}function P0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=P0(t);if(e!==null)return e;t=t.sibling}return null}var C0=un.unstable_scheduleCallback,Wg=un.unstable_cancelCallback,hS=un.unstable_shouldYield,fS=un.unstable_requestPaint,nt=un.unstable_now,pS=un.unstable_getCurrentPriorityLevel,vp=un.unstable_ImmediatePriority,A0=un.unstable_UserBlockingPriority,qu=un.unstable_NormalPriority,mS=un.unstable_LowPriority,k0=un.unstable_IdlePriority,Uc=null,Gn=null;function gS(t){if(Gn&&typeof Gn.onCommitFiberRoot=="function")try{Gn.onCommitFiberRoot(Uc,t,void 0,(t.current.flags&128)===128)}catch{}}var Vn=Math.clz32?Math.clz32:_S,yS=Math.log,vS=Math.LN2;function _S(t){return t>>>=0,t===0?32:31-(yS(t)/vS|0)|0}var Yl=64,Jl=4194304;function oa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ku(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=oa(l):(s&=o,s!==0&&(r=oa(s)))}else o=n&~i,o!==0?r=oa(o):s!==0&&(r=oa(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Vn(e),i=1<<n,r|=t[n],e&=~i;return r}function wS(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ES(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Vn(s),l=1<<o,u=i[o];u===-1?(!(l&n)||l&r)&&(i[o]=wS(l,e)):u<=e&&(t.expiredLanes|=l),s&=~l}}function Xh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function N0(){var t=Yl;return Yl<<=1,!(Yl&4194240)&&(Yl=64),t}function Hd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function pl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Vn(e),t[e]=n}function TS(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Vn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function _p(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Vn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var be=0;function b0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var D0,wp,O0,L0,M0,Yh=!1,Zl=[],ri=null,ii=null,si=null,La=new Map,Ma=new Map,Kr=[],IS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qg(t,e){switch(t){case"focusin":case"focusout":ri=null;break;case"dragenter":case"dragleave":ii=null;break;case"mouseover":case"mouseout":si=null;break;case"pointerover":case"pointerout":La.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ma.delete(e.pointerId)}}function Go(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=gl(e),e!==null&&wp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function SS(t,e,n,r,i){switch(e){case"focusin":return ri=Go(ri,t,e,n,r,i),!0;case"dragenter":return ii=Go(ii,t,e,n,r,i),!0;case"mouseover":return si=Go(si,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return La.set(s,Go(La.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ma.set(s,Go(Ma.get(s)||null,t,e,n,r,i)),!0}return!1}function V0(t){var e=Ui(t.target);if(e!==null){var n=ds(e);if(n!==null){if(e=n.tag,e===13){if(e=x0(n),e!==null){t.blockedOn=e,M0(t.priority,function(){O0(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Iu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Jh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);qh=r,n.target.dispatchEvent(r),qh=null}else return e=gl(n),e!==null&&wp(e),t.blockedOn=n,!1;e.shift()}return!0}function Kg(t,e,n){Iu(t)&&n.delete(e)}function xS(){Yh=!1,ri!==null&&Iu(ri)&&(ri=null),ii!==null&&Iu(ii)&&(ii=null),si!==null&&Iu(si)&&(si=null),La.forEach(Kg),Ma.forEach(Kg)}function Qo(t,e){t.blockedOn===e&&(t.blockedOn=null,Yh||(Yh=!0,un.unstable_scheduleCallback(un.unstable_NormalPriority,xS)))}function Va(t){function e(i){return Qo(i,t)}if(0<Zl.length){Qo(Zl[0],t);for(var n=1;n<Zl.length;n++){var r=Zl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ri!==null&&Qo(ri,t),ii!==null&&Qo(ii,t),si!==null&&Qo(si,t),La.forEach(e),Ma.forEach(e),n=0;n<Kr.length;n++)r=Kr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Kr.length&&(n=Kr[0],n.blockedOn===null);)V0(n),n.blockedOn===null&&Kr.shift()}var Qs=br.ReactCurrentBatchConfig,Gu=!0;function RS(t,e,n,r){var i=be,s=Qs.transition;Qs.transition=null;try{be=1,Ep(t,e,n,r)}finally{be=i,Qs.transition=s}}function PS(t,e,n,r){var i=be,s=Qs.transition;Qs.transition=null;try{be=4,Ep(t,e,n,r)}finally{be=i,Qs.transition=s}}function Ep(t,e,n,r){if(Gu){var i=Jh(t,e,n,r);if(i===null)eh(t,e,r,Qu,n),qg(t,r);else if(SS(i,t,e,n,r))r.stopPropagation();else if(qg(t,r),e&4&&-1<IS.indexOf(t)){for(;i!==null;){var s=gl(i);if(s!==null&&D0(s),s=Jh(t,e,n,r),s===null&&eh(t,e,r,Qu,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else eh(t,e,r,null,n)}}var Qu=null;function Jh(t,e,n,r){if(Qu=null,t=yp(r),t=Ui(t),t!==null)if(e=ds(t),e===null)t=null;else if(n=e.tag,n===13){if(t=x0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Qu=t,null}function j0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pS()){case vp:return 1;case A0:return 4;case qu:case mS:return 16;case k0:return 536870912;default:return 16}default:return 16}}var Zr=null,Tp=null,Su=null;function F0(){if(Su)return Su;var t,e=Tp,n=e.length,r,i="value"in Zr?Zr.value:Zr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Su=i.slice(t,1<r?1-r:void 0)}function xu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function eu(){return!0}function Gg(){return!1}function fn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?eu:Gg,this.isPropagationStopped=Gg,this}return Qe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=eu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=eu)},persist:function(){},isPersistent:eu}),e}var Eo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ip=fn(Eo),ml=Qe({},Eo,{view:0,detail:0}),CS=fn(ml),Wd,qd,Xo,zc=Qe({},ml,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Xo&&(Xo&&t.type==="mousemove"?(Wd=t.screenX-Xo.screenX,qd=t.screenY-Xo.screenY):qd=Wd=0,Xo=t),Wd)},movementY:function(t){return"movementY"in t?t.movementY:qd}}),Qg=fn(zc),AS=Qe({},zc,{dataTransfer:0}),kS=fn(AS),NS=Qe({},ml,{relatedTarget:0}),Kd=fn(NS),bS=Qe({},Eo,{animationName:0,elapsedTime:0,pseudoElement:0}),DS=fn(bS),OS=Qe({},Eo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),LS=fn(OS),MS=Qe({},Eo,{data:0}),Xg=fn(MS),VS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},FS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function US(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=FS[t])?!!e[t]:!1}function Sp(){return US}var zS=Qe({},ml,{key:function(t){if(t.key){var e=VS[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=xu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?jS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sp,charCode:function(t){return t.type==="keypress"?xu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),BS=fn(zS),$S=Qe({},zc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yg=fn($S),HS=Qe({},ml,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sp}),WS=fn(HS),qS=Qe({},Eo,{propertyName:0,elapsedTime:0,pseudoElement:0}),KS=fn(qS),GS=Qe({},zc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),QS=fn(GS),XS=[9,13,27,32],xp=Ir&&"CompositionEvent"in window,ya=null;Ir&&"documentMode"in document&&(ya=document.documentMode);var YS=Ir&&"TextEvent"in window&&!ya,U0=Ir&&(!xp||ya&&8<ya&&11>=ya),Jg=" ",Zg=!1;function z0(t,e){switch(t){case"keyup":return XS.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function B0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ls=!1;function JS(t,e){switch(t){case"compositionend":return B0(e);case"keypress":return e.which!==32?null:(Zg=!0,Jg);case"textInput":return t=e.data,t===Jg&&Zg?null:t;default:return null}}function ZS(t,e){if(Ls)return t==="compositionend"||!xp&&z0(t,e)?(t=F0(),Su=Tp=Zr=null,Ls=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return U0&&e.locale!=="ko"?null:e.data;default:return null}}var ex={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ey(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!ex[t.type]:e==="textarea"}function $0(t,e,n,r){w0(r),e=Xu(e,"onChange"),0<e.length&&(n=new Ip("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var va=null,ja=null;function tx(t){ew(t,0)}function Bc(t){var e=js(t);if(f0(e))return t}function nx(t,e){if(t==="change")return e}var H0=!1;if(Ir){var Gd;if(Ir){var Qd="oninput"in document;if(!Qd){var ty=document.createElement("div");ty.setAttribute("oninput","return;"),Qd=typeof ty.oninput=="function"}Gd=Qd}else Gd=!1;H0=Gd&&(!document.documentMode||9<document.documentMode)}function ny(){va&&(va.detachEvent("onpropertychange",W0),ja=va=null)}function W0(t){if(t.propertyName==="value"&&Bc(ja)){var e=[];$0(e,ja,t,yp(t)),S0(tx,e)}}function rx(t,e,n){t==="focusin"?(ny(),va=e,ja=n,va.attachEvent("onpropertychange",W0)):t==="focusout"&&ny()}function ix(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bc(ja)}function sx(t,e){if(t==="click")return Bc(e)}function ox(t,e){if(t==="input"||t==="change")return Bc(e)}function ax(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Fn=typeof Object.is=="function"?Object.is:ax;function Fa(t,e){if(Fn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Oh.call(e,i)||!Fn(t[i],e[i]))return!1}return!0}function ry(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function iy(t,e){var n=ry(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ry(n)}}function q0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?q0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function K0(){for(var t=window,e=$u();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=$u(t.document)}return e}function Rp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function lx(t){var e=K0(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&q0(n.ownerDocument.documentElement,n)){if(r!==null&&Rp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=iy(n,s);var o=iy(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ux=Ir&&"documentMode"in document&&11>=document.documentMode,Ms=null,Zh=null,_a=null,ef=!1;function sy(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ef||Ms==null||Ms!==$u(r)||(r=Ms,"selectionStart"in r&&Rp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),_a&&Fa(_a,r)||(_a=r,r=Xu(Zh,"onSelect"),0<r.length&&(e=new Ip("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ms)))}function tu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Vs={animationend:tu("Animation","AnimationEnd"),animationiteration:tu("Animation","AnimationIteration"),animationstart:tu("Animation","AnimationStart"),transitionend:tu("Transition","TransitionEnd")},Xd={},G0={};Ir&&(G0=document.createElement("div").style,"AnimationEvent"in window||(delete Vs.animationend.animation,delete Vs.animationiteration.animation,delete Vs.animationstart.animation),"TransitionEvent"in window||delete Vs.transitionend.transition);function $c(t){if(Xd[t])return Xd[t];if(!Vs[t])return t;var e=Vs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in G0)return Xd[t]=e[n];return t}var Q0=$c("animationend"),X0=$c("animationiteration"),Y0=$c("animationstart"),J0=$c("transitionend"),Z0=new Map,oy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ti(t,e){Z0.set(t,e),cs(e,[t])}for(var Yd=0;Yd<oy.length;Yd++){var Jd=oy[Yd],cx=Jd.toLowerCase(),dx=Jd[0].toUpperCase()+Jd.slice(1);Ti(cx,"on"+dx)}Ti(Q0,"onAnimationEnd");Ti(X0,"onAnimationIteration");Ti(Y0,"onAnimationStart");Ti("dblclick","onDoubleClick");Ti("focusin","onFocus");Ti("focusout","onBlur");Ti(J0,"onTransitionEnd");no("onMouseEnter",["mouseout","mouseover"]);no("onMouseLeave",["mouseout","mouseover"]);no("onPointerEnter",["pointerout","pointerover"]);no("onPointerLeave",["pointerout","pointerover"]);cs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));cs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));cs("onBeforeInput",["compositionend","keypress","textInput","paste"]);cs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));cs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));cs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var aa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hx=new Set("cancel close invalid load scroll toggle".split(" ").concat(aa));function ay(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,cS(r,e,void 0,t),t.currentTarget=null}function ew(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==s&&i.isPropagationStopped())break e;ay(i,l,c),s=u}else for(o=0;o<r.length;o++){if(l=r[o],u=l.instance,c=l.currentTarget,l=l.listener,u!==s&&i.isPropagationStopped())break e;ay(i,l,c),s=u}}}if(Wu)throw t=Qh,Wu=!1,Qh=null,t}function Be(t,e){var n=e[of];n===void 0&&(n=e[of]=new Set);var r=t+"__bubble";n.has(r)||(tw(e,t,2,!1),n.add(r))}function Zd(t,e,n){var r=0;e&&(r|=4),tw(n,t,r,e)}var nu="_reactListening"+Math.random().toString(36).slice(2);function Ua(t){if(!t[nu]){t[nu]=!0,l0.forEach(function(n){n!=="selectionchange"&&(hx.has(n)||Zd(n,!1,t),Zd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[nu]||(e[nu]=!0,Zd("selectionchange",!1,e))}}function tw(t,e,n,r){switch(j0(e)){case 1:var i=RS;break;case 4:i=PS;break;default:i=Ep}n=i.bind(null,e,n,t),i=void 0,!Gh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function eh(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Ui(l),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}l=l.parentNode}}r=r.return}S0(function(){var c=s,h=yp(n),f=[];e:{var m=Z0.get(t);if(m!==void 0){var S=Ip,x=t;switch(t){case"keypress":if(xu(n)===0)break e;case"keydown":case"keyup":S=BS;break;case"focusin":x="focus",S=Kd;break;case"focusout":x="blur",S=Kd;break;case"beforeblur":case"afterblur":S=Kd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":S=Qg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":S=kS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":S=WS;break;case Q0:case X0:case Y0:S=DS;break;case J0:S=KS;break;case"scroll":S=CS;break;case"wheel":S=QS;break;case"copy":case"cut":case"paste":S=LS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":S=Yg}var R=(e&4)!==0,A=!R&&t==="scroll",I=R?m!==null?m+"Capture":null:m;R=[];for(var v=c,w;v!==null;){w=v;var b=w.stateNode;if(w.tag===5&&b!==null&&(w=b,I!==null&&(b=Oa(v,I),b!=null&&R.push(za(v,b,w)))),A)break;v=v.return}0<R.length&&(m=new S(m,x,null,n,h),f.push({event:m,listeners:R}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",S=t==="mouseout"||t==="pointerout",m&&n!==qh&&(x=n.relatedTarget||n.fromElement)&&(Ui(x)||x[Sr]))break e;if((S||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,S?(x=n.relatedTarget||n.toElement,S=c,x=x?Ui(x):null,x!==null&&(A=ds(x),x!==A||x.tag!==5&&x.tag!==6)&&(x=null)):(S=null,x=c),S!==x)){if(R=Qg,b="onMouseLeave",I="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(R=Yg,b="onPointerLeave",I="onPointerEnter",v="pointer"),A=S==null?m:js(S),w=x==null?m:js(x),m=new R(b,v+"leave",S,n,h),m.target=A,m.relatedTarget=w,b=null,Ui(h)===c&&(R=new R(I,v+"enter",x,n,h),R.target=w,R.relatedTarget=A,b=R),A=b,S&&x)t:{for(R=S,I=x,v=0,w=R;w;w=Cs(w))v++;for(w=0,b=I;b;b=Cs(b))w++;for(;0<v-w;)R=Cs(R),v--;for(;0<w-v;)I=Cs(I),w--;for(;v--;){if(R===I||I!==null&&R===I.alternate)break t;R=Cs(R),I=Cs(I)}R=null}else R=null;S!==null&&ly(f,m,S,R,!1),x!==null&&A!==null&&ly(f,A,x,R,!0)}}e:{if(m=c?js(c):window,S=m.nodeName&&m.nodeName.toLowerCase(),S==="select"||S==="input"&&m.type==="file")var U=nx;else if(ey(m))if(H0)U=ox;else{U=ix;var N=rx}else(S=m.nodeName)&&S.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(U=sx);if(U&&(U=U(t,c))){$0(f,U,n,h);break e}N&&N(t,m,c),t==="focusout"&&(N=m._wrapperState)&&N.controlled&&m.type==="number"&&zh(m,"number",m.value)}switch(N=c?js(c):window,t){case"focusin":(ey(N)||N.contentEditable==="true")&&(Ms=N,Zh=c,_a=null);break;case"focusout":_a=Zh=Ms=null;break;case"mousedown":ef=!0;break;case"contextmenu":case"mouseup":case"dragend":ef=!1,sy(f,n,h);break;case"selectionchange":if(ux)break;case"keydown":case"keyup":sy(f,n,h)}var T;if(xp)e:{switch(t){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Ls?z0(t,n)&&(y="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(y="onCompositionStart");y&&(U0&&n.locale!=="ko"&&(Ls||y!=="onCompositionStart"?y==="onCompositionEnd"&&Ls&&(T=F0()):(Zr=h,Tp="value"in Zr?Zr.value:Zr.textContent,Ls=!0)),N=Xu(c,y),0<N.length&&(y=new Xg(y,t,null,n,h),f.push({event:y,listeners:N}),T?y.data=T:(T=B0(n),T!==null&&(y.data=T)))),(T=YS?JS(t,n):ZS(t,n))&&(c=Xu(c,"onBeforeInput"),0<c.length&&(h=new Xg("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:c}),h.data=T))}ew(f,e)})}function za(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Xu(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Oa(t,n),s!=null&&r.unshift(za(t,s,i)),s=Oa(t,e),s!=null&&r.push(za(t,s,i))),t=t.return}return r}function Cs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ly(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,u=l.alternate,c=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&c!==null&&(l=c,i?(u=Oa(n,s),u!=null&&o.unshift(za(n,u,l))):i||(u=Oa(n,s),u!=null&&o.push(za(n,u,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var fx=/\r\n?/g,px=/\u0000|\uFFFD/g;function uy(t){return(typeof t=="string"?t:""+t).replace(fx,`
`).replace(px,"")}function ru(t,e,n){if(e=uy(e),uy(t)!==e&&n)throw Error(H(425))}function Yu(){}var tf=null,nf=null;function rf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var sf=typeof setTimeout=="function"?setTimeout:void 0,mx=typeof clearTimeout=="function"?clearTimeout:void 0,cy=typeof Promise=="function"?Promise:void 0,gx=typeof queueMicrotask=="function"?queueMicrotask:typeof cy<"u"?function(t){return cy.resolve(null).then(t).catch(yx)}:sf;function yx(t){setTimeout(function(){throw t})}function th(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Va(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Va(e)}function oi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function dy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var To=Math.random().toString(36).slice(2),qn="__reactFiber$"+To,Ba="__reactProps$"+To,Sr="__reactContainer$"+To,of="__reactEvents$"+To,vx="__reactListeners$"+To,_x="__reactHandles$"+To;function Ui(t){var e=t[qn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Sr]||n[qn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=dy(t);t!==null;){if(n=t[qn])return n;t=dy(t)}return e}t=n,n=t.parentNode}return null}function gl(t){return t=t[qn]||t[Sr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function js(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function Hc(t){return t[Ba]||null}var af=[],Fs=-1;function Ii(t){return{current:t}}function $e(t){0>Fs||(t.current=af[Fs],af[Fs]=null,Fs--)}function Ve(t,e){Fs++,af[Fs]=t.current,t.current=e}var mi={},Vt=Ii(mi),Qt=Ii(!1),Xi=mi;function ro(t,e){var n=t.type.contextTypes;if(!n)return mi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Xt(t){return t=t.childContextTypes,t!=null}function Ju(){$e(Qt),$e(Vt)}function hy(t,e,n){if(Vt.current!==mi)throw Error(H(168));Ve(Vt,e),Ve(Qt,n)}function nw(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(H(108,rS(t)||"Unknown",i));return Qe({},n,r)}function Zu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||mi,Xi=Vt.current,Ve(Vt,t),Ve(Qt,Qt.current),!0}function fy(t,e,n){var r=t.stateNode;if(!r)throw Error(H(169));n?(t=nw(t,e,Xi),r.__reactInternalMemoizedMergedChildContext=t,$e(Qt),$e(Vt),Ve(Vt,t)):$e(Qt),Ve(Qt,n)}var fr=null,Wc=!1,nh=!1;function rw(t){fr===null?fr=[t]:fr.push(t)}function wx(t){Wc=!0,rw(t)}function Si(){if(!nh&&fr!==null){nh=!0;var t=0,e=be;try{var n=fr;for(be=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}fr=null,Wc=!1}catch(i){throw fr!==null&&(fr=fr.slice(t+1)),C0(vp,Si),i}finally{be=e,nh=!1}}return null}var Us=[],zs=0,ec=null,tc=0,gn=[],yn=0,Yi=null,pr=1,mr="";function Li(t,e){Us[zs++]=tc,Us[zs++]=ec,ec=t,tc=e}function iw(t,e,n){gn[yn++]=pr,gn[yn++]=mr,gn[yn++]=Yi,Yi=t;var r=pr;t=mr;var i=32-Vn(r)-1;r&=~(1<<i),n+=1;var s=32-Vn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,pr=1<<32-Vn(e)+i|n<<i|r,mr=s+t}else pr=1<<s|n<<i|r,mr=t}function Pp(t){t.return!==null&&(Li(t,1),iw(t,1,0))}function Cp(t){for(;t===ec;)ec=Us[--zs],Us[zs]=null,tc=Us[--zs],Us[zs]=null;for(;t===Yi;)Yi=gn[--yn],gn[yn]=null,mr=gn[--yn],gn[yn]=null,pr=gn[--yn],gn[yn]=null}var ln=null,sn=null,We=!1,Dn=null;function sw(t,e){var n=_n(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function py(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ln=t,sn=oi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ln=t,sn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Yi!==null?{id:pr,overflow:mr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=_n(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ln=t,sn=null,!0):!1;default:return!1}}function lf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function uf(t){if(We){var e=sn;if(e){var n=e;if(!py(t,e)){if(lf(t))throw Error(H(418));e=oi(n.nextSibling);var r=ln;e&&py(t,e)?sw(r,n):(t.flags=t.flags&-4097|2,We=!1,ln=t)}}else{if(lf(t))throw Error(H(418));t.flags=t.flags&-4097|2,We=!1,ln=t}}}function my(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ln=t}function iu(t){if(t!==ln)return!1;if(!We)return my(t),We=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!rf(t.type,t.memoizedProps)),e&&(e=sn)){if(lf(t))throw ow(),Error(H(418));for(;e;)sw(t,e),e=oi(e.nextSibling)}if(my(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){sn=oi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}sn=null}}else sn=ln?oi(t.stateNode.nextSibling):null;return!0}function ow(){for(var t=sn;t;)t=oi(t.nextSibling)}function io(){sn=ln=null,We=!1}function Ap(t){Dn===null?Dn=[t]:Dn.push(t)}var Ex=br.ReactCurrentBatchConfig;function Yo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,t))}return t}function su(t,e){throw t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function gy(t){var e=t._init;return e(t._payload)}function aw(t){function e(I,v){if(t){var w=I.deletions;w===null?(I.deletions=[v],I.flags|=16):w.push(v)}}function n(I,v){if(!t)return null;for(;v!==null;)e(I,v),v=v.sibling;return null}function r(I,v){for(I=new Map;v!==null;)v.key!==null?I.set(v.key,v):I.set(v.index,v),v=v.sibling;return I}function i(I,v){return I=ci(I,v),I.index=0,I.sibling=null,I}function s(I,v,w){return I.index=w,t?(w=I.alternate,w!==null?(w=w.index,w<v?(I.flags|=2,v):w):(I.flags|=2,v)):(I.flags|=1048576,v)}function o(I){return t&&I.alternate===null&&(I.flags|=2),I}function l(I,v,w,b){return v===null||v.tag!==6?(v=uh(w,I.mode,b),v.return=I,v):(v=i(v,w),v.return=I,v)}function u(I,v,w,b){var U=w.type;return U===Os?h(I,v,w.props.children,b,w.key):v!==null&&(v.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===Wr&&gy(U)===v.type)?(b=i(v,w.props),b.ref=Yo(I,v,w),b.return=I,b):(b=bu(w.type,w.key,w.props,null,I.mode,b),b.ref=Yo(I,v,w),b.return=I,b)}function c(I,v,w,b){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=ch(w,I.mode,b),v.return=I,v):(v=i(v,w.children||[]),v.return=I,v)}function h(I,v,w,b,U){return v===null||v.tag!==7?(v=Ki(w,I.mode,b,U),v.return=I,v):(v=i(v,w),v.return=I,v)}function f(I,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=uh(""+v,I.mode,w),v.return=I,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Gl:return w=bu(v.type,v.key,v.props,null,I.mode,w),w.ref=Yo(I,null,v),w.return=I,w;case Ds:return v=ch(v,I.mode,w),v.return=I,v;case Wr:var b=v._init;return f(I,b(v._payload),w)}if(sa(v)||qo(v))return v=Ki(v,I.mode,w,null),v.return=I,v;su(I,v)}return null}function m(I,v,w,b){var U=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return U!==null?null:l(I,v,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Gl:return w.key===U?u(I,v,w,b):null;case Ds:return w.key===U?c(I,v,w,b):null;case Wr:return U=w._init,m(I,v,U(w._payload),b)}if(sa(w)||qo(w))return U!==null?null:h(I,v,w,b,null);su(I,w)}return null}function S(I,v,w,b,U){if(typeof b=="string"&&b!==""||typeof b=="number")return I=I.get(w)||null,l(v,I,""+b,U);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Gl:return I=I.get(b.key===null?w:b.key)||null,u(v,I,b,U);case Ds:return I=I.get(b.key===null?w:b.key)||null,c(v,I,b,U);case Wr:var N=b._init;return S(I,v,w,N(b._payload),U)}if(sa(b)||qo(b))return I=I.get(w)||null,h(v,I,b,U,null);su(v,b)}return null}function x(I,v,w,b){for(var U=null,N=null,T=v,y=v=0,E=null;T!==null&&y<w.length;y++){T.index>y?(E=T,T=null):E=T.sibling;var P=m(I,T,w[y],b);if(P===null){T===null&&(T=E);break}t&&T&&P.alternate===null&&e(I,T),v=s(P,v,y),N===null?U=P:N.sibling=P,N=P,T=E}if(y===w.length)return n(I,T),We&&Li(I,y),U;if(T===null){for(;y<w.length;y++)T=f(I,w[y],b),T!==null&&(v=s(T,v,y),N===null?U=T:N.sibling=T,N=T);return We&&Li(I,y),U}for(T=r(I,T);y<w.length;y++)E=S(T,I,y,w[y],b),E!==null&&(t&&E.alternate!==null&&T.delete(E.key===null?y:E.key),v=s(E,v,y),N===null?U=E:N.sibling=E,N=E);return t&&T.forEach(function(k){return e(I,k)}),We&&Li(I,y),U}function R(I,v,w,b){var U=qo(w);if(typeof U!="function")throw Error(H(150));if(w=U.call(w),w==null)throw Error(H(151));for(var N=U=null,T=v,y=v=0,E=null,P=w.next();T!==null&&!P.done;y++,P=w.next()){T.index>y?(E=T,T=null):E=T.sibling;var k=m(I,T,P.value,b);if(k===null){T===null&&(T=E);break}t&&T&&k.alternate===null&&e(I,T),v=s(k,v,y),N===null?U=k:N.sibling=k,N=k,T=E}if(P.done)return n(I,T),We&&Li(I,y),U;if(T===null){for(;!P.done;y++,P=w.next())P=f(I,P.value,b),P!==null&&(v=s(P,v,y),N===null?U=P:N.sibling=P,N=P);return We&&Li(I,y),U}for(T=r(I,T);!P.done;y++,P=w.next())P=S(T,I,y,P.value,b),P!==null&&(t&&P.alternate!==null&&T.delete(P.key===null?y:P.key),v=s(P,v,y),N===null?U=P:N.sibling=P,N=P);return t&&T.forEach(function(O){return e(I,O)}),We&&Li(I,y),U}function A(I,v,w,b){if(typeof w=="object"&&w!==null&&w.type===Os&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Gl:e:{for(var U=w.key,N=v;N!==null;){if(N.key===U){if(U=w.type,U===Os){if(N.tag===7){n(I,N.sibling),v=i(N,w.props.children),v.return=I,I=v;break e}}else if(N.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===Wr&&gy(U)===N.type){n(I,N.sibling),v=i(N,w.props),v.ref=Yo(I,N,w),v.return=I,I=v;break e}n(I,N);break}else e(I,N);N=N.sibling}w.type===Os?(v=Ki(w.props.children,I.mode,b,w.key),v.return=I,I=v):(b=bu(w.type,w.key,w.props,null,I.mode,b),b.ref=Yo(I,v,w),b.return=I,I=b)}return o(I);case Ds:e:{for(N=w.key;v!==null;){if(v.key===N)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){n(I,v.sibling),v=i(v,w.children||[]),v.return=I,I=v;break e}else{n(I,v);break}else e(I,v);v=v.sibling}v=ch(w,I.mode,b),v.return=I,I=v}return o(I);case Wr:return N=w._init,A(I,v,N(w._payload),b)}if(sa(w))return x(I,v,w,b);if(qo(w))return R(I,v,w,b);su(I,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(n(I,v.sibling),v=i(v,w),v.return=I,I=v):(n(I,v),v=uh(w,I.mode,b),v.return=I,I=v),o(I)):n(I,v)}return A}var so=aw(!0),lw=aw(!1),nc=Ii(null),rc=null,Bs=null,kp=null;function Np(){kp=Bs=rc=null}function bp(t){var e=nc.current;$e(nc),t._currentValue=e}function cf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Xs(t,e){rc=t,kp=Bs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Gt=!0),t.firstContext=null)}function Tn(t){var e=t._currentValue;if(kp!==t)if(t={context:t,memoizedValue:e,next:null},Bs===null){if(rc===null)throw Error(H(308));Bs=t,rc.dependencies={lanes:0,firstContext:t}}else Bs=Bs.next=t;return e}var zi=null;function Dp(t){zi===null?zi=[t]:zi.push(t)}function uw(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Dp(e)):(n.next=i.next,i.next=n),e.interleaved=n,xr(t,r)}function xr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var qr=!1;function Op(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function _r(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ai(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,xe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,xr(t,n)}return i=r.interleaved,i===null?(e.next=e,Dp(r)):(e.next=i.next,i.next=e),r.interleaved=e,xr(t,n)}function Ru(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,_p(t,n)}}function yy(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ic(t,e,n,r){var i=t.updateQueue;qr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=c:l.next=c,h.lastBaseUpdate=u))}if(s!==null){var f=i.baseState;o=0,h=c=u=null,l=s;do{var m=l.lane,S=l.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:S,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=t,R=l;switch(m=e,S=n,R.tag){case 1:if(x=R.payload,typeof x=="function"){f=x.call(S,f,m);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=R.payload,m=typeof x=="function"?x.call(S,f,m):x,m==null)break e;f=Qe({},f,m);break e;case 2:qr=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else S={eventTime:S,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(c=h=S,u=f):h=h.next=S,o|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(h===null&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Zi|=o,t.lanes=o,t.memoizedState=f}}function vy(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(H(191,i));i.call(r)}}}var yl={},Qn=Ii(yl),$a=Ii(yl),Ha=Ii(yl);function Bi(t){if(t===yl)throw Error(H(174));return t}function Lp(t,e){switch(Ve(Ha,e),Ve($a,t),Ve(Qn,yl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:$h(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=$h(e,t)}$e(Qn),Ve(Qn,e)}function oo(){$e(Qn),$e($a),$e(Ha)}function dw(t){Bi(Ha.current);var e=Bi(Qn.current),n=$h(e,t.type);e!==n&&(Ve($a,t),Ve(Qn,n))}function Mp(t){$a.current===t&&($e(Qn),$e($a))}var Ke=Ii(0);function sc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var rh=[];function Vp(){for(var t=0;t<rh.length;t++)rh[t]._workInProgressVersionPrimary=null;rh.length=0}var Pu=br.ReactCurrentDispatcher,ih=br.ReactCurrentBatchConfig,Ji=0,Ge=null,ut=null,mt=null,oc=!1,wa=!1,Wa=0,Tx=0;function Nt(){throw Error(H(321))}function jp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Fn(t[n],e[n]))return!1;return!0}function Fp(t,e,n,r,i,s){if(Ji=s,Ge=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Pu.current=t===null||t.memoizedState===null?Rx:Px,t=n(r,i),wa){s=0;do{if(wa=!1,Wa=0,25<=s)throw Error(H(301));s+=1,mt=ut=null,e.updateQueue=null,Pu.current=Cx,t=n(r,i)}while(wa)}if(Pu.current=ac,e=ut!==null&&ut.next!==null,Ji=0,mt=ut=Ge=null,oc=!1,e)throw Error(H(300));return t}function Up(){var t=Wa!==0;return Wa=0,t}function Wn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?Ge.memoizedState=mt=t:mt=mt.next=t,mt}function In(){if(ut===null){var t=Ge.alternate;t=t!==null?t.memoizedState:null}else t=ut.next;var e=mt===null?Ge.memoizedState:mt.next;if(e!==null)mt=e,ut=t;else{if(t===null)throw Error(H(310));ut=t,t={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},mt===null?Ge.memoizedState=mt=t:mt=mt.next=t}return mt}function qa(t,e){return typeof e=="function"?e(t):e}function sh(t){var e=In(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=ut,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,u=null,c=s;do{var h=c.lane;if((Ji&h)===h)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=f,o=r):u=u.next=f,Ge.lanes|=h,Zi|=h}c=c.next}while(c!==null&&c!==s);u===null?o=r:u.next=l,Fn(r,e.memoizedState)||(Gt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ge.lanes|=s,Zi|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function oh(t){var e=In(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Fn(s,e.memoizedState)||(Gt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function hw(){}function fw(t,e){var n=Ge,r=In(),i=e(),s=!Fn(r.memoizedState,i);if(s&&(r.memoizedState=i,Gt=!0),r=r.queue,zp(gw.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||mt!==null&&mt.memoizedState.tag&1){if(n.flags|=2048,Ka(9,mw.bind(null,n,r,i,e),void 0,null),gt===null)throw Error(H(349));Ji&30||pw(n,e,i)}return i}function pw(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ge.updateQueue,e===null?(e={lastEffect:null,stores:null},Ge.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function mw(t,e,n,r){e.value=n,e.getSnapshot=r,yw(e)&&vw(t)}function gw(t,e,n){return n(function(){yw(e)&&vw(t)})}function yw(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Fn(t,n)}catch{return!0}}function vw(t){var e=xr(t,1);e!==null&&jn(e,t,1,-1)}function _y(t){var e=Wn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:t},e.queue=t,t=t.dispatch=xx.bind(null,Ge,t),[e.memoizedState,t]}function Ka(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ge.updateQueue,e===null?(e={lastEffect:null,stores:null},Ge.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function _w(){return In().memoizedState}function Cu(t,e,n,r){var i=Wn();Ge.flags|=t,i.memoizedState=Ka(1|e,n,void 0,r===void 0?null:r)}function qc(t,e,n,r){var i=In();r=r===void 0?null:r;var s=void 0;if(ut!==null){var o=ut.memoizedState;if(s=o.destroy,r!==null&&jp(r,o.deps)){i.memoizedState=Ka(e,n,s,r);return}}Ge.flags|=t,i.memoizedState=Ka(1|e,n,s,r)}function wy(t,e){return Cu(8390656,8,t,e)}function zp(t,e){return qc(2048,8,t,e)}function ww(t,e){return qc(4,2,t,e)}function Ew(t,e){return qc(4,4,t,e)}function Tw(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Iw(t,e,n){return n=n!=null?n.concat([t]):null,qc(4,4,Tw.bind(null,e,t),n)}function Bp(){}function Sw(t,e){var n=In();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&jp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function xw(t,e){var n=In();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&jp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Rw(t,e,n){return Ji&21?(Fn(n,e)||(n=N0(),Ge.lanes|=n,Zi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Gt=!0),t.memoizedState=n)}function Ix(t,e){var n=be;be=n!==0&&4>n?n:4,t(!0);var r=ih.transition;ih.transition={};try{t(!1),e()}finally{be=n,ih.transition=r}}function Pw(){return In().memoizedState}function Sx(t,e,n){var r=ui(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Cw(t))Aw(e,n);else if(n=uw(t,e,n,r),n!==null){var i=$t();jn(n,t,r,i),kw(n,e,r)}}function xx(t,e,n){var r=ui(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Cw(t))Aw(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,Fn(l,o)){var u=e.interleaved;u===null?(i.next=i,Dp(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=uw(t,e,i,r),n!==null&&(i=$t(),jn(n,t,r,i),kw(n,e,r))}}function Cw(t){var e=t.alternate;return t===Ge||e!==null&&e===Ge}function Aw(t,e){wa=oc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function kw(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,_p(t,n)}}var ac={readContext:Tn,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useInsertionEffect:Nt,useLayoutEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useMutableSource:Nt,useSyncExternalStore:Nt,useId:Nt,unstable_isNewReconciler:!1},Rx={readContext:Tn,useCallback:function(t,e){return Wn().memoizedState=[t,e===void 0?null:e],t},useContext:Tn,useEffect:wy,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Cu(4194308,4,Tw.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Cu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Cu(4,2,t,e)},useMemo:function(t,e){var n=Wn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Wn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Sx.bind(null,Ge,t),[r.memoizedState,t]},useRef:function(t){var e=Wn();return t={current:t},e.memoizedState=t},useState:_y,useDebugValue:Bp,useDeferredValue:function(t){return Wn().memoizedState=t},useTransition:function(){var t=_y(!1),e=t[0];return t=Ix.bind(null,t[1]),Wn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ge,i=Wn();if(We){if(n===void 0)throw Error(H(407));n=n()}else{if(n=e(),gt===null)throw Error(H(349));Ji&30||pw(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,wy(gw.bind(null,r,s,t),[t]),r.flags|=2048,Ka(9,mw.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Wn(),e=gt.identifierPrefix;if(We){var n=mr,r=pr;n=(r&~(1<<32-Vn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Wa++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Tx++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Px={readContext:Tn,useCallback:Sw,useContext:Tn,useEffect:zp,useImperativeHandle:Iw,useInsertionEffect:ww,useLayoutEffect:Ew,useMemo:xw,useReducer:sh,useRef:_w,useState:function(){return sh(qa)},useDebugValue:Bp,useDeferredValue:function(t){var e=In();return Rw(e,ut.memoizedState,t)},useTransition:function(){var t=sh(qa)[0],e=In().memoizedState;return[t,e]},useMutableSource:hw,useSyncExternalStore:fw,useId:Pw,unstable_isNewReconciler:!1},Cx={readContext:Tn,useCallback:Sw,useContext:Tn,useEffect:zp,useImperativeHandle:Iw,useInsertionEffect:ww,useLayoutEffect:Ew,useMemo:xw,useReducer:oh,useRef:_w,useState:function(){return oh(qa)},useDebugValue:Bp,useDeferredValue:function(t){var e=In();return ut===null?e.memoizedState=t:Rw(e,ut.memoizedState,t)},useTransition:function(){var t=oh(qa)[0],e=In().memoizedState;return[t,e]},useMutableSource:hw,useSyncExternalStore:fw,useId:Pw,unstable_isNewReconciler:!1};function kn(t,e){if(t&&t.defaultProps){e=Qe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function df(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Qe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Kc={isMounted:function(t){return(t=t._reactInternals)?ds(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=$t(),i=ui(t),s=_r(r,i);s.payload=e,n!=null&&(s.callback=n),e=ai(t,s,i),e!==null&&(jn(e,t,i,r),Ru(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=$t(),i=ui(t),s=_r(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ai(t,s,i),e!==null&&(jn(e,t,i,r),Ru(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=$t(),r=ui(t),i=_r(n,r);i.tag=2,e!=null&&(i.callback=e),e=ai(t,i,r),e!==null&&(jn(e,t,r,n),Ru(e,t,r))}};function Ey(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Fa(n,r)||!Fa(i,s):!0}function Nw(t,e,n){var r=!1,i=mi,s=e.contextType;return typeof s=="object"&&s!==null?s=Tn(s):(i=Xt(e)?Xi:Vt.current,r=e.contextTypes,s=(r=r!=null)?ro(t,i):mi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Kc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Ty(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Kc.enqueueReplaceState(e,e.state,null)}function hf(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Op(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Tn(s):(s=Xt(e)?Xi:Vt.current,i.context=ro(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(df(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Kc.enqueueReplaceState(i,i.state,null),ic(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ao(t,e){try{var n="",r=e;do n+=nS(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function ah(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ff(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Ax=typeof WeakMap=="function"?WeakMap:Map;function bw(t,e,n){n=_r(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){uc||(uc=!0,If=r),ff(t,e)},n}function Dw(t,e,n){n=_r(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ff(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){ff(t,e),typeof r!="function"&&(li===null?li=new Set([this]):li.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Iy(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Ax;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=$x.bind(null,t,e,n),e.then(t,t))}function Sy(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function xy(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=_r(-1,1),e.tag=2,ai(n,e,1))),n.lanes|=1),t)}var kx=br.ReactCurrentOwner,Gt=!1;function zt(t,e,n,r){e.child=t===null?lw(e,null,n,r):so(e,t.child,n,r)}function Ry(t,e,n,r,i){n=n.render;var s=e.ref;return Xs(e,i),r=Fp(t,e,n,r,s,i),n=Up(),t!==null&&!Gt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Rr(t,e,i)):(We&&n&&Pp(e),e.flags|=1,zt(t,e,r,i),e.child)}function Py(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Xp(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Ow(t,e,s,r,i)):(t=bu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Fa,n(o,r)&&t.ref===e.ref)return Rr(t,e,i)}return e.flags|=1,t=ci(s,r),t.ref=e.ref,t.return=e,e.child=t}function Ow(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Fa(s,r)&&t.ref===e.ref)if(Gt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Gt=!0);else return e.lanes=t.lanes,Rr(t,e,i)}return pf(t,e,n,r,i)}function Lw(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ve(Hs,nn),nn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ve(Hs,nn),nn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ve(Hs,nn),nn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ve(Hs,nn),nn|=r;return zt(t,e,i,n),e.child}function Mw(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function pf(t,e,n,r,i){var s=Xt(n)?Xi:Vt.current;return s=ro(e,s),Xs(e,i),n=Fp(t,e,n,r,s,i),r=Up(),t!==null&&!Gt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Rr(t,e,i)):(We&&r&&Pp(e),e.flags|=1,zt(t,e,n,i),e.child)}function Cy(t,e,n,r,i){if(Xt(n)){var s=!0;Zu(e)}else s=!1;if(Xs(e,i),e.stateNode===null)Au(t,e),Nw(e,n,r),hf(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Tn(c):(c=Xt(n)?Xi:Vt.current,c=ro(e,c));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||u!==c)&&Ty(e,o,r,c),qr=!1;var m=e.memoizedState;o.state=m,ic(e,r,o,i),u=e.memoizedState,l!==r||m!==u||Qt.current||qr?(typeof h=="function"&&(df(e,n,h,r),u=e.memoizedState),(l=qr||Ey(e,n,l,r,m,u,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,cw(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:kn(e.type,l),o.props=c,f=e.pendingProps,m=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Tn(u):(u=Xt(n)?Xi:Vt.current,u=ro(e,u));var S=n.getDerivedStateFromProps;(h=typeof S=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||m!==u)&&Ty(e,o,r,u),qr=!1,m=e.memoizedState,o.state=m,ic(e,r,o,i);var x=e.memoizedState;l!==f||m!==x||Qt.current||qr?(typeof S=="function"&&(df(e,n,S,r),x=e.memoizedState),(c=qr||Ey(e,n,c,r,m,x,u)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),o.props=r,o.state=x,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return mf(t,e,n,r,s,i)}function mf(t,e,n,r,i,s){Mw(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&fy(e,n,!1),Rr(t,e,s);r=e.stateNode,kx.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=so(e,t.child,null,s),e.child=so(e,null,l,s)):zt(t,e,l,s),e.memoizedState=r.state,i&&fy(e,n,!0),e.child}function Vw(t){var e=t.stateNode;e.pendingContext?hy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&hy(t,e.context,!1),Lp(t,e.containerInfo)}function Ay(t,e,n,r,i){return io(),Ap(i),e.flags|=256,zt(t,e,n,r),e.child}var gf={dehydrated:null,treeContext:null,retryLane:0};function yf(t){return{baseLanes:t,cachePool:null,transitions:null}}function jw(t,e,n){var r=e.pendingProps,i=Ke.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ve(Ke,i&1),t===null)return uf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Xc(o,r,0,null),t=Ki(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=yf(n),e.memoizedState=gf,t):$p(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return Nx(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=ci(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=ci(l,s):(s=Ki(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?yf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=gf,r}return s=t.child,t=s.sibling,r=ci(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function $p(t,e){return e=Xc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ou(t,e,n,r){return r!==null&&Ap(r),so(e,t.child,null,n),t=$p(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Nx(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=ah(Error(H(422))),ou(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Xc({mode:"visible",children:r.children},i,0,null),s=Ki(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&so(e,t.child,null,o),e.child.memoizedState=yf(o),e.memoizedState=gf,s);if(!(e.mode&1))return ou(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(H(419)),r=ah(s,r,void 0),ou(t,e,o,r)}if(l=(o&t.childLanes)!==0,Gt||l){if(r=gt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,xr(t,i),jn(r,t,i,-1))}return Qp(),r=ah(Error(H(421))),ou(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Hx.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,sn=oi(i.nextSibling),ln=e,We=!0,Dn=null,t!==null&&(gn[yn++]=pr,gn[yn++]=mr,gn[yn++]=Yi,pr=t.id,mr=t.overflow,Yi=e),e=$p(e,r.children),e.flags|=4096,e)}function ky(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),cf(t.return,e,n)}function lh(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Fw(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(zt(t,e,r.children,n),r=Ke.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ky(t,n,e);else if(t.tag===19)ky(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ve(Ke,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&sc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),lh(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&sc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}lh(e,!0,n,null,s);break;case"together":lh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Au(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Rr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Zi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,n=ci(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ci(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function bx(t,e,n){switch(e.tag){case 3:Vw(e),io();break;case 5:dw(e);break;case 1:Xt(e.type)&&Zu(e);break;case 4:Lp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ve(nc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ve(Ke,Ke.current&1),e.flags|=128,null):n&e.child.childLanes?jw(t,e,n):(Ve(Ke,Ke.current&1),t=Rr(t,e,n),t!==null?t.sibling:null);Ve(Ke,Ke.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Fw(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ve(Ke,Ke.current),r)break;return null;case 22:case 23:return e.lanes=0,Lw(t,e,n)}return Rr(t,e,n)}var Uw,vf,zw,Bw;Uw=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};vf=function(){};zw=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Bi(Qn.current);var s=null;switch(n){case"input":i=Fh(t,i),r=Fh(t,r),s=[];break;case"select":i=Qe({},i,{value:void 0}),r=Qe({},r,{value:void 0}),s=[];break;case"textarea":i=Bh(t,i),r=Bh(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Yu)}Hh(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var l=i[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ba.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(l=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ba.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Be("scroll",t),s||l===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};Bw=function(t,e,n,r){n!==r&&(e.flags|=4)};function Jo(t,e){if(!We)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function bt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Dx(t,e,n){var r=e.pendingProps;switch(Cp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(e),null;case 1:return Xt(e.type)&&Ju(),bt(e),null;case 3:return r=e.stateNode,oo(),$e(Qt),$e(Vt),Vp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(iu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Dn!==null&&(Rf(Dn),Dn=null))),vf(t,e),bt(e),null;case 5:Mp(e);var i=Bi(Ha.current);if(n=e.type,t!==null&&e.stateNode!=null)zw(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(H(166));return bt(e),null}if(t=Bi(Qn.current),iu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[qn]=e,r[Ba]=s,t=(e.mode&1)!==0,n){case"dialog":Be("cancel",r),Be("close",r);break;case"iframe":case"object":case"embed":Be("load",r);break;case"video":case"audio":for(i=0;i<aa.length;i++)Be(aa[i],r);break;case"source":Be("error",r);break;case"img":case"image":case"link":Be("error",r),Be("load",r);break;case"details":Be("toggle",r);break;case"input":Fg(r,s),Be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Be("invalid",r);break;case"textarea":zg(r,s),Be("invalid",r)}Hh(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&ru(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&ru(r.textContent,l,t),i=["children",""+l]):ba.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Be("scroll",r)}switch(n){case"input":Ql(r),Ug(r,s,!0);break;case"textarea":Ql(r),Bg(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Yu)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=g0(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[qn]=e,t[Ba]=r,Uw(t,e,!1,!1),e.stateNode=t;e:{switch(o=Wh(n,r),n){case"dialog":Be("cancel",t),Be("close",t),i=r;break;case"iframe":case"object":case"embed":Be("load",t),i=r;break;case"video":case"audio":for(i=0;i<aa.length;i++)Be(aa[i],t);i=r;break;case"source":Be("error",t),i=r;break;case"img":case"image":case"link":Be("error",t),Be("load",t),i=r;break;case"details":Be("toggle",t),i=r;break;case"input":Fg(t,r),i=Fh(t,r),Be("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Qe({},r,{value:void 0}),Be("invalid",t);break;case"textarea":zg(t,r),i=Bh(t,r),Be("invalid",t);break;default:i=r}Hh(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var u=l[s];s==="style"?_0(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&y0(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Da(t,u):typeof u=="number"&&Da(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ba.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Be("scroll",t):u!=null&&fp(t,s,u,o))}switch(n){case"input":Ql(t),Ug(t,r,!1);break;case"textarea":Ql(t),Bg(t);break;case"option":r.value!=null&&t.setAttribute("value",""+pi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?qs(t,!!r.multiple,s,!1):r.defaultValue!=null&&qs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Yu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return bt(e),null;case 6:if(t&&e.stateNode!=null)Bw(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(H(166));if(n=Bi(Ha.current),Bi(Qn.current),iu(e)){if(r=e.stateNode,n=e.memoizedProps,r[qn]=e,(s=r.nodeValue!==n)&&(t=ln,t!==null))switch(t.tag){case 3:ru(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ru(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[qn]=e,e.stateNode=r}return bt(e),null;case 13:if($e(Ke),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(We&&sn!==null&&e.mode&1&&!(e.flags&128))ow(),io(),e.flags|=98560,s=!1;else if(s=iu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(H(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(H(317));s[qn]=e}else io(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;bt(e),s=!1}else Dn!==null&&(Rf(Dn),Dn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ke.current&1?dt===0&&(dt=3):Qp())),e.updateQueue!==null&&(e.flags|=4),bt(e),null);case 4:return oo(),vf(t,e),t===null&&Ua(e.stateNode.containerInfo),bt(e),null;case 10:return bp(e.type._context),bt(e),null;case 17:return Xt(e.type)&&Ju(),bt(e),null;case 19:if($e(Ke),s=e.memoizedState,s===null)return bt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Jo(s,!1);else{if(dt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=sc(t),o!==null){for(e.flags|=128,Jo(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ve(Ke,Ke.current&1|2),e.child}t=t.sibling}s.tail!==null&&nt()>lo&&(e.flags|=128,r=!0,Jo(s,!1),e.lanes=4194304)}else{if(!r)if(t=sc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Jo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!We)return bt(e),null}else 2*nt()-s.renderingStartTime>lo&&n!==1073741824&&(e.flags|=128,r=!0,Jo(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=nt(),e.sibling=null,n=Ke.current,Ve(Ke,r?n&1|2:n&1),e):(bt(e),null);case 22:case 23:return Gp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?nn&1073741824&&(bt(e),e.subtreeFlags&6&&(e.flags|=8192)):bt(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function Ox(t,e){switch(Cp(e),e.tag){case 1:return Xt(e.type)&&Ju(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return oo(),$e(Qt),$e(Vt),Vp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Mp(e),null;case 13:if($e(Ke),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));io()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return $e(Ke),null;case 4:return oo(),null;case 10:return bp(e.type._context),null;case 22:case 23:return Gp(),null;case 24:return null;default:return null}}var au=!1,Lt=!1,Lx=typeof WeakSet=="function"?WeakSet:Set,Q=null;function $s(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Je(t,e,r)}else n.current=null}function _f(t,e,n){try{n()}catch(r){Je(t,e,r)}}var Ny=!1;function Mx(t,e){if(tf=Gu,t=K0(),Rp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,u=-1,c=0,h=0,f=t,m=null;t:for(;;){for(var S;f!==n||i!==0&&f.nodeType!==3||(l=o+i),f!==s||r!==0&&f.nodeType!==3||(u=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(S=f.firstChild)!==null;)m=f,f=S;for(;;){if(f===t)break t;if(m===n&&++c===i&&(l=o),m===s&&++h===r&&(u=o),(S=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=S}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(nf={focusedElem:t,selectionRange:n},Gu=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var R=x.memoizedProps,A=x.memoizedState,I=e.stateNode,v=I.getSnapshotBeforeUpdate(e.elementType===e.type?R:kn(e.type,R),A);I.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(b){Je(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return x=Ny,Ny=!1,x}function Ea(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&_f(e,n,s)}i=i.next}while(i!==r)}}function Gc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function wf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function $w(t){var e=t.alternate;e!==null&&(t.alternate=null,$w(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[qn],delete e[Ba],delete e[of],delete e[vx],delete e[_x])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Hw(t){return t.tag===5||t.tag===3||t.tag===4}function by(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Hw(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ef(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Yu));else if(r!==4&&(t=t.child,t!==null))for(Ef(t,e,n),t=t.sibling;t!==null;)Ef(t,e,n),t=t.sibling}function Tf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Tf(t,e,n),t=t.sibling;t!==null;)Tf(t,e,n),t=t.sibling}var Et=null,Nn=!1;function Br(t,e,n){for(n=n.child;n!==null;)Ww(t,e,n),n=n.sibling}function Ww(t,e,n){if(Gn&&typeof Gn.onCommitFiberUnmount=="function")try{Gn.onCommitFiberUnmount(Uc,n)}catch{}switch(n.tag){case 5:Lt||$s(n,e);case 6:var r=Et,i=Nn;Et=null,Br(t,e,n),Et=r,Nn=i,Et!==null&&(Nn?(t=Et,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Et.removeChild(n.stateNode));break;case 18:Et!==null&&(Nn?(t=Et,n=n.stateNode,t.nodeType===8?th(t.parentNode,n):t.nodeType===1&&th(t,n),Va(t)):th(Et,n.stateNode));break;case 4:r=Et,i=Nn,Et=n.stateNode.containerInfo,Nn=!0,Br(t,e,n),Et=r,Nn=i;break;case 0:case 11:case 14:case 15:if(!Lt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&_f(n,e,o),i=i.next}while(i!==r)}Br(t,e,n);break;case 1:if(!Lt&&($s(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Je(n,e,l)}Br(t,e,n);break;case 21:Br(t,e,n);break;case 22:n.mode&1?(Lt=(r=Lt)||n.memoizedState!==null,Br(t,e,n),Lt=r):Br(t,e,n);break;default:Br(t,e,n)}}function Dy(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Lx),e.forEach(function(r){var i=Wx.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function An(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Et=l.stateNode,Nn=!1;break e;case 3:Et=l.stateNode.containerInfo,Nn=!0;break e;case 4:Et=l.stateNode.containerInfo,Nn=!0;break e}l=l.return}if(Et===null)throw Error(H(160));Ww(s,o,i),Et=null,Nn=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){Je(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)qw(e,t),e=e.sibling}function qw(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(An(e,t),Hn(t),r&4){try{Ea(3,t,t.return),Gc(3,t)}catch(R){Je(t,t.return,R)}try{Ea(5,t,t.return)}catch(R){Je(t,t.return,R)}}break;case 1:An(e,t),Hn(t),r&512&&n!==null&&$s(n,n.return);break;case 5:if(An(e,t),Hn(t),r&512&&n!==null&&$s(n,n.return),t.flags&32){var i=t.stateNode;try{Da(i,"")}catch(R){Je(t,t.return,R)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&p0(i,s),Wh(l,o);var c=Wh(l,s);for(o=0;o<u.length;o+=2){var h=u[o],f=u[o+1];h==="style"?_0(i,f):h==="dangerouslySetInnerHTML"?y0(i,f):h==="children"?Da(i,f):fp(i,h,f,c)}switch(l){case"input":Uh(i,s);break;case"textarea":m0(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var S=s.value;S!=null?qs(i,!!s.multiple,S,!1):m!==!!s.multiple&&(s.defaultValue!=null?qs(i,!!s.multiple,s.defaultValue,!0):qs(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ba]=s}catch(R){Je(t,t.return,R)}}break;case 6:if(An(e,t),Hn(t),r&4){if(t.stateNode===null)throw Error(H(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(R){Je(t,t.return,R)}}break;case 3:if(An(e,t),Hn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Va(e.containerInfo)}catch(R){Je(t,t.return,R)}break;case 4:An(e,t),Hn(t);break;case 13:An(e,t),Hn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(qp=nt())),r&4&&Dy(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Lt=(c=Lt)||h,An(e,t),Lt=c):An(e,t),Hn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(Q=t,h=t.child;h!==null;){for(f=Q=h;Q!==null;){switch(m=Q,S=m.child,m.tag){case 0:case 11:case 14:case 15:Ea(4,m,m.return);break;case 1:$s(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(R){Je(r,n,R)}}break;case 5:$s(m,m.return);break;case 22:if(m.memoizedState!==null){Ly(f);continue}}S!==null?(S.return=m,Q=S):Ly(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=v0("display",o))}catch(R){Je(t,t.return,R)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(R){Je(t,t.return,R)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:An(e,t),Hn(t),r&4&&Dy(t);break;case 21:break;default:An(e,t),Hn(t)}}function Hn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Hw(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Da(i,""),r.flags&=-33);var s=by(t);Tf(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=by(t);Ef(t,l,o);break;default:throw Error(H(161))}}catch(u){Je(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Vx(t,e,n){Q=t,Kw(t)}function Kw(t,e,n){for(var r=(t.mode&1)!==0;Q!==null;){var i=Q,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||au;if(!o){var l=i.alternate,u=l!==null&&l.memoizedState!==null||Lt;l=au;var c=Lt;if(au=o,(Lt=u)&&!c)for(Q=i;Q!==null;)o=Q,u=o.child,o.tag===22&&o.memoizedState!==null?My(i):u!==null?(u.return=o,Q=u):My(i);for(;s!==null;)Q=s,Kw(s),s=s.sibling;Q=i,au=l,Lt=c}Oy(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Q=s):Oy(t)}}function Oy(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Lt||Gc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Lt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:kn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&vy(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}vy(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Va(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}Lt||e.flags&512&&wf(e)}catch(m){Je(e,e.return,m)}}if(e===t){Q=null;break}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}}function Ly(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Q=n;break}Q=e.return}}function My(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Gc(4,e)}catch(u){Je(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Je(e,i,u)}}var s=e.return;try{wf(e)}catch(u){Je(e,s,u)}break;case 5:var o=e.return;try{wf(e)}catch(u){Je(e,o,u)}}}catch(u){Je(e,e.return,u)}if(e===t){Q=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Q=l;break}Q=e.return}}var jx=Math.ceil,lc=br.ReactCurrentDispatcher,Hp=br.ReactCurrentOwner,wn=br.ReactCurrentBatchConfig,xe=0,gt=null,ot=null,St=0,nn=0,Hs=Ii(0),dt=0,Ga=null,Zi=0,Qc=0,Wp=0,Ta=null,Kt=null,qp=0,lo=1/0,hr=null,uc=!1,If=null,li=null,lu=!1,ei=null,cc=0,Ia=0,Sf=null,ku=-1,Nu=0;function $t(){return xe&6?nt():ku!==-1?ku:ku=nt()}function ui(t){return t.mode&1?xe&2&&St!==0?St&-St:Ex.transition!==null?(Nu===0&&(Nu=N0()),Nu):(t=be,t!==0||(t=window.event,t=t===void 0?16:j0(t.type)),t):1}function jn(t,e,n,r){if(50<Ia)throw Ia=0,Sf=null,Error(H(185));pl(t,n,r),(!(xe&2)||t!==gt)&&(t===gt&&(!(xe&2)&&(Qc|=n),dt===4&&Gr(t,St)),Yt(t,r),n===1&&xe===0&&!(e.mode&1)&&(lo=nt()+500,Wc&&Si()))}function Yt(t,e){var n=t.callbackNode;ES(t,e);var r=Ku(t,t===gt?St:0);if(r===0)n!==null&&Wg(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Wg(n),e===1)t.tag===0?wx(Vy.bind(null,t)):rw(Vy.bind(null,t)),gx(function(){!(xe&6)&&Si()}),n=null;else{switch(b0(r)){case 1:n=vp;break;case 4:n=A0;break;case 16:n=qu;break;case 536870912:n=k0;break;default:n=qu}n=tE(n,Gw.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Gw(t,e){if(ku=-1,Nu=0,xe&6)throw Error(H(327));var n=t.callbackNode;if(Ys()&&t.callbackNode!==n)return null;var r=Ku(t,t===gt?St:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=dc(t,r);else{e=r;var i=xe;xe|=2;var s=Xw();(gt!==t||St!==e)&&(hr=null,lo=nt()+500,qi(t,e));do try{zx();break}catch(l){Qw(t,l)}while(!0);Np(),lc.current=s,xe=i,ot!==null?e=0:(gt=null,St=0,e=dt)}if(e!==0){if(e===2&&(i=Xh(t),i!==0&&(r=i,e=xf(t,i))),e===1)throw n=Ga,qi(t,0),Gr(t,r),Yt(t,nt()),n;if(e===6)Gr(t,r);else{if(i=t.current.alternate,!(r&30)&&!Fx(i)&&(e=dc(t,r),e===2&&(s=Xh(t),s!==0&&(r=s,e=xf(t,s))),e===1))throw n=Ga,qi(t,0),Gr(t,r),Yt(t,nt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(H(345));case 2:Mi(t,Kt,hr);break;case 3:if(Gr(t,r),(r&130023424)===r&&(e=qp+500-nt(),10<e)){if(Ku(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){$t(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=sf(Mi.bind(null,t,Kt,hr),e);break}Mi(t,Kt,hr);break;case 4:if(Gr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Vn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=nt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*jx(r/1960))-r,10<r){t.timeoutHandle=sf(Mi.bind(null,t,Kt,hr),r);break}Mi(t,Kt,hr);break;case 5:Mi(t,Kt,hr);break;default:throw Error(H(329))}}}return Yt(t,nt()),t.callbackNode===n?Gw.bind(null,t):null}function xf(t,e){var n=Ta;return t.current.memoizedState.isDehydrated&&(qi(t,e).flags|=256),t=dc(t,e),t!==2&&(e=Kt,Kt=n,e!==null&&Rf(e)),t}function Rf(t){Kt===null?Kt=t:Kt.push.apply(Kt,t)}function Fx(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Fn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Gr(t,e){for(e&=~Wp,e&=~Qc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Vn(e),r=1<<n;t[n]=-1,e&=~r}}function Vy(t){if(xe&6)throw Error(H(327));Ys();var e=Ku(t,0);if(!(e&1))return Yt(t,nt()),null;var n=dc(t,e);if(t.tag!==0&&n===2){var r=Xh(t);r!==0&&(e=r,n=xf(t,r))}if(n===1)throw n=Ga,qi(t,0),Gr(t,e),Yt(t,nt()),n;if(n===6)throw Error(H(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Mi(t,Kt,hr),Yt(t,nt()),null}function Kp(t,e){var n=xe;xe|=1;try{return t(e)}finally{xe=n,xe===0&&(lo=nt()+500,Wc&&Si())}}function es(t){ei!==null&&ei.tag===0&&!(xe&6)&&Ys();var e=xe;xe|=1;var n=wn.transition,r=be;try{if(wn.transition=null,be=1,t)return t()}finally{be=r,wn.transition=n,xe=e,!(xe&6)&&Si()}}function Gp(){nn=Hs.current,$e(Hs)}function qi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,mx(n)),ot!==null)for(n=ot.return;n!==null;){var r=n;switch(Cp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ju();break;case 3:oo(),$e(Qt),$e(Vt),Vp();break;case 5:Mp(r);break;case 4:oo();break;case 13:$e(Ke);break;case 19:$e(Ke);break;case 10:bp(r.type._context);break;case 22:case 23:Gp()}n=n.return}if(gt=t,ot=t=ci(t.current,null),St=nn=e,dt=0,Ga=null,Wp=Qc=Zi=0,Kt=Ta=null,zi!==null){for(e=0;e<zi.length;e++)if(n=zi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}zi=null}return t}function Qw(t,e){do{var n=ot;try{if(Np(),Pu.current=ac,oc){for(var r=Ge.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}oc=!1}if(Ji=0,mt=ut=Ge=null,wa=!1,Wa=0,Hp.current=null,n===null||n.return===null){dt=1,Ga=e,ot=null;break}e:{var s=t,o=n.return,l=n,u=e;if(e=St,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,h=l,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var S=Sy(o);if(S!==null){S.flags&=-257,xy(S,o,l,s,e),S.mode&1&&Iy(s,c,e),e=S,u=c;var x=e.updateQueue;if(x===null){var R=new Set;R.add(u),e.updateQueue=R}else x.add(u);break e}else{if(!(e&1)){Iy(s,c,e),Qp();break e}u=Error(H(426))}}else if(We&&l.mode&1){var A=Sy(o);if(A!==null){!(A.flags&65536)&&(A.flags|=256),xy(A,o,l,s,e),Ap(ao(u,l));break e}}s=u=ao(u,l),dt!==4&&(dt=2),Ta===null?Ta=[s]:Ta.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var I=bw(s,u,e);yy(s,I);break e;case 1:l=u;var v=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(li===null||!li.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var b=Dw(s,l,e);yy(s,b);break e}}s=s.return}while(s!==null)}Jw(n)}catch(U){e=U,ot===n&&n!==null&&(ot=n=n.return);continue}break}while(!0)}function Xw(){var t=lc.current;return lc.current=ac,t===null?ac:t}function Qp(){(dt===0||dt===3||dt===2)&&(dt=4),gt===null||!(Zi&268435455)&&!(Qc&268435455)||Gr(gt,St)}function dc(t,e){var n=xe;xe|=2;var r=Xw();(gt!==t||St!==e)&&(hr=null,qi(t,e));do try{Ux();break}catch(i){Qw(t,i)}while(!0);if(Np(),xe=n,lc.current=r,ot!==null)throw Error(H(261));return gt=null,St=0,dt}function Ux(){for(;ot!==null;)Yw(ot)}function zx(){for(;ot!==null&&!hS();)Yw(ot)}function Yw(t){var e=eE(t.alternate,t,nn);t.memoizedProps=t.pendingProps,e===null?Jw(t):ot=e,Hp.current=null}function Jw(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Ox(n,e),n!==null){n.flags&=32767,ot=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{dt=6,ot=null;return}}else if(n=Dx(n,e,nn),n!==null){ot=n;return}if(e=e.sibling,e!==null){ot=e;return}ot=e=t}while(e!==null);dt===0&&(dt=5)}function Mi(t,e,n){var r=be,i=wn.transition;try{wn.transition=null,be=1,Bx(t,e,n,r)}finally{wn.transition=i,be=r}return null}function Bx(t,e,n,r){do Ys();while(ei!==null);if(xe&6)throw Error(H(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(H(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(TS(t,s),t===gt&&(ot=gt=null,St=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||lu||(lu=!0,tE(qu,function(){return Ys(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=wn.transition,wn.transition=null;var o=be;be=1;var l=xe;xe|=4,Hp.current=null,Mx(t,n),qw(n,t),lx(nf),Gu=!!tf,nf=tf=null,t.current=n,Vx(n),fS(),xe=l,be=o,wn.transition=s}else t.current=n;if(lu&&(lu=!1,ei=t,cc=i),s=t.pendingLanes,s===0&&(li=null),gS(n.stateNode),Yt(t,nt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(uc)throw uc=!1,t=If,If=null,t;return cc&1&&t.tag!==0&&Ys(),s=t.pendingLanes,s&1?t===Sf?Ia++:(Ia=0,Sf=t):Ia=0,Si(),null}function Ys(){if(ei!==null){var t=b0(cc),e=wn.transition,n=be;try{if(wn.transition=null,be=16>t?16:t,ei===null)var r=!1;else{if(t=ei,ei=null,cc=0,xe&6)throw Error(H(331));var i=xe;for(xe|=4,Q=t.current;Q!==null;){var s=Q,o=s.child;if(Q.flags&16){var l=s.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(Q=c;Q!==null;){var h=Q;switch(h.tag){case 0:case 11:case 15:Ea(8,h,s)}var f=h.child;if(f!==null)f.return=h,Q=f;else for(;Q!==null;){h=Q;var m=h.sibling,S=h.return;if($w(h),h===c){Q=null;break}if(m!==null){m.return=S,Q=m;break}Q=S}}}var x=s.alternate;if(x!==null){var R=x.child;if(R!==null){x.child=null;do{var A=R.sibling;R.sibling=null,R=A}while(R!==null)}}Q=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Q=o;else e:for(;Q!==null;){if(s=Q,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ea(9,s,s.return)}var I=s.sibling;if(I!==null){I.return=s.return,Q=I;break e}Q=s.return}}var v=t.current;for(Q=v;Q!==null;){o=Q;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Q=w;else e:for(o=v;Q!==null;){if(l=Q,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Gc(9,l)}}catch(U){Je(l,l.return,U)}if(l===o){Q=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,Q=b;break e}Q=l.return}}if(xe=i,Si(),Gn&&typeof Gn.onPostCommitFiberRoot=="function")try{Gn.onPostCommitFiberRoot(Uc,t)}catch{}r=!0}return r}finally{be=n,wn.transition=e}}return!1}function jy(t,e,n){e=ao(n,e),e=bw(t,e,1),t=ai(t,e,1),e=$t(),t!==null&&(pl(t,1,e),Yt(t,e))}function Je(t,e,n){if(t.tag===3)jy(t,t,n);else for(;e!==null;){if(e.tag===3){jy(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(li===null||!li.has(r))){t=ao(n,t),t=Dw(e,t,1),e=ai(e,t,1),t=$t(),e!==null&&(pl(e,1,t),Yt(e,t));break}}e=e.return}}function $x(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=$t(),t.pingedLanes|=t.suspendedLanes&n,gt===t&&(St&n)===n&&(dt===4||dt===3&&(St&130023424)===St&&500>nt()-qp?qi(t,0):Wp|=n),Yt(t,e)}function Zw(t,e){e===0&&(t.mode&1?(e=Jl,Jl<<=1,!(Jl&130023424)&&(Jl=4194304)):e=1);var n=$t();t=xr(t,e),t!==null&&(pl(t,e,n),Yt(t,n))}function Hx(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Zw(t,n)}function Wx(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(e),Zw(t,n)}var eE;eE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Qt.current)Gt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Gt=!1,bx(t,e,n);Gt=!!(t.flags&131072)}else Gt=!1,We&&e.flags&1048576&&iw(e,tc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Au(t,e),t=e.pendingProps;var i=ro(e,Vt.current);Xs(e,n),i=Fp(null,e,r,t,i,n);var s=Up();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Xt(r)?(s=!0,Zu(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Op(e),i.updater=Kc,e.stateNode=i,i._reactInternals=e,hf(e,r,t,n),e=mf(null,e,r,!0,s,n)):(e.tag=0,We&&s&&Pp(e),zt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Au(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Kx(r),t=kn(r,t),i){case 0:e=pf(null,e,r,t,n);break e;case 1:e=Cy(null,e,r,t,n);break e;case 11:e=Ry(null,e,r,t,n);break e;case 14:e=Py(null,e,r,kn(r.type,t),n);break e}throw Error(H(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kn(r,i),pf(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kn(r,i),Cy(t,e,r,i,n);case 3:e:{if(Vw(e),t===null)throw Error(H(387));r=e.pendingProps,s=e.memoizedState,i=s.element,cw(t,e),ic(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ao(Error(H(423)),e),e=Ay(t,e,r,n,i);break e}else if(r!==i){i=ao(Error(H(424)),e),e=Ay(t,e,r,n,i);break e}else for(sn=oi(e.stateNode.containerInfo.firstChild),ln=e,We=!0,Dn=null,n=lw(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(io(),r===i){e=Rr(t,e,n);break e}zt(t,e,r,n)}e=e.child}return e;case 5:return dw(e),t===null&&uf(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,rf(r,i)?o=null:s!==null&&rf(r,s)&&(e.flags|=32),Mw(t,e),zt(t,e,o,n),e.child;case 6:return t===null&&uf(e),null;case 13:return jw(t,e,n);case 4:return Lp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=so(e,null,r,n):zt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kn(r,i),Ry(t,e,r,i,n);case 7:return zt(t,e,e.pendingProps,n),e.child;case 8:return zt(t,e,e.pendingProps.children,n),e.child;case 12:return zt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ve(nc,r._currentValue),r._currentValue=o,s!==null)if(Fn(s.value,o)){if(s.children===i.children&&!Qt.current){e=Rr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=_r(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),cf(s.return,n,e),l.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(H(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),cf(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}zt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Xs(e,n),i=Tn(i),r=r(i),e.flags|=1,zt(t,e,r,n),e.child;case 14:return r=e.type,i=kn(r,e.pendingProps),i=kn(r.type,i),Py(t,e,r,i,n);case 15:return Ow(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kn(r,i),Au(t,e),e.tag=1,Xt(r)?(t=!0,Zu(e)):t=!1,Xs(e,n),Nw(e,r,i),hf(e,r,i,n),mf(null,e,r,!0,t,n);case 19:return Fw(t,e,n);case 22:return Lw(t,e,n)}throw Error(H(156,e.tag))};function tE(t,e){return C0(t,e)}function qx(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(t,e,n,r){return new qx(t,e,n,r)}function Xp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Kx(t){if(typeof t=="function")return Xp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===mp)return 11;if(t===gp)return 14}return 2}function ci(t,e){var n=t.alternate;return n===null?(n=_n(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function bu(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Xp(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Os:return Ki(n.children,i,s,e);case pp:o=8,i|=8;break;case Lh:return t=_n(12,n,e,i|2),t.elementType=Lh,t.lanes=s,t;case Mh:return t=_n(13,n,e,i),t.elementType=Mh,t.lanes=s,t;case Vh:return t=_n(19,n,e,i),t.elementType=Vh,t.lanes=s,t;case d0:return Xc(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case u0:o=10;break e;case c0:o=9;break e;case mp:o=11;break e;case gp:o=14;break e;case Wr:o=16,r=null;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=_n(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ki(t,e,n,r){return t=_n(7,t,r,e),t.lanes=n,t}function Xc(t,e,n,r){return t=_n(22,t,r,e),t.elementType=d0,t.lanes=n,t.stateNode={isHidden:!1},t}function uh(t,e,n){return t=_n(6,t,null,e),t.lanes=n,t}function ch(t,e,n){return e=_n(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Gx(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hd(0),this.expirationTimes=Hd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Yp(t,e,n,r,i,s,o,l,u){return t=new Gx(t,e,n,l,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=_n(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Op(s),t}function Qx(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ds,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function nE(t){if(!t)return mi;t=t._reactInternals;e:{if(ds(t)!==t||t.tag!==1)throw Error(H(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Xt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(t.tag===1){var n=t.type;if(Xt(n))return nw(t,n,e)}return e}function rE(t,e,n,r,i,s,o,l,u){return t=Yp(n,r,!0,t,i,s,o,l,u),t.context=nE(null),n=t.current,r=$t(),i=ui(n),s=_r(r,i),s.callback=e??null,ai(n,s,i),t.current.lanes=i,pl(t,i,r),Yt(t,r),t}function Yc(t,e,n,r){var i=e.current,s=$t(),o=ui(i);return n=nE(n),e.context===null?e.context=n:e.pendingContext=n,e=_r(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ai(i,e,o),t!==null&&(jn(t,i,o,s),Ru(t,i,o)),o}function hc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Fy(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Jp(t,e){Fy(t,e),(t=t.alternate)&&Fy(t,e)}function Xx(){return null}var iE=typeof reportError=="function"?reportError:function(t){console.error(t)};function Zp(t){this._internalRoot=t}Jc.prototype.render=Zp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));Yc(t,e,null,null)};Jc.prototype.unmount=Zp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;es(function(){Yc(null,t,null,null)}),e[Sr]=null}};function Jc(t){this._internalRoot=t}Jc.prototype.unstable_scheduleHydration=function(t){if(t){var e=L0();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Kr.length&&e!==0&&e<Kr[n].priority;n++);Kr.splice(n,0,t),n===0&&V0(t)}};function em(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Zc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Uy(){}function Yx(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=hc(o);s.call(c)}}var o=rE(e,r,t,0,null,!1,!1,"",Uy);return t._reactRootContainer=o,t[Sr]=o.current,Ua(t.nodeType===8?t.parentNode:t),es(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var c=hc(u);l.call(c)}}var u=Yp(t,0,!1,null,null,!1,!1,"",Uy);return t._reactRootContainer=u,t[Sr]=u.current,Ua(t.nodeType===8?t.parentNode:t),es(function(){Yc(e,u,n,r)}),u}function ed(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var u=hc(o);l.call(u)}}Yc(e,o,t,i)}else o=Yx(n,e,t,i,r);return hc(o)}D0=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=oa(e.pendingLanes);n!==0&&(_p(e,n|1),Yt(e,nt()),!(xe&6)&&(lo=nt()+500,Si()))}break;case 13:es(function(){var r=xr(t,1);if(r!==null){var i=$t();jn(r,t,1,i)}}),Jp(t,1)}};wp=function(t){if(t.tag===13){var e=xr(t,134217728);if(e!==null){var n=$t();jn(e,t,134217728,n)}Jp(t,134217728)}};O0=function(t){if(t.tag===13){var e=ui(t),n=xr(t,e);if(n!==null){var r=$t();jn(n,t,e,r)}Jp(t,e)}};L0=function(){return be};M0=function(t,e){var n=be;try{return be=t,e()}finally{be=n}};Kh=function(t,e,n){switch(e){case"input":if(Uh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Hc(r);if(!i)throw Error(H(90));f0(r),Uh(r,i)}}}break;case"textarea":m0(t,n);break;case"select":e=n.value,e!=null&&qs(t,!!n.multiple,e,!1)}};T0=Kp;I0=es;var Jx={usingClientEntryPoint:!1,Events:[gl,js,Hc,w0,E0,Kp]},Zo={findFiberByHostInstance:Ui,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Zx={bundleType:Zo.bundleType,version:Zo.version,rendererPackageName:Zo.rendererPackageName,rendererConfig:Zo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:br.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=R0(t),t===null?null:t.stateNode},findFiberByHostInstance:Zo.findFiberByHostInstance||Xx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uu.isDisabled&&uu.supportsFiber)try{Uc=uu.inject(Zx),Gn=uu}catch{}}hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jx;hn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!em(e))throw Error(H(200));return Qx(t,e,null,n)};hn.createRoot=function(t,e){if(!em(t))throw Error(H(299));var n=!1,r="",i=iE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Yp(t,1,!1,null,null,n,!1,r,i),t[Sr]=e.current,Ua(t.nodeType===8?t.parentNode:t),new Zp(e)};hn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=R0(e),t=t===null?null:t.stateNode,t};hn.flushSync=function(t){return es(t)};hn.hydrate=function(t,e,n){if(!Zc(e))throw Error(H(200));return ed(null,t,e,!0,n)};hn.hydrateRoot=function(t,e,n){if(!em(t))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=iE;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=rE(e,null,t,1,n??null,i,!1,s,o),t[Sr]=e.current,Ua(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Jc(e)};hn.render=function(t,e,n){if(!Zc(e))throw Error(H(200));return ed(null,t,e,!1,n)};hn.unmountComponentAtNode=function(t){if(!Zc(t))throw Error(H(40));return t._reactRootContainer?(es(function(){ed(null,null,t,!1,function(){t._reactRootContainer=null,t[Sr]=null})}),!0):!1};hn.unstable_batchedUpdates=Kp;hn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Zc(n))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return ed(t,e,n,!1,r)};hn.version="18.3.1-next-f1338f8080-20240426";function sE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sE)}catch(t){console.error(t)}}sE(),s0.exports=hn;var tm=s0.exports;const eR=K_(tm),tR=q_({__proto__:null,default:eR},[tm]);var zy=tm;Dh.createRoot=zy.createRoot,Dh.hydrateRoot=zy.hydrateRoot;const nR=[{title:"Electronics",items:["Computers & Tablets","Mobile Phones","TV & Home Entertainment","Cameras & Photography","Audio","Wearable Technology"]},{title:"Gadgets",items:["Smart Home Devices","Personal Gadgets","Gaming","Health & Wellness"]},{title:"Accessories",items:["Computer Accessories","Mobile Accessories","Audio Accessories","Camera Accessories","Wearable Accessories","Gaming Accessories","Smart Home Accessories","Travel Accessories"]}],rR=()=>g.jsxs("div",{className:"py-20 px-4  font-medium",children:[g.jsx("h2",{className:"text-3xl font-bold text-center mb-10",children:"Categories"}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10",children:nR.map((t,e)=>g.jsxs("div",{className:"bg-zinc-900 p-6 rounded-2xl shadow-3xl shadow-gray-600 text-center text-white",children:[g.jsx("h3",{className:"text-xl font-semibold mb-4",children:t.title}),g.jsx("ul",{className:"space-y-2",children:t.items.map((n,r)=>g.jsx("li",{className:"text-zinc-100 padAir:font-medium font-normal",children:n},r))})]},e))})]}),By=[{title:"Home",link:"/"},{title:"Products",link:"/product"},{title:"My Account",link:"/account",children:[{title:"Profile",link:"/user/profile"},{title:"Cart",link:"/cart"},{title:"Logout",link:"/login"}]}],$y=[{title:"Home",link:"/"},{title:"Products",link:"/product"}],iR=[{value:"1k+",label:"Brands"},{value:"500+",label:"Shops"},{value:"250k+",label:"Customers"}],sR=[{imgURL:"/product.jpg",name:"Play Station 4",price:"$200.20",categories:"Accessories"},{imgURL:"/nexus2.jpg",name:"Nexus 55'Inches UHD 4K Smart TV (NX-TV55 U4K624B) - Black + 1 Year Warranty",price:"$210.20",categories:"gadget"},{imgURL:"/product3.jpg",name:"Asus ROG Strix SCAR 16 Gaming G634JZ 13th Gen Intel Core I9 32GB RAM/1TB SSD 12GB Nvidia 4080 Win 11",price:"$2900.20"},{imgURL:"/product2.jpg",name:"Apple IPhone 15 Pro Max 512gb - Nano Sim - Natural Titanium",price:"$1200.20"}],td=[{id:1,name:"Samsung Galaxy S22 Ultra 5G",price:699,description:"Samsung Galaxy S22 Ultra 5G (SM-S908E/DS) Dual SIM 256GB/ 12GB RAM, GSM Unlocked International Version - Green",image:"/sam1.jpg",category:"electronics",slug:"p-1",pay:"pay-1"},{id:2,name:"Music Pioneer Bluetooth Headset",price:199,description:"Crystal clear sound and noise cancellation",image:"/m-pioneer.jpg",category:"gadgets",slug:"p-2",pay:"pay-2"},{id:3,name:"Ultra Smart watch 8",price:129,description:"A smartwatch with fitness tracking",image:"/ultra-8.jpg",category:"accessories",slug:"p-3",pay:"pay-3"},{id:4,image:"/product.jpg",name:"Sony Ps4 Console 500 GB WITH 2 CONTROLLER",price:"200.20",category:"accessories",description:"Your Favorite Franchises Live Here: Dig g a huge catalog of exclusive games, including generation defining titles like entries in popular franchises like .",slug:"p-4",pay:"pay-4"},{id:5,image:"/nexus2.jpg",name:"Nexus 55'Inches ",price:"210.20",category:"gadgets",description:" Nexus 55'Inches UHD 4K Smart TV (NX-TV55 U4K624B) - Black + 1 Year Warranty",slug:"p-5",pay:"pay-5"},{id:6,image:"/product3.jpg",name:"Asus ROG Strix SCAR 16 ",price:"854.20",description:"Asus ROG Strix SCAR 16 Gaming G634JZ 13th Gen Intel Core I9 32GB RAM/1TB SSD 12GB Nvidia 4080 Win 11",category:"accessories",slug:"p-6",pay:"pay-6"},{id:7,image:"/product2.jpg",name:"Apple IPhone 15 Pro Max ",price:"900.20",description:"Apple IPhone 15 Pro Max 512gb - Nano Sim - Natural Titanium",category:"gadgets",slug:"p-7",pay:"pay-7"},{id:8,image:"/canoncam.jpg",name:"Canon EOS 5D Mark IV DSLR Camera ",price:"900",description:"Canon EOS 5D Mark IV DSLR Camera with 24-105mm f/4L II Lens",category:"electronics",slug:"p-8",pay:"pay-8"},{id:9,image:"/ps5.jpg",name:"Sony PlayStation 5 (PS5) Console - Standard Edition ",price:"865",description:"Explore uncharted virtual territories and slay dragons with this sleek Sony PlayStation 5 gaming console. The 825GB SSD allows ultra-fast load times, while 3-D audio output produces crisp acoustics. This Sony PlayStation 5 gaming console supports haptic feedback for effortless communication in multiplayer setups, and adaptive triggers allow immersive gameplay.",category:"electronics",slug:"p-9",pay:"pay-9"},{id:10,image:"/home1.jpg",name:"LG 600W Bluetooth DVD Home Theatre System ",price:"856",description:"The dual subwoofer integrated into the LG X-Boom Theater gives more power to the base tones, creating a soul shaking sound. When watching a movie, the 2.2 channel creates a rich surround sound. The engineered wood gives the speakers a high quality look.",category:"electronics",slug:"p-10",pay:"pay-10"},{id:11,image:"/macbook1.jpg",name:"Apple MacBook Pro 16.2 - 32GB - 1TB - 10 Cores - M1 Max - Silver ",price:"900",description:"The new MacBook Pro delivers game-changing performance for pro users. Choose the powerful M1 Max to supercharge pro-level workflows while getting amazing battery life.(1) And with an immersive 16-inch Liquid Retina XDR display and an array of pro ports, you can do more than ever with MacBook Pro.(2)",category:"electronics",slug:"p-11",pay:"pay-11"},{id:12,image:"/drone1.jpg",name:"GPS 5G WiFi Dual Camera 4K HD Drone FPV Foldable 1KM Long Distance Quadcopter WITH 2 BATTERIES ",price:"400",description:"F188 Camera Drone 6K GPS 5G WiFi FPV Brushless Professional Foldable 1KM Long Distance RC Dron Quadcopter",category:"electronics",slug:"p-12",pay:"pay-12"},{id:13,image:"/var1.jpg",name:"Meta Quest 3 Advanced All-in-One VR Headset (512GB) ",price:"400",description:"Step into mixed reality with the 512GB version of the Meta Quest 3 Advanced All-in-One VR Headset. The third gen PC-free headset combines VR with AR, using dual RGB cameras to provide full-color passthrough into your real world surroundings. This can be used to insert games, screens, and other virtual objects into your environment.",category:"gadgets",slug:"p-13",pay:"pay-13"},{id:14,image:"/pb1.jpg",name:"Anywhere Cart PowerBank Rechargeable Li-Ion Battery ",price:"129",description:"Keep your devices charged on the go with the PowerBank Rechargeable Li-Ion Battery from Anywhere Cart. Offering a 22,000mAh capacity, battery features two USB-C and two USB-A charging ports. Keep track of your chargers current battery level with the built-in LED charge indicator. A power button helps you conserve battery life",category:"gadgets",slug:"p-14",pay:"pay-14"},{id:15,image:"/tstat.jpg",name:"Lennox ComfortSense 5500 Programmable Thermostat | Energy Savings & Custom Comfo ",price:"180",description:"Programmable thermostat with versatile programming options for custom comfort and energy savings",category:"gadgets",slug:"p-15",pay:"pay-15"},{id:16,image:"/access1.jpg",name:"X9 Performance Full-Size USB Keyboard and Mouse with Mouse Pad for Windows",price:"35",description:"The X9 Performance Full-Size USB Keyboard and Mouse with Mouse Pad for Windows includes a USB keyboard, a 6-button USB wired mouse, and a mouse pad. Featuring 104 keys, the full size keyboard utilizes a standard QWERTY layout with a concave keycap design for a comfortable and efficient typing experience",category:"accessories",slug:"p-16",pay:"p-16"},{id:17,image:"/access2.jpg",name:"Smart Watch, 1.9",price:"21",description:'Smart Watch, 1.9" Full Touch Screen Smart Watch for Android & iOS Phones',category:"accessories",slug:"p-17",pay:"p-17"},{id:18,image:"/access3.jpg",name:"3 in 1 Fast Wireless Charging Station for Apple Watch, AirPods, and iPhone - Foldable Stand, Qi-Certified",price:"45",description:"Equipped with 18W upgraded large power adapter for fast charging speed of approximately 3-4 hours for phone and other devices",category:"accessories",slug:"p-18",pay:"p-18"},{id:19,image:"/access4.jpg",name:"Galaxy Z Fold4 2022 Case With Pen, Magnetic Hinge Protection Built In Screen & Lens Protector Cover For Samsung Galaxy Z Fold 4 5G",price:"30",description:"Protects your device's screen from scratches and impacts",category:"accessories",slug:"p-19",pay:"p-19"},{id:20,image:"/elect1.jpg",name:"Hisense 8KG Front Loader Automatic Washing Machine - WM 8014T-WFQP",price:"450",description:"The Hisense 8KG Front Loader Automatic Washing Machine - WM 8014T-WFQP is designed to provide efficient and convenient laundry care. With its advanced features and user-friendly interface, this washing machine ensures that your clothes are cleaned thoroughly and gently.",category:"electronics",slug:"p-20",pay:"p-20"},{id:21,image:"/cctv1.jpg",name:" Solar Powered Cctv 4G Simcard Intelligent Rotational Camera",price:"150",description:"Sound and motion detection, when someone breaks into the shooting area, the action detects and sends a push notification on your phone., Real-time remote viewing",category:"gadgets",slug:"p-21",pay:"p-21"},{id:22,image:"/tab1.jpg",name:'Maxim [Upgraded] MatrixPad Ultra Slim 10.1" 6GB 128GB 5G Android 13 Tablet PC',price:"160",description:"Maxim MatrixPad S13 comes with a 10.1 inch HD display, 6GB RAM, 128GB ROM (expandable up to 512 GB), 4GLTE network, 5G + 2.4G Wifi, Octa-Core processor, Android 13.0 OS, Dual SIM, Dual cameras(8MP rear camera), 5G WiFi Browsing, FM, GPS. What's more, it's featured the Read mode, with which you can enjoy immersive reading in black and white. Complete tasks, enjoy movies on the go, watch online recipes or drama on FaceBook, read E-books, play light games or use offline Google map outdoor. Make your day joyful and convenient.",category:"electronics",slug:"p-22",pay:"p-22"},{id:23,image:"/lbag.jpg",name:"Black Fashion Waterproof Business Portable Laptop Bag",price:"10",description:"Is a bag that gives you comfort while carrying your Laptop. It is made of cloth material and the Laptop is insulated by foam to protect it against fall. It comes with a strong strap that allows you carry your laptop conveniently on your shoulders and a handle made of polyurehane and fabric which allows you work smartly to the office or that meeting even when holding the case.",category:"accessories",slug:"p-23",pay:"p-23"},{id:24,image:"/v1.jpg",name:' Vision 55" INCHES SMART UHD 4K TV',price:"450",description:"A New Standard of Sharpness Behold every grain of sand, every blade of grass, every star in the night sky. Vision  4K Ultra HD TVs contain over 8.2 million pixels, so their resolution is four times that of Full HD. The result? Breathtaking clarity and fine picture details that will amaze, even when viewed up close.",category:"electronics",slug:"p-24",pay:"p-24"}];/**
 * @remix-run/router v1.17.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qe(){return qe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qe.apply(this,arguments)}var it;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(it||(it={}));const Hy="popstate";function oR(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:l}=r.location;return Qa("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ts(i)}return lR(e,n,null,t)}function ye(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function uo(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function aR(){return Math.random().toString(36).substr(2,8)}function Wy(t,e){return{usr:t.state,key:t.key,idx:e}}function Qa(t,e,n,r){return n===void 0&&(n=null),qe({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?xi(e):e,{state:n,key:e&&e.key||r||aR()})}function ts(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function xi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function lR(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=it.Pop,u=null,c=h();c==null&&(c=0,o.replaceState(qe({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function f(){l=it.Pop;let A=h(),I=A==null?null:A-c;c=A,u&&u({action:l,location:R.location,delta:I})}function m(A,I){l=it.Push;let v=Qa(R.location,A,I);c=h()+1;let w=Wy(v,c),b=R.createHref(v);try{o.pushState(w,"",b)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;i.location.assign(b)}s&&u&&u({action:l,location:R.location,delta:1})}function S(A,I){l=it.Replace;let v=Qa(R.location,A,I);c=h();let w=Wy(v,c),b=R.createHref(v);o.replaceState(w,"",b),s&&u&&u({action:l,location:R.location,delta:0})}function x(A){let I=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof A=="string"?A:ts(A);return v=v.replace(/ $/,"%20"),ye(I,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,I)}let R={get action(){return l},get location(){return t(i,o)},listen(A){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Hy,f),u=A,()=>{i.removeEventListener(Hy,f),u=null}},createHref(A){return e(i,A)},createURL:x,encodeLocation(A){let I=x(A);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:m,replace:S,go(A){return o.go(A)}};return R}var Me;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Me||(Me={}));const uR=new Set(["lazy","caseSensitive","path","id","index","children"]);function cR(t){return t.index===!0}function Xa(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,String(s)],l=typeof i.id=="string"?i.id:o.join("-");if(ye(i.index!==!0||!i.children,"Cannot specify children on an index route"),ye(!r[l],'Found a route id collision on id "'+l+`".  Route id's must be globally unique within Data Router usages`),cR(i)){let u=qe({},i,e(i),{id:l});return r[l]=u,u}else{let u=qe({},i,e(i),{id:l,children:void 0});return r[l]=u,i.children&&(u.children=Xa(i.children,e,o,r)),u}})}function Fi(t,e,n){return n===void 0&&(n="/"),Du(t,e,n,!1)}function Du(t,e,n,r){let i=typeof e=="string"?xi(e):e,s=Io(i.pathname||"/",n);if(s==null)return null;let o=oE(t);hR(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let c=IR(s);l=ER(o[u],c,r)}return l}function dR(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function oE(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(ye(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=wr([r,u.relativePath]),h=n.concat(u);s.children&&s.children.length>0&&(ye(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),oE(s.children,e,h,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:_R(c,s.index),routesMeta:h})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let u of aE(s.path))i(s,o,u)}),e}function aE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=aE(r.join("/")),l=[];return l.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&l.push(...o),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function hR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:wR(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const fR=/^:[\w-]+$/,pR=3,mR=2,gR=1,yR=10,vR=-2,qy=t=>t==="*";function _R(t,e){let n=t.split("/"),r=n.length;return n.some(qy)&&(r+=vR),e&&(r+=mR),n.filter(i=>!qy(i)).reduce((i,s)=>i+(fR.test(s)?pR:s===""?gR:yR),r)}function wR(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function ER(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let l=0;l<r.length;++l){let u=r[l],c=l===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",f=Ky({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},h),m=u.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=Ky({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:wr([s,f.pathname]),pathnameBase:RR(wr([s,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(s=wr([s,f.pathnameBase]))}return o}function Ky(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=TR(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((c,h,f)=>{let{paramName:m,isOptional:S}=h;if(m==="*"){let R=l[f]||"";o=s.slice(0,s.length-R.length).replace(/(.)\/+$/,"$1")}const x=l[f];return S&&!x?c[m]=void 0:c[m]=(x||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function TR(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),uo(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function IR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return uo(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Io(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function SR(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?xi(t):t;return{pathname:n?n.startsWith("/")?n:xR(n,e):e,search:PR(r),hash:CR(i)}}function xR(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function dh(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function lE(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function nm(t,e){let n=lE(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function rm(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=xi(t):(i=qe({},t),ye(!i.pathname||!i.pathname.includes("?"),dh("?","pathname","search",i)),ye(!i.pathname||!i.pathname.includes("#"),dh("#","pathname","hash",i)),ye(!i.search||!i.search.includes("#"),dh("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;i.pathname=m.join("/")}l=f>=0?e[f]:"/"}let u=SR(i,l),c=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||h)&&(u.pathname+="/"),u}const wr=t=>t.join("/").replace(/\/\/+/g,"/"),RR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),PR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,CR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class im{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function nd(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const uE=["post","put","patch","delete"],AR=new Set(uE),kR=["get",...uE],NR=new Set(kR),bR=new Set([301,302,303,307,308]),DR=new Set([307,308]),hh={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},OR={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ea={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},sm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,LR=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),cE="remix-router-transitions";function MR(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;ye(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let D=t.detectErrorBoundary;i=L=>({hasErrorBoundary:D(L)})}else i=LR;let s={},o=Xa(t.routes,i,void 0,s),l,u=t.basename||"/",c=t.unstable_dataStrategy||zR,h=t.unstable_patchRoutesOnMiss,f=qe({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,unstable_skipActionErrorRevalidation:!1},t.future),m=null,S=new Set,x=null,R=null,A=null,I=t.hydrationData!=null,v=Fi(o,t.history.location,u),w=null;if(v==null&&!h){let D=Ut(404,{pathname:t.history.location.pathname}),{matches:L,route:V}=rv(o);v=L,w={[V.id]:D}}let b;if(!v)b=!1,v=[];else if(v.some(D=>D.route.lazy))b=!1;else if(!v.some(D=>D.route.loader))b=!0;else if(f.v7_partialHydration){let D=t.hydrationData?t.hydrationData.loaderData:null,L=t.hydrationData?t.hydrationData.errors:null,V=z=>z.route.loader?typeof z.route.loader=="function"&&z.route.loader.hydrate===!0?!1:D&&D[z.route.id]!==void 0||L&&L[z.route.id]!==void 0:!0;if(L){let z=v.findIndex(G=>L[G.route.id]!==void 0);b=v.slice(0,z+1).every(V)}else b=v.every(V)}else b=t.hydrationData!=null;let U,N={historyAction:t.history.action,location:t.history.location,matches:v,initialized:b,navigation:hh,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||w,fetchers:new Map,blockers:new Map},T=it.Pop,y=!1,E,P=!1,k=new Map,O=null,C=!1,ge=!1,et=[],Ft=[],fe=new Map,W=0,Z=-1,ee=new Map,de=new Set,oe=new Map,pe=new Map,Pe=new Set,De=new Map,Fe=new Map,yt=new Map,Ci=!1;function Ad(){if(m=t.history.listen(D=>{let{action:L,location:V,delta:z}=D;if(Ci){Ci=!1;return}uo(Fe.size===0||z!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let G=Lo({currentLocation:N.location,nextLocation:V,historyAction:L});if(G&&z!=null){Ci=!0,t.history.go(z*-1),ki(G,{state:"blocked",location:V,proceed(){ki(G,{state:"proceeding",proceed:void 0,reset:void 0,location:V}),t.history.go(z)},reset(){let X=new Map(N.blockers);X.set(G,ea),ft({blockers:X})}});return}return Bn(L,V)}),n){eP(e,k);let D=()=>tP(e,k);e.addEventListener("pagehide",D),O=()=>e.removeEventListener("pagehide",D)}return N.initialized||Bn(it.Pop,N.location,{initialHydration:!0}),U}function ys(){m&&m(),O&&O(),S.clear(),E&&E.abort(),N.fetchers.forEach((D,L)=>ws(L)),N.blockers.forEach((D,L)=>Ts(L))}function vs(D){return S.add(D),()=>S.delete(D)}function ft(D,L){L===void 0&&(L={}),N=qe({},N,D);let V=[],z=[];f.v7_fetcherPersist&&N.fetchers.forEach((G,X)=>{G.state==="idle"&&(Pe.has(X)?z.push(X):V.push(X))}),[...S].forEach(G=>G(N,{deletedFetchers:z,unstable_viewTransitionOpts:L.viewTransitionOpts,unstable_flushSync:L.flushSync===!0})),f.v7_fetcherPersist&&(V.forEach(G=>N.fetchers.delete(G)),z.forEach(G=>ws(G)))}function zn(D,L,V){var z,G;let{flushSync:X}=V===void 0?{}:V,te=N.actionData!=null&&N.navigation.formMethod!=null&&bn(N.navigation.formMethod)&&N.navigation.state==="loading"&&((z=D.state)==null?void 0:z._isRedirect)!==!0,K;L.actionData?Object.keys(L.actionData).length>0?K=L.actionData:K=null:te?K=N.actionData:K=null;let se=L.loaderData?tv(N.loaderData,L.loaderData,L.matches||[],L.errors):N.loaderData,Y=N.blockers;Y.size>0&&(Y=new Map(Y),Y.forEach((me,Ae)=>Y.set(Ae,ea)));let ae=y===!0||N.navigation.formMethod!=null&&bn(N.navigation.formMethod)&&((G=D.state)==null?void 0:G._isRedirect)!==!0;l&&(o=l,l=void 0),C||T===it.Pop||(T===it.Push?t.history.push(D,D.state):T===it.Replace&&t.history.replace(D,D.state));let Te;if(T===it.Pop){let me=k.get(N.location.pathname);me&&me.has(D.pathname)?Te={currentLocation:N.location,nextLocation:D}:k.has(D.pathname)&&(Te={currentLocation:D,nextLocation:N.location})}else if(P){let me=k.get(N.location.pathname);me?me.add(D.pathname):(me=new Set([D.pathname]),k.set(N.location.pathname,me)),Te={currentLocation:N.location,nextLocation:D}}ft(qe({},L,{actionData:K,loaderData:se,historyAction:T,location:D,initialized:!0,navigation:hh,revalidation:"idle",restoreScrollPosition:Vo(D,L.matches||N.matches),preventScrollReset:ae,blockers:Y}),{viewTransitionOpts:Te,flushSync:X===!0}),T=it.Pop,y=!1,P=!1,C=!1,ge=!1,et=[],Ft=[]}async function _s(D,L){if(typeof D=="number"){t.history.go(D);return}let V=Pf(N.location,N.matches,u,f.v7_prependBasename,D,f.v7_relativeSplatPath,L==null?void 0:L.fromRouteId,L==null?void 0:L.relative),{path:z,submission:G,error:X}=Gy(f.v7_normalizeFormMethod,!1,V,L),te=N.location,K=Qa(N.location,z,L&&L.state);K=qe({},K,t.history.encodeLocation(K));let se=L&&L.replace!=null?L.replace:void 0,Y=it.Push;se===!0?Y=it.Replace:se===!1||G!=null&&bn(G.formMethod)&&G.formAction===N.location.pathname+N.location.search&&(Y=it.Replace);let ae=L&&"preventScrollReset"in L?L.preventScrollReset===!0:void 0,Te=(L&&L.unstable_flushSync)===!0,me=Lo({currentLocation:te,nextLocation:K,historyAction:Y});if(me){ki(me,{state:"blocked",location:K,proceed(){ki(me,{state:"proceeding",proceed:void 0,reset:void 0,location:K}),_s(D,L)},reset(){let Ae=new Map(N.blockers);Ae.set(me,ea),ft({blockers:Ae})}});return}return await Bn(Y,K,{submission:G,pendingError:X,preventScrollReset:ae,replace:L&&L.replace,enableViewTransition:L&&L.unstable_viewTransition,flushSync:Te})}function Ao(){if(lt(),ft({revalidation:"loading"}),N.navigation.state!=="submitting"){if(N.navigation.state==="idle"){Bn(N.historyAction,N.location,{startUninterruptedRevalidation:!0});return}Bn(T||N.historyAction,N.navigation.location,{overrideNavigation:N.navigation})}}async function Bn(D,L,V){E&&E.abort(),E=null,T=D,C=(V&&V.startUninterruptedRevalidation)===!0,Is(N.location,N.matches),y=(V&&V.preventScrollReset)===!0,P=(V&&V.enableViewTransition)===!0;let z=l||o,G=V&&V.overrideNavigation,X=Fi(z,L,u),te=(V&&V.flushSync)===!0,K=Mr(X,z,L.pathname);if(K.active&&K.matches&&(X=K.matches),!X){let{error:Ie,notFoundMatches:tt,route:He}=ar(L.pathname);zn(L,{matches:tt,loaderData:{},errors:{[He.id]:Ie}},{flushSync:te});return}if(N.initialized&&!ge&&KR(N.location,L)&&!(V&&V.submission&&bn(V.submission.formMethod))){zn(L,{matches:X},{flushSync:te});return}E=new AbortController;let se=As(t.history,L,E.signal,V&&V.submission),Y;if(V&&V.pendingError)Y=[Sa(X).route.id,{type:Me.error,error:V.pendingError}];else if(V&&V.submission&&bn(V.submission.formMethod)){let Ie=await kd(se,L,V.submission,X,K.active,{replace:V.replace,flushSync:te});if(Ie.shortCircuited)return;if(Ie.pendingActionResult){let[tt,He]=Ie.pendingActionResult;if(rn(He)&&nd(He.error)&&He.error.status===404){E=null,zn(L,{matches:Ie.matches,loaderData:{},errors:{[tt]:He.error}});return}}X=Ie.matches||X,Y=Ie.pendingActionResult,G=fh(L,V.submission),te=!1,K.active=!1,se=As(t.history,se.url,se.signal)}let{shortCircuited:ae,matches:Te,loaderData:me,errors:Ae}=await Nd(se,L,X,K.active,G,V&&V.submission,V&&V.fetcherSubmission,V&&V.replace,V&&V.initialHydration===!0,te,Y);ae||(E=null,zn(L,qe({matches:Te||X},nv(Y),{loaderData:me,errors:Ae})))}async function kd(D,L,V,z,G,X){X===void 0&&(X={}),lt();let te=JR(L,V);if(ft({navigation:te},{flushSync:X.flushSync===!0}),G){let Y=await bi(z,L.pathname,D.signal);if(Y.type==="aborted")return{shortCircuited:!0};if(Y.type==="error"){let{error:ae,notFoundMatches:Te,route:me}=Lr(L.pathname,Y);return{matches:Te,pendingActionResult:[me.id,{type:Me.error,error:ae}]}}else if(Y.matches)z=Y.matches;else{let{notFoundMatches:ae,error:Te,route:me}=ar(L.pathname);return{matches:ae,pendingActionResult:[me.id,{type:Me.error,error:Te}]}}}let K,se=la(z,L);if(!se.route.action&&!se.route.lazy)K={type:Me.error,error:Ut(405,{method:D.method,pathname:L.pathname,routeId:se.route.id})};else if(K=(await Or("action",D,[se],z))[0],D.signal.aborted)return{shortCircuited:!0};if(Hi(K)){let Y;return X&&X.replace!=null?Y=X.replace:Y=Jy(K.response.headers.get("Location"),new URL(D.url),u)===N.location.pathname+N.location.search,await or(D,K,{submission:V,replace:Y}),{shortCircuited:!0}}if($i(K))throw Ut(400,{type:"defer-action"});if(rn(K)){let Y=Sa(z,se.route.id);return(X&&X.replace)!==!0&&(T=it.Push),{matches:z,pendingActionResult:[Y.route.id,K]}}return{matches:z,pendingActionResult:[se.route.id,K]}}async function Nd(D,L,V,z,G,X,te,K,se,Y,ae){let Te=G||fh(L,X),me=X||te||ov(Te),Ae=!C&&(!f.v7_partialHydration||!se);if(z){if(Ae){let Ue=ko(ae);ft(qe({navigation:Te},Ue!==void 0?{actionData:Ue}:{}),{flushSync:Y})}let he=await bi(V,L.pathname,D.signal);if(he.type==="aborted")return{shortCircuited:!0};if(he.type==="error"){let{error:Ue,notFoundMatches:Ct,route:Ne}=Lr(L.pathname,he);return{matches:Ct,loaderData:{},errors:{[Ne.id]:Ue}}}else if(he.matches)V=he.matches;else{let{error:Ue,notFoundMatches:Ct,route:Ne}=ar(L.pathname);return{matches:Ct,loaderData:{},errors:{[Ne.id]:Ue}}}}let Ie=l||o,[tt,He]=Qy(t.history,N,V,me,L,f.v7_partialHydration&&se===!0,f.unstable_skipActionErrorRevalidation,ge,et,Ft,Pe,oe,de,Ie,u,ae);if(Ni(he=>!(V&&V.some(Ue=>Ue.route.id===he))||tt&&tt.some(Ue=>Ue.route.id===he)),Z=++W,tt.length===0&&He.length===0){let he=Es();return zn(L,qe({matches:V,loaderData:{},errors:ae&&rn(ae[1])?{[ae[0]]:ae[1].error}:null},nv(ae),he?{fetchers:new Map(N.fetchers)}:{}),{flushSync:Y}),{shortCircuited:!0}}if(Ae){let he={};if(!z){he.navigation=Te;let Ue=ko(ae);Ue!==void 0&&(he.actionData=Ue)}He.length>0&&(he.fetchers=No(He)),ft(he,{flushSync:Y})}He.forEach(he=>{fe.has(he.key)&&xn(he.key),he.controller&&fe.set(he.key,he.controller)});let Vr=()=>He.forEach(he=>xn(he.key));E&&E.signal.addEventListener("abort",Vr);let{loaderResults:Rn,fetcherResults:jr}=await at(N.matches,V,tt,He,D);if(D.signal.aborted)return{shortCircuited:!0};E&&E.signal.removeEventListener("abort",Vr),He.forEach(he=>fe.delete(he.key));let Pn=iv([...Rn,...jr]);if(Pn){if(Pn.idx>=tt.length){let he=He[Pn.idx-tt.length].key;de.add(he)}return await or(D,Pn.result,{replace:K}),{shortCircuited:!0}}let{loaderData:ur,errors:qt}=ev(N,V,tt,Rn,ae,He,jr,De);De.forEach((he,Ue)=>{he.subscribe(Ct=>{(Ct||he.done)&&De.delete(Ue)})}),f.v7_partialHydration&&se&&N.errors&&Object.entries(N.errors).filter(he=>{let[Ue]=he;return!tt.some(Ct=>Ct.route.id===Ue)}).forEach(he=>{let[Ue,Ct]=he;qt=Object.assign(qt||{},{[Ue]:Ct})});let $n=Es(),mn=Ll(Z),Fr=$n||mn||He.length>0;return qe({matches:V,loaderData:ur,errors:qt},Fr?{fetchers:new Map(N.fetchers)}:{})}function ko(D){if(D&&!rn(D[1]))return{[D[0]]:D[1].data};if(N.actionData)return Object.keys(N.actionData).length===0?null:N.actionData}function No(D){return D.forEach(L=>{let V=N.fetchers.get(L.key),z=ta(void 0,V?V.data:void 0);N.fetchers.set(L.key,z)}),new Map(N.fetchers)}function Ol(D,L,V,z){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");fe.has(D)&&xn(D);let G=(z&&z.unstable_flushSync)===!0,X=l||o,te=Pf(N.location,N.matches,u,f.v7_prependBasename,V,f.v7_relativeSplatPath,L,z==null?void 0:z.relative),K=Fi(X,te,u),se=Mr(K,X,te);if(se.active&&se.matches&&(K=se.matches),!K){pn(D,L,Ut(404,{pathname:te}),{flushSync:G});return}let{path:Y,submission:ae,error:Te}=Gy(f.v7_normalizeFormMethod,!0,te,z);if(Te){pn(D,L,Te,{flushSync:G});return}let me=la(K,Y);if(y=(z&&z.preventScrollReset)===!0,ae&&bn(ae.formMethod)){bd(D,L,Y,me,K,se.active,G,ae);return}oe.set(D,{routeId:L,path:Y}),bo(D,L,Y,me,K,se.active,G,ae)}async function bd(D,L,V,z,G,X,te,K){lt(),oe.delete(D);function se(Ne){if(!Ne.route.action&&!Ne.route.lazy){let en=Ut(405,{method:K.formMethod,pathname:V,routeId:L});return pn(D,L,en,{flushSync:te}),!0}return!1}if(!X&&se(z))return;let Y=N.fetchers.get(D);Zt(D,ZR(K,Y),{flushSync:te});let ae=new AbortController,Te=As(t.history,V,ae.signal,K);if(X){let Ne=await bi(G,V,Te.signal);if(Ne.type==="aborted")return;if(Ne.type==="error"){let{error:en}=Lr(V,Ne);pn(D,L,en,{flushSync:te});return}else if(Ne.matches){if(G=Ne.matches,z=la(G,V),se(z))return}else{pn(D,L,Ut(404,{pathname:V}),{flushSync:te});return}}fe.set(D,ae);let me=W,Ie=(await Or("action",Te,[z],G))[0];if(Te.signal.aborted){fe.get(D)===ae&&fe.delete(D);return}if(f.v7_fetcherPersist&&Pe.has(D)){if(Hi(Ie)||rn(Ie)){Zt(D,Hr(void 0));return}}else{if(Hi(Ie))if(fe.delete(D),Z>me){Zt(D,Hr(void 0));return}else return de.add(D),Zt(D,ta(K)),or(Te,Ie,{fetcherSubmission:K});if(rn(Ie)){pn(D,L,Ie.error);return}}if($i(Ie))throw Ut(400,{type:"defer-action"});let tt=N.navigation.location||N.location,He=As(t.history,tt,ae.signal),Vr=l||o,Rn=N.navigation.state!=="idle"?Fi(Vr,N.navigation.location,u):N.matches;ye(Rn,"Didn't find any matches after fetcher action");let jr=++W;ee.set(D,jr);let Pn=ta(K,Ie.data);N.fetchers.set(D,Pn);let[ur,qt]=Qy(t.history,N,Rn,K,tt,!1,f.unstable_skipActionErrorRevalidation,ge,et,Ft,Pe,oe,de,Vr,u,[z.route.id,Ie]);qt.filter(Ne=>Ne.key!==D).forEach(Ne=>{let en=Ne.key,Ss=N.fetchers.get(en),Ml=ta(void 0,Ss?Ss.data:void 0);N.fetchers.set(en,Ml),fe.has(en)&&xn(en),Ne.controller&&fe.set(en,Ne.controller)}),ft({fetchers:new Map(N.fetchers)});let $n=()=>qt.forEach(Ne=>xn(Ne.key));ae.signal.addEventListener("abort",$n);let{loaderResults:mn,fetcherResults:Fr}=await at(N.matches,Rn,ur,qt,He);if(ae.signal.aborted)return;ae.signal.removeEventListener("abort",$n),ee.delete(D),fe.delete(D),qt.forEach(Ne=>fe.delete(Ne.key));let he=iv([...mn,...Fr]);if(he){if(he.idx>=ur.length){let Ne=qt[he.idx-ur.length].key;de.add(Ne)}return or(He,he.result)}let{loaderData:Ue,errors:Ct}=ev(N,N.matches,ur,mn,void 0,qt,Fr,De);if(N.fetchers.has(D)){let Ne=Hr(Ie.data);N.fetchers.set(D,Ne)}Ll(jr),N.navigation.state==="loading"&&jr>Z?(ye(T,"Expected pending action"),E&&E.abort(),zn(N.navigation.location,{matches:Rn,loaderData:Ue,errors:Ct,fetchers:new Map(N.fetchers)})):(ft({errors:Ct,loaderData:tv(N.loaderData,Ue,Rn,Ct),fetchers:new Map(N.fetchers)}),ge=!1)}async function bo(D,L,V,z,G,X,te,K){let se=N.fetchers.get(D);Zt(D,ta(K,se?se.data:void 0),{flushSync:te});let Y=new AbortController,ae=As(t.history,V,Y.signal);if(X){let Ie=await bi(G,V,ae.signal);if(Ie.type==="aborted")return;if(Ie.type==="error"){let{error:tt}=Lr(V,Ie);pn(D,L,tt,{flushSync:te});return}else if(Ie.matches)G=Ie.matches,z=la(G,V);else{pn(D,L,Ut(404,{pathname:V}),{flushSync:te});return}}fe.set(D,Y);let Te=W,Ae=(await Or("loader",ae,[z],G))[0];if($i(Ae)&&(Ae=await mE(Ae,ae.signal,!0)||Ae),fe.get(D)===Y&&fe.delete(D),!ae.signal.aborted){if(Pe.has(D)){Zt(D,Hr(void 0));return}if(Hi(Ae))if(Z>Te){Zt(D,Hr(void 0));return}else{de.add(D),await or(ae,Ae);return}if(rn(Ae)){pn(D,L,Ae.error);return}ye(!$i(Ae),"Unhandled fetcher deferred data"),Zt(D,Hr(Ae.data))}}async function or(D,L,V){let{submission:z,fetcherSubmission:G,replace:X}=V===void 0?{}:V;L.response.headers.has("X-Remix-Revalidate")&&(ge=!0);let te=L.response.headers.get("Location");ye(te,"Expected a Location header on the redirect Response"),te=Jy(te,new URL(D.url),u);let K=Qa(N.location,te,{_isRedirect:!0});if(n){let Ae=!1;if(L.response.headers.has("X-Remix-Reload-Document"))Ae=!0;else if(sm.test(te)){const Ie=t.history.createURL(te);Ae=Ie.origin!==e.location.origin||Io(Ie.pathname,u)==null}if(Ae){X?e.location.replace(te):e.location.assign(te);return}}E=null;let se=X===!0?it.Replace:it.Push,{formMethod:Y,formAction:ae,formEncType:Te}=N.navigation;!z&&!G&&Y&&ae&&Te&&(z=ov(N.navigation));let me=z||G;if(DR.has(L.response.status)&&me&&bn(me.formMethod))await Bn(se,K,{submission:qe({},me,{formAction:te}),preventScrollReset:y});else{let Ae=fh(K,z);await Bn(se,K,{overrideNavigation:Ae,fetcherSubmission:G,preventScrollReset:y})}}async function Or(D,L,V,z){try{let G=await BR(c,D,L,V,z,s,i);return await Promise.all(G.map((X,te)=>{if(QR(X)){let K=X.result;return{type:Me.redirect,response:WR(K,L,V[te].route.id,z,u,f.v7_relativeSplatPath)}}return HR(X)}))}catch(G){return V.map(()=>({type:Me.error,error:G}))}}async function at(D,L,V,z,G){let[X,...te]=await Promise.all([V.length?Or("loader",G,V,L):[],...z.map(K=>{if(K.matches&&K.match&&K.controller){let se=As(t.history,K.path,K.controller.signal);return Or("loader",se,[K.match],K.matches).then(Y=>Y[0])}else return Promise.resolve({type:Me.error,error:Ut(404,{pathname:K.path})})})]);return await Promise.all([sv(D,V,X,X.map(()=>G.signal),!1,N.loaderData),sv(D,z.map(K=>K.match),te,z.map(K=>K.controller?K.controller.signal:null),!0)]),{loaderResults:X,fetcherResults:te}}function lt(){ge=!0,et.push(...Ni()),oe.forEach((D,L)=>{fe.has(L)&&(Ft.push(L),xn(L))})}function Zt(D,L,V){V===void 0&&(V={}),N.fetchers.set(D,L),ft({fetchers:new Map(N.fetchers)},{flushSync:(V&&V.flushSync)===!0})}function pn(D,L,V,z){z===void 0&&(z={});let G=Sa(N.matches,L);ws(D),ft({errors:{[G.route.id]:V},fetchers:new Map(N.fetchers)},{flushSync:(z&&z.flushSync)===!0})}function Do(D){return f.v7_fetcherPersist&&(pe.set(D,(pe.get(D)||0)+1),Pe.has(D)&&Pe.delete(D)),N.fetchers.get(D)||OR}function ws(D){let L=N.fetchers.get(D);fe.has(D)&&!(L&&L.state==="loading"&&ee.has(D))&&xn(D),oe.delete(D),ee.delete(D),de.delete(D),Pe.delete(D),N.fetchers.delete(D)}function Ai(D){if(f.v7_fetcherPersist){let L=(pe.get(D)||0)-1;L<=0?(pe.delete(D),Pe.add(D)):pe.set(D,L)}else ws(D);ft({fetchers:new Map(N.fetchers)})}function xn(D){let L=fe.get(D);ye(L,"Expected fetch controller: "+D),L.abort(),fe.delete(D)}function Oo(D){for(let L of D){let V=Do(L),z=Hr(V.data);N.fetchers.set(L,z)}}function Es(){let D=[],L=!1;for(let V of de){let z=N.fetchers.get(V);ye(z,"Expected fetcher: "+V),z.state==="loading"&&(de.delete(V),D.push(V),L=!0)}return Oo(D),L}function Ll(D){let L=[];for(let[V,z]of ee)if(z<D){let G=N.fetchers.get(V);ye(G,"Expected fetcher: "+V),G.state==="loading"&&(xn(V),ee.delete(V),L.push(V))}return Oo(L),L.length>0}function Dd(D,L){let V=N.blockers.get(D)||ea;return Fe.get(D)!==L&&Fe.set(D,L),V}function Ts(D){N.blockers.delete(D),Fe.delete(D)}function ki(D,L){let V=N.blockers.get(D)||ea;ye(V.state==="unblocked"&&L.state==="blocked"||V.state==="blocked"&&L.state==="blocked"||V.state==="blocked"&&L.state==="proceeding"||V.state==="blocked"&&L.state==="unblocked"||V.state==="proceeding"&&L.state==="unblocked","Invalid blocker state transition: "+V.state+" -> "+L.state);let z=new Map(N.blockers);z.set(D,L),ft({blockers:z})}function Lo(D){let{currentLocation:L,nextLocation:V,historyAction:z}=D;if(Fe.size===0)return;Fe.size>1&&uo(!1,"A router only supports one blocker at a time");let G=Array.from(Fe.entries()),[X,te]=G[G.length-1],K=N.blockers.get(X);if(!(K&&K.state==="proceeding")&&te({currentLocation:L,nextLocation:V,historyAction:z}))return X}function ar(D){let L=Ut(404,{pathname:D}),V=l||o,{matches:z,route:G}=rv(V);return Ni(),{notFoundMatches:z,route:G,error:L}}function Lr(D,L){let V=L.partialMatches,z=V[V.length-1].route,G=Ut(400,{type:"route-discovery",routeId:z.id,pathname:D,message:L.error!=null&&"message"in L.error?L.error:String(L.error)});return{notFoundMatches:V,route:z,error:G}}function Ni(D){let L=[];return De.forEach((V,z)=>{(!D||D(z))&&(V.cancel(),L.push(z),De.delete(z))}),L}function lr(D,L,V){if(x=D,A=L,R=V||null,!I&&N.navigation===hh){I=!0;let z=Vo(N.location,N.matches);z!=null&&ft({restoreScrollPosition:z})}return()=>{x=null,A=null,R=null}}function Mo(D,L){return R&&R(D,L.map(z=>dR(z,N.loaderData)))||D.key}function Is(D,L){if(x&&A){let V=Mo(D,L);x[V]=A()}}function Vo(D,L){if(x){let V=Mo(D,L),z=x[V];if(typeof z=="number")return z}return null}function Mr(D,L,V){if(h)if(D){if(D[D.length-1].route.path==="*")return{active:!0,matches:Du(L,V,u,!0)}}else return{active:!0,matches:Du(L,V,u,!0)||[]};return{active:!1,matches:null}}async function bi(D,L,V){let z=D,G=z.length>0?z[z.length-1].route:null;for(;;){try{await UR(h,L,z,o||l,s,i,yt,V)}catch(Y){return{type:"error",error:Y,partialMatches:z}}if(V.aborted)return{type:"aborted"};let X=l||o,te=Fi(X,L,u),K=!1;if(te){let Y=te[te.length-1].route;if(Y.index)return{type:"success",matches:te};if(Y.path&&Y.path.length>0)if(Y.path==="*")K=!0;else return{type:"success",matches:te}}let se=Du(X,L,u,!0);if(!se||z.map(Y=>Y.route.id).join("-")===se.map(Y=>Y.route.id).join("-"))return{type:"success",matches:K?te:null};if(z=se,G=z[z.length-1].route,G.path==="*")return{type:"success",matches:z}}}function vt(D){s={},l=Xa(D,i,void 0,s)}return U={get basename(){return u},get future(){return f},get state(){return N},get routes(){return o},get window(){return e},initialize:Ad,subscribe:vs,enableScrollRestoration:lr,navigate:_s,fetch:Ol,revalidate:Ao,createHref:D=>t.history.createHref(D),encodeLocation:D=>t.history.encodeLocation(D),getFetcher:Do,deleteFetcher:Ai,dispose:ys,getBlocker:Dd,deleteBlocker:Ts,patchRoutes(D,L){return hE(D,L,o||l,s,i)},_internalFetchControllers:fe,_internalActiveDeferreds:De,_internalSetRoutes:vt},U}function VR(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Pf(t,e,n,r,i,s,o,l){let u,c;if(o){u=[];for(let f of e)if(u.push(f),f.route.id===o){c=f;break}}else u=e,c=e[e.length-1];let h=rm(i||".",nm(u,s),Io(t.pathname,n)||t.pathname,l==="path");return i==null&&(h.search=t.search,h.hash=t.hash),(i==null||i===""||i===".")&&c&&c.route.index&&!om(h.search)&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(h.pathname=h.pathname==="/"?n:wr([n,h.pathname])),ts(h)}function Gy(t,e,n,r){if(!r||!VR(r))return{path:n};if(r.formMethod&&!YR(r.formMethod))return{path:n,error:Ut(405,{method:r.formMethod})};let i=()=>({path:n,error:Ut(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),l=fE(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!bn(o))return i();let m=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((S,x)=>{let[R,A]=x;return""+S+R+"="+A+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:l,formEncType:r.formEncType,formData:void 0,json:void 0,text:m}}}else if(r.formEncType==="application/json"){if(!bn(o))return i();try{let m=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:l,formEncType:r.formEncType,formData:void 0,json:m,text:void 0}}}catch{return i()}}}ye(typeof FormData=="function","FormData is not available in this environment");let u,c;if(r.formData)u=Cf(r.formData),c=r.formData;else if(r.body instanceof FormData)u=Cf(r.body),c=r.body;else if(r.body instanceof URLSearchParams)u=r.body,c=Zy(u);else if(r.body==null)u=new URLSearchParams,c=new FormData;else try{u=new URLSearchParams(r.body),c=Zy(u)}catch{return i()}let h={formMethod:o,formAction:l,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(bn(h.formMethod))return{path:n,submission:h};let f=xi(n);return e&&f.search&&om(f.search)&&u.append("index",""),f.search="?"+u,{path:ts(f),submission:h}}function jR(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function Qy(t,e,n,r,i,s,o,l,u,c,h,f,m,S,x,R){let A=R?rn(R[1])?R[1].error:R[1].data:void 0,I=t.createURL(e.location),v=t.createURL(i),w=R&&rn(R[1])?R[0]:void 0,b=w?jR(n,w):n,U=R?R[1].statusCode:void 0,N=o&&U&&U>=400,T=b.filter((E,P)=>{let{route:k}=E;if(k.lazy)return!0;if(k.loader==null)return!1;if(s)return typeof k.loader!="function"||k.loader.hydrate?!0:e.loaderData[k.id]===void 0&&(!e.errors||e.errors[k.id]===void 0);if(FR(e.loaderData,e.matches[P],E)||u.some(ge=>ge===E.route.id))return!0;let O=e.matches[P],C=E;return Xy(E,qe({currentUrl:I,currentParams:O.params,nextUrl:v,nextParams:C.params},r,{actionResult:A,unstable_actionStatus:U,defaultShouldRevalidate:N?!1:l||I.pathname+I.search===v.pathname+v.search||I.search!==v.search||dE(O,C)}))}),y=[];return f.forEach((E,P)=>{if(s||!n.some(et=>et.route.id===E.routeId)||h.has(P))return;let k=Fi(S,E.path,x);if(!k){y.push({key:P,routeId:E.routeId,path:E.path,matches:null,match:null,controller:null});return}let O=e.fetchers.get(P),C=la(k,E.path),ge=!1;m.has(P)?ge=!1:c.includes(P)?ge=!0:O&&O.state!=="idle"&&O.data===void 0?ge=l:ge=Xy(C,qe({currentUrl:I,currentParams:e.matches[e.matches.length-1].params,nextUrl:v,nextParams:n[n.length-1].params},r,{actionResult:A,unstable_actionStatus:U,defaultShouldRevalidate:N?!1:l})),ge&&y.push({key:P,routeId:E.routeId,path:E.path,matches:k,match:C,controller:new AbortController})}),[T,y]}function FR(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function dE(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Xy(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function UR(t,e,n,r,i,s,o,l){let u=[e,...n.map(c=>c.route.id)].join("-");try{let c=o.get(u);c||(c=t({path:e,matches:n,patch:(h,f)=>{l.aborted||hE(h,f,r,i,s)}}),o.set(u,c)),c&&GR(c)&&await c}finally{o.delete(u)}}function hE(t,e,n,r,i){if(t){var s;let o=r[t];ye(o,"No route found to patch children into: routeId = "+t);let l=Xa(e,i,[t,"patch",String(((s=o.children)==null?void 0:s.length)||"0")],r);o.children?o.children.push(...l):o.children=l}else{let o=Xa(e,i,["patch",String(n.length||"0")],r);n.push(...o)}}async function Yy(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];ye(i,"No route found in manifest");let s={};for(let o in r){let u=i[o]!==void 0&&o!=="hasErrorBoundary";uo(!u,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!u&&!uR.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,qe({},e(i),{lazy:void 0}))}function zR(t){return Promise.all(t.matches.map(e=>e.resolve()))}async function BR(t,e,n,r,i,s,o,l){let u=r.reduce((f,m)=>f.add(m.route.id),new Set),c=new Set,h=await t({matches:i.map(f=>{let m=u.has(f.route.id);return qe({},f,{shouldLoad:m,resolve:x=>(c.add(f.route.id),m?$R(e,n,f,s,o,x,l):Promise.resolve({type:Me.data,result:void 0}))})}),request:n,params:i[0].params,context:l});return i.forEach(f=>ye(c.has(f.route.id),'`match.resolve()` was not called for route id "'+f.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),h.filter((f,m)=>u.has(i[m].route.id))}async function $R(t,e,n,r,i,s,o){let l,u,c=h=>{let f,m=new Promise((R,A)=>f=A);u=()=>f(),e.signal.addEventListener("abort",u);let S=R=>typeof h!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):h({request:e,params:n.params,context:o},...R!==void 0?[R]:[]),x;return s?x=s(R=>S(R)):x=(async()=>{try{return{type:"data",result:await S()}}catch(R){return{type:"error",result:R}}})(),Promise.race([x,m])};try{let h=n.route[t];if(n.route.lazy)if(h){let f,[m]=await Promise.all([c(h).catch(S=>{f=S}),Yy(n.route,i,r)]);if(f!==void 0)throw f;l=m}else if(await Yy(n.route,i,r),h=n.route[t],h)l=await c(h);else if(t==="action"){let f=new URL(e.url),m=f.pathname+f.search;throw Ut(405,{method:e.method,pathname:m,routeId:n.route.id})}else return{type:Me.data,result:void 0};else if(h)l=await c(h);else{let f=new URL(e.url),m=f.pathname+f.search;throw Ut(404,{pathname:m})}ye(l.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(h){return{type:Me.error,result:h}}finally{u&&e.signal.removeEventListener("abort",u)}return l}async function HR(t){let{result:e,type:n,status:r}=t;if(pE(e)){let o;try{let l=e.headers.get("Content-Type");l&&/\bapplication\/json\b/.test(l)?e.body==null?o=null:o=await e.json():o=await e.text()}catch(l){return{type:Me.error,error:l}}return n===Me.error?{type:Me.error,error:new im(e.status,e.statusText,o),statusCode:e.status,headers:e.headers}:{type:Me.data,data:o,statusCode:e.status,headers:e.headers}}if(n===Me.error)return{type:Me.error,error:e,statusCode:nd(e)?e.status:r};if(XR(e)){var i,s;return{type:Me.deferred,deferredData:e,statusCode:(i=e.init)==null?void 0:i.status,headers:((s=e.init)==null?void 0:s.headers)&&new Headers(e.init.headers)}}return{type:Me.data,data:e,statusCode:r}}function WR(t,e,n,r,i,s){let o=t.headers.get("Location");if(ye(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!sm.test(o)){let l=r.slice(0,r.findIndex(u=>u.route.id===n)+1);o=Pf(new URL(e.url),l,i,!0,o,s),t.headers.set("Location",o)}return t}function Jy(t,e,n){if(sm.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=Io(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function As(t,e,n,r){let i=t.createURL(fE(e)).toString(),s={signal:n};if(r&&bn(r.formMethod)){let{formMethod:o,formEncType:l}=r;s.method=o.toUpperCase(),l==="application/json"?(s.headers=new Headers({"Content-Type":l}),s.body=JSON.stringify(r.json)):l==="text/plain"?s.body=r.text:l==="application/x-www-form-urlencoded"&&r.formData?s.body=Cf(r.formData):s.body=r.formData}return new Request(i,s)}function Cf(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function Zy(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function qR(t,e,n,r,i,s){let o={},l=null,u,c=!1,h={},f=r&&rn(r[1])?r[1].error:void 0;return n.forEach((m,S)=>{let x=e[S].route.id;if(ye(!Hi(m),"Cannot handle redirect results in processLoaderData"),rn(m)){let R=m.error;f!==void 0&&(R=f,f=void 0),l=l||{};{let A=Sa(t,x);l[A.route.id]==null&&(l[A.route.id]=R)}o[x]=void 0,c||(c=!0,u=nd(m.error)?m.error.status:500),m.headers&&(h[x]=m.headers)}else $i(m)?(i.set(x,m.deferredData),o[x]=m.deferredData.data,m.statusCode!=null&&m.statusCode!==200&&!c&&(u=m.statusCode),m.headers&&(h[x]=m.headers)):(o[x]=m.data,m.statusCode&&m.statusCode!==200&&!c&&(u=m.statusCode),m.headers&&(h[x]=m.headers))}),f!==void 0&&r&&(l={[r[0]]:f},o[r[0]]=void 0),{loaderData:o,errors:l,statusCode:u||200,loaderHeaders:h}}function ev(t,e,n,r,i,s,o,l){let{loaderData:u,errors:c}=qR(e,n,r,i,l);for(let h=0;h<s.length;h++){let{key:f,match:m,controller:S}=s[h];ye(o!==void 0&&o[h]!==void 0,"Did not find corresponding fetcher result");let x=o[h];if(!(S&&S.signal.aborted))if(rn(x)){let R=Sa(t.matches,m==null?void 0:m.route.id);c&&c[R.route.id]||(c=qe({},c,{[R.route.id]:x.error})),t.fetchers.delete(f)}else if(Hi(x))ye(!1,"Unhandled fetcher revalidation redirect");else if($i(x))ye(!1,"Unhandled fetcher deferred data");else{let R=Hr(x.data);t.fetchers.set(f,R)}}return{loaderData:u,errors:c}}function tv(t,e,n,r){let i=qe({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function nv(t){return t?rn(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Sa(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function rv(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Ut(t,e){let{pathname:n,routeId:r,method:i,type:s,message:o}=e===void 0?{}:e,l="Unknown Server Error",u="Unknown @remix-run/router error";return t===400?(l="Bad Request",s==="route-discovery"?u='Unable to match URL "'+n+'" - the `children()` function for '+("route `"+r+"` threw the following error:\n"+o):i&&n&&r?u="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?u="defer() is not supported in actions":s==="invalid-body"&&(u="Unable to encode submission body")):t===403?(l="Forbidden",u='Route "'+r+'" does not match URL "'+n+'"'):t===404?(l="Not Found",u='No route matches URL "'+n+'"'):t===405&&(l="Method Not Allowed",i&&n&&r?u="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(u='Invalid request method "'+i.toUpperCase()+'"')),new im(t||500,l,new Error(u),!0)}function iv(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(Hi(n))return{result:n,idx:e}}}function fE(t){let e=typeof t=="string"?xi(t):t;return ts(qe({},e,{hash:""}))}function KR(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function GR(t){return typeof t=="object"&&t!=null&&"then"in t}function QR(t){return pE(t.result)&&bR.has(t.result.status)}function $i(t){return t.type===Me.deferred}function rn(t){return t.type===Me.error}function Hi(t){return(t&&t.type)===Me.redirect}function XR(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function pE(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function YR(t){return NR.has(t.toLowerCase())}function bn(t){return AR.has(t.toLowerCase())}async function sv(t,e,n,r,i,s){for(let o=0;o<n.length;o++){let l=n[o],u=e[o];if(!u)continue;let c=t.find(f=>f.route.id===u.route.id),h=c!=null&&!dE(c,u)&&(s&&s[u.route.id])!==void 0;if($i(l)&&(i||h)){let f=r[o];ye(f,"Expected an AbortSignal for revalidating fetcher deferred result"),await mE(l,f,i).then(m=>{m&&(n[o]=m||n[o])})}}}async function mE(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Me.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Me.error,error:i}}return{type:Me.data,data:t.deferredData.data}}}function om(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function la(t,e){let n=typeof e=="string"?xi(e).search:e.search;if(t[t.length-1].route.index&&om(n||""))return t[t.length-1];let r=lE(t);return r[r.length-1]}function ov(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function fh(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function JR(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function ta(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function ZR(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Hr(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function eP(t,e){try{let n=t.sessionStorage.getItem(cE);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function tP(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(cE,JSON.stringify(n))}catch(r){uo(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.24.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fc(){return fc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fc.apply(this,arguments)}const rd=j.createContext(null),gE=j.createContext(null),hs=j.createContext(null),am=j.createContext(null),Dr=j.createContext({outlet:null,matches:[],isDataRoute:!1}),yE=j.createContext(null);function nP(t,e){let{relative:n}=e===void 0?{}:e;vl()||ye(!1);let{basename:r,navigator:i}=j.useContext(hs),{hash:s,pathname:o,search:l}=wE(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:wr([r,o])),i.createHref({pathname:u,search:l,hash:s})}function vl(){return j.useContext(am)!=null}function id(){return vl()||ye(!1),j.useContext(am).location}function vE(t){j.useContext(hs).static||j.useLayoutEffect(t)}function _E(){let{isDataRoute:t}=j.useContext(Dr);return t?gP():rP()}function rP(){vl()||ye(!1);let t=j.useContext(rd),{basename:e,future:n,navigator:r}=j.useContext(hs),{matches:i}=j.useContext(Dr),{pathname:s}=id(),o=JSON.stringify(nm(i,n.v7_relativeSplatPath)),l=j.useRef(!1);return vE(()=>{l.current=!0}),j.useCallback(function(c,h){if(h===void 0&&(h={}),!l.current)return;if(typeof c=="number"){r.go(c);return}let f=rm(c,JSON.parse(o),s,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:wr([e,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[e,r,o,s,t])}const iP=j.createContext(null);function sP(t){let e=j.useContext(Dr).outlet;return e&&j.createElement(iP.Provider,{value:t},e)}function lm(){let{matches:t}=j.useContext(Dr),e=t[t.length-1];return e?e.params:{}}function wE(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=j.useContext(hs),{matches:i}=j.useContext(Dr),{pathname:s}=id(),o=JSON.stringify(nm(i,r.v7_relativeSplatPath));return j.useMemo(()=>rm(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function oP(t,e,n,r){vl()||ye(!1);let{navigator:i}=j.useContext(hs),{matches:s}=j.useContext(Dr),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=id(),h;h=c;let f=h.pathname||"/",m=f;if(u!=="/"){let R=u.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(R.length).join("/")}let S=Fi(t,{pathname:m});return dP(S&&S.map(R=>Object.assign({},R,{params:Object.assign({},l,R.params),pathname:wr([u,i.encodeLocation?i.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?u:wr([u,i.encodeLocation?i.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),s,n,r)}function aP(){let t=mP(),e=nd(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:i},n):null,null)}const lP=j.createElement(aP,null);class uP extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?j.createElement(Dr.Provider,{value:this.props.routeContext},j.createElement(yE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function cP(t){let{routeContext:e,match:n,children:r}=t,i=j.useContext(rd);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),j.createElement(Dr.Provider,{value:e},r)}function dP(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let h=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);h>=0||ye(!1),o=o.slice(0,Math.min(o.length,h+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=h),f.route.id){let{loaderData:m,errors:S}=n,x=f.route.loader&&m[f.route.id]===void 0&&(!S||S[f.route.id]===void 0);if(f.route.lazy||x){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((h,f,m)=>{let S,x=!1,R=null,A=null;n&&(S=l&&f.route.id?l[f.route.id]:void 0,R=f.route.errorElement||lP,u&&(c<0&&m===0?(yP("route-fallback"),x=!0,A=null):c===m&&(x=!0,A=f.route.hydrateFallbackElement||null)));let I=e.concat(o.slice(0,m+1)),v=()=>{let w;return S?w=R:x?w=A:f.route.Component?w=j.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=h,j.createElement(cP,{match:f,routeContext:{outlet:h,matches:I,isDataRoute:n!=null},children:w})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?j.createElement(uP,{location:n.location,revalidation:n.revalidation,component:R,error:S,children:v(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):v()},null)}var EE=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(EE||{}),pc=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(pc||{});function hP(t){let e=j.useContext(rd);return e||ye(!1),e}function fP(t){let e=j.useContext(gE);return e||ye(!1),e}function pP(t){let e=j.useContext(Dr);return e||ye(!1),e}function TE(t){let e=pP(),n=e.matches[e.matches.length-1];return n.route.id||ye(!1),n.route.id}function mP(){var t;let e=j.useContext(yE),n=fP(pc.UseRouteError),r=TE(pc.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function gP(){let{router:t}=hP(EE.UseNavigateStable),e=TE(pc.UseNavigateStable),n=j.useRef(!1);return vE(()=>{n.current=!0}),j.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,fc({fromRouteId:e},s)))},[t,e])}const av={};function yP(t,e,n){av[t]||(av[t]=!0)}function vP(t){return sP(t.context)}function _P(t){let{basename:e="/",children:n=null,location:r,navigationType:i=it.Pop,navigator:s,static:o=!1,future:l}=t;vl()&&ye(!1);let u=e.replace(/^\/*/,"/"),c=j.useMemo(()=>({basename:u,navigator:s,static:o,future:fc({v7_relativeSplatPath:!1},l)}),[u,l,s,o]);typeof r=="string"&&(r=xi(r));let{pathname:h="/",search:f="",hash:m="",state:S=null,key:x="default"}=r,R=j.useMemo(()=>{let A=Io(h,u);return A==null?null:{location:{pathname:A,search:f,hash:m,state:S,key:x},navigationType:i}},[u,h,f,m,S,x,i]);return R==null?null:j.createElement(hs.Provider,{value:c},j.createElement(am.Provider,{children:n,value:R}))}new Promise(()=>{});function wP(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:j.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:j.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:j.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.24.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ya(){return Ya=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ya.apply(this,arguments)}function EP(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function TP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function IP(t,e){return t.button===0&&(!e||e==="_self")&&!TP(t)}const SP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],xP="6";try{window.__reactRouterVersion=xP}catch{}function RP(t,e){return MR({basename:void 0,future:Ya({},void 0,{v7_prependBasename:!0}),history:oR({window:void 0}),hydrationData:PP(),routes:t,mapRouteProperties:wP,unstable_dataStrategy:void 0,unstable_patchRoutesOnMiss:void 0,window:void 0}).initialize()}function PP(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Ya({},e,{errors:CP(e.errors)})),e}function CP(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new im(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const AP=j.createContext({isTransitioning:!1}),kP=j.createContext(new Map),NP="startTransition",lv=bh[NP],bP="flushSync",uv=tR[bP];function DP(t){lv?lv(t):t()}function na(t){uv?uv(t):t()}let OP=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function LP(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=j.useState(n.state),[o,l]=j.useState(),[u,c]=j.useState({isTransitioning:!1}),[h,f]=j.useState(),[m,S]=j.useState(),[x,R]=j.useState(),A=j.useRef(new Map),{v7_startTransition:I}=r||{},v=j.useCallback(T=>{I?DP(T):T()},[I]),w=j.useCallback((T,y)=>{let{deletedFetchers:E,unstable_flushSync:P,unstable_viewTransitionOpts:k}=y;E.forEach(C=>A.current.delete(C)),T.fetchers.forEach((C,ge)=>{C.data!==void 0&&A.current.set(ge,C.data)});let O=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!k||O){P?na(()=>s(T)):v(()=>s(T));return}if(P){na(()=>{m&&(h&&h.resolve(),m.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:k.currentLocation,nextLocation:k.nextLocation})});let C=n.window.document.startViewTransition(()=>{na(()=>s(T))});C.finished.finally(()=>{na(()=>{f(void 0),S(void 0),l(void 0),c({isTransitioning:!1})})}),na(()=>S(C));return}m?(h&&h.resolve(),m.skipTransition(),R({state:T,currentLocation:k.currentLocation,nextLocation:k.nextLocation})):(l(T),c({isTransitioning:!0,flushSync:!1,currentLocation:k.currentLocation,nextLocation:k.nextLocation}))},[n.window,m,h,A,v]);j.useLayoutEffect(()=>n.subscribe(w),[n,w]),j.useEffect(()=>{u.isTransitioning&&!u.flushSync&&f(new OP)},[u]),j.useEffect(()=>{if(h&&o&&n.window){let T=o,y=h.promise,E=n.window.document.startViewTransition(async()=>{v(()=>s(T)),await y});E.finished.finally(()=>{f(void 0),S(void 0),l(void 0),c({isTransitioning:!1})}),S(E)}},[v,o,h,n.window]),j.useEffect(()=>{h&&o&&i.location.key===o.location.key&&h.resolve()},[h,m,i.location,o]),j.useEffect(()=>{!u.isTransitioning&&x&&(l(x.state),c({isTransitioning:!0,flushSync:!1,currentLocation:x.currentLocation,nextLocation:x.nextLocation}),R(void 0))},[u.isTransitioning,x]),j.useEffect(()=>{},[]);let b=j.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:T=>n.navigate(T),push:(T,y,E)=>n.navigate(T,{state:y,preventScrollReset:E==null?void 0:E.preventScrollReset}),replace:(T,y,E)=>n.navigate(T,{replace:!0,state:y,preventScrollReset:E==null?void 0:E.preventScrollReset})}),[n]),U=n.basename||"/",N=j.useMemo(()=>({router:n,navigator:b,static:!1,basename:U}),[n,b,U]);return j.createElement(j.Fragment,null,j.createElement(rd.Provider,{value:N},j.createElement(gE.Provider,{value:i},j.createElement(kP.Provider,{value:A.current},j.createElement(AP.Provider,{value:u},j.createElement(_P,{basename:U,location:i.location,navigationType:i.historyAction,navigator:b,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},i.initialized||n.future.v7_partialHydration?j.createElement(MP,{routes:n.routes,future:n.future,state:i}):e))))),null)}function MP(t){let{routes:e,future:n,state:r}=t;return oP(e,void 0,r,n)}const VP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Oe=j.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:u,to:c,preventScrollReset:h,unstable_viewTransition:f}=e,m=EP(e,SP),{basename:S}=j.useContext(hs),x,R=!1;if(typeof c=="string"&&jP.test(c)&&(x=c,VP))try{let w=new URL(window.location.href),b=c.startsWith("//")?new URL(w.protocol+c):new URL(c),U=Io(b.pathname,S);b.origin===w.origin&&U!=null?c=U+b.search+b.hash:R=!0}catch{}let A=nP(c,{relative:i}),I=FP(c,{replace:o,state:l,target:u,preventScrollReset:h,relative:i,unstable_viewTransition:f});function v(w){r&&r(w),w.defaultPrevented||I(w)}return j.createElement("a",Ya({},m,{href:x||A,onClick:R||s?r:v,ref:n,target:u}))});var cv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(cv||(cv={}));var dv;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(dv||(dv={}));function FP(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:l}=e===void 0?{}:e,u=_E(),c=id(),h=wE(t,{relative:o});return j.useCallback(f=>{if(IP(f,n)){f.preventDefault();let m=r!==void 0?r:ts(c)===ts(h);u(t,{replace:m,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:l})}},[c,u,h,r,i,n,t,s,o,l])}var hv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},UP=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},SE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,h=s>>2,f=(s&3)<<4|l>>4;let m=(l&15)<<2|c>>6,S=c&63;u||(S=64,o||(m=64)),r.push(n[h],n[f],n[m],n[S])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(IE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):UP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||c==null||f==null)throw new zP;const m=s<<2|l>>4;if(r.push(m),c!==64){const S=l<<4&240|c>>2;if(r.push(S),f!==64){const x=c<<6&192|f;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class zP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const BP=function(t){const e=IE(t);return SE.encodeByteArray(e,!0)},mc=function(t){return BP(t).replace(/\./g,"")},xE=function(t){try{return SE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $P(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP=()=>$P().__FIREBASE_DEFAULTS__,WP=()=>{if(typeof process>"u"||typeof hv>"u")return;const t=hv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},qP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&xE(t[1]);return e&&JSON.parse(e)},sd=()=>{try{return HP()||WP()||qP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},RE=t=>{var e,n;return(n=(e=sd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},PE=t=>{const e=RE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},CE=()=>{var t;return(t=sd())===null||t===void 0?void 0:t.config},AE=t=>{var e;return(e=sd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[mc(JSON.stringify(n)),mc(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function GP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pt())}function QP(){var t;const e=(t=sd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function XP(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function YP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function JP(){const t=Pt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function ZP(){return!QP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function eC(){try{return typeof indexedDB=="object"}catch{return!1}}function tC(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC="FirebaseError";class ir extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=nC,Object.setPrototypeOf(this,ir.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_l.prototype.create)}}class _l{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?rC(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new ir(i,l,r)}}function rC(t,e){return t.replace(iC,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const iC=/\{\$([^}]+)}/g;function sC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function gc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(fv(s)&&fv(o)){if(!gc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function fv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ua(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function ca(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function oC(t,e){const n=new aC(t,e);return n.subscribe.bind(n)}class aC{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");lC(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=ph),i.error===void 0&&(i.error=ph),i.complete===void 0&&(i.complete=ph);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lC(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ph(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(t){return t&&t._delegate?t._delegate:t}class gi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uC=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new KP;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(dC(e))try{this.getOrInitializeService({instanceIdentifier:Vi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Vi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vi){return this.instances.has(e)}getOptions(e=Vi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:cC(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Vi){return this.component?this.component.multipleInstances?e:Vi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function cC(t){return t===Vi?void 0:t}function dC(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new uC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(we||(we={}));const fC={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},pC=we.INFO,mC={[we.DEBUG]:"log",[we.VERBOSE]:"log",[we.INFO]:"info",[we.WARN]:"warn",[we.ERROR]:"error"},gC=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=mC[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class um{constructor(e){this.name=e,this._logLevel=pC,this._logHandler=gC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in we))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,we.DEBUG,...e),this._logHandler(this,we.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,we.VERBOSE,...e),this._logHandler(this,we.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,we.INFO,...e),this._logHandler(this,we.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,we.WARN,...e),this._logHandler(this,we.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,we.ERROR,...e),this._logHandler(this,we.ERROR,...e)}}const yC=(t,e)=>e.some(n=>t instanceof n);let pv,mv;function vC(){return pv||(pv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _C(){return mv||(mv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const NE=new WeakMap,Af=new WeakMap,bE=new WeakMap,mh=new WeakMap,cm=new WeakMap;function wC(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(di(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&NE.set(n,t)}).catch(()=>{}),cm.set(e,t),e}function EC(t){if(Af.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Af.set(t,e)}let kf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Af.get(t);if(e==="objectStoreNames")return t.objectStoreNames||bE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return di(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function TC(t){kf=t(kf)}function IC(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(gh(this),e,...n);return bE.set(r,e.sort?e.sort():[e]),di(r)}:_C().includes(t)?function(...e){return t.apply(gh(this),e),di(NE.get(this))}:function(...e){return di(t.apply(gh(this),e))}}function SC(t){return typeof t=="function"?IC(t):(t instanceof IDBTransaction&&EC(t),yC(t,vC())?new Proxy(t,kf):t)}function di(t){if(t instanceof IDBRequest)return wC(t);if(mh.has(t))return mh.get(t);const e=SC(t);return e!==t&&(mh.set(t,e),cm.set(e,t)),e}const gh=t=>cm.get(t);function xC(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=di(o);return r&&o.addEventListener("upgradeneeded",u=>{r(di(o.result),u.oldVersion,u.newVersion,di(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const RC=["get","getKey","getAll","getAllKeys","count"],PC=["put","add","delete","clear"],yh=new Map;function gv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(yh.get(e))return yh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=PC.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||RC.includes(n)))return;const s=async function(o,...l){const u=this.transaction(o,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),i&&u.done]))[0]};return yh.set(e,s),s}TC(t=>({...t,get:(e,n,r)=>gv(e,n)||t.get(e,n,r),has:(e,n)=>!!gv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(AC(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function AC(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Nf="@firebase/app",yv="0.10.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns=new um("@firebase/app"),kC="@firebase/app-compat",NC="@firebase/analytics-compat",bC="@firebase/analytics",DC="@firebase/app-check-compat",OC="@firebase/app-check",LC="@firebase/auth",MC="@firebase/auth-compat",VC="@firebase/database",jC="@firebase/database-compat",FC="@firebase/functions",UC="@firebase/functions-compat",zC="@firebase/installations",BC="@firebase/installations-compat",$C="@firebase/messaging",HC="@firebase/messaging-compat",WC="@firebase/performance",qC="@firebase/performance-compat",KC="@firebase/remote-config",GC="@firebase/remote-config-compat",QC="@firebase/storage",XC="@firebase/storage-compat",YC="@firebase/firestore",JC="@firebase/vertexai-preview",ZC="@firebase/firestore-compat",eA="firebase",tA="10.12.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bf="[DEFAULT]",nA={[Nf]:"fire-core",[kC]:"fire-core-compat",[bC]:"fire-analytics",[NC]:"fire-analytics-compat",[OC]:"fire-app-check",[DC]:"fire-app-check-compat",[LC]:"fire-auth",[MC]:"fire-auth-compat",[VC]:"fire-rtdb",[jC]:"fire-rtdb-compat",[FC]:"fire-fn",[UC]:"fire-fn-compat",[zC]:"fire-iid",[BC]:"fire-iid-compat",[$C]:"fire-fcm",[HC]:"fire-fcm-compat",[WC]:"fire-perf",[qC]:"fire-perf-compat",[KC]:"fire-rc",[GC]:"fire-rc-compat",[QC]:"fire-gcs",[XC]:"fire-gcs-compat",[YC]:"fire-fst",[ZC]:"fire-fst-compat",[JC]:"fire-vertex","fire-js":"fire-js",[eA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yc=new Map,rA=new Map,Df=new Map;function vv(t,e){try{t.container.addComponent(e)}catch(n){ns.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function rs(t){const e=t.name;if(Df.has(e))return ns.debug(`There were multiple attempts to register component ${e}.`),!1;Df.set(e,t);for(const n of yc.values())vv(n,t);for(const n of rA.values())vv(n,t);return!0}function od(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Kn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},hi=new _l("app","Firebase",iA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new gi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs=tA;function DE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:bf,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw hi.create("bad-app-name",{appName:String(i)});if(n||(n=CE()),!n)throw hi.create("no-options");const s=yc.get(i);if(s){if(gc(n,s.options)&&gc(r,s.config))return s;throw hi.create("duplicate-app",{appName:i})}const o=new hC(i);for(const u of Df.values())o.addComponent(u);const l=new sA(n,r,o);return yc.set(i,l),l}function dm(t=bf){const e=yc.get(t);if(!e&&t===bf&&CE())return DE();if(!e)throw hi.create("no-app",{appName:t});return e}function Xn(t,e,n){var r;let i=(r=nA[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ns.warn(l.join(" "));return}rs(new gi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA="firebase-heartbeat-database",aA=1,Ja="firebase-heartbeat-store";let vh=null;function OE(){return vh||(vh=xC(oA,aA,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ja)}catch(n){console.warn(n)}}}}).catch(t=>{throw hi.create("idb-open",{originalErrorMessage:t.message})})),vh}async function lA(t){try{const n=(await OE()).transaction(Ja),r=await n.objectStore(Ja).get(LE(t));return await n.done,r}catch(e){if(e instanceof ir)ns.warn(e.message);else{const n=hi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ns.warn(n.message)}}}async function _v(t,e){try{const r=(await OE()).transaction(Ja,"readwrite");await r.objectStore(Ja).put(e,LE(t)),await r.done}catch(n){if(n instanceof ir)ns.warn(n.message);else{const r=hi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ns.warn(r.message)}}}function LE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA=1024,cA=30*24*60*60*1e3;class dA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new fA(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=wv();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=cA}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=wv(),{heartbeatsToSend:r,unsentEntries:i}=hA(this._heartbeatsCache.heartbeats),s=mc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function wv(){return new Date().toISOString().substring(0,10)}function hA(t,e=uA){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Ev(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Ev(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class fA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return eC()?tC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await lA(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return _v(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return _v(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Ev(t){return mc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(t){rs(new gi("platform-logger",e=>new CC(e),"PRIVATE")),rs(new gi("heartbeat",e=>new dA(e),"PRIVATE")),Xn(Nf,yv,t),Xn(Nf,yv,"esm2017"),Xn("fire-js","")}pA("");var mA="firebase",gA="10.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xn(mA,gA,"app");var Tv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Gi,ME;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,y){function E(){}E.prototype=y.prototype,T.D=y.prototype,T.prototype=new E,T.prototype.constructor=T,T.C=function(P,k,O){for(var C=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)C[ge-2]=arguments[ge];return y.prototype[k].apply(P,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,y,E){E||(E=0);var P=Array(16);if(typeof y=="string")for(var k=0;16>k;++k)P[k]=y.charCodeAt(E++)|y.charCodeAt(E++)<<8|y.charCodeAt(E++)<<16|y.charCodeAt(E++)<<24;else for(k=0;16>k;++k)P[k]=y[E++]|y[E++]<<8|y[E++]<<16|y[E++]<<24;y=T.g[0],E=T.g[1],k=T.g[2];var O=T.g[3],C=y+(O^E&(k^O))+P[0]+3614090360&4294967295;y=E+(C<<7&4294967295|C>>>25),C=O+(k^y&(E^k))+P[1]+3905402710&4294967295,O=y+(C<<12&4294967295|C>>>20),C=k+(E^O&(y^E))+P[2]+606105819&4294967295,k=O+(C<<17&4294967295|C>>>15),C=E+(y^k&(O^y))+P[3]+3250441966&4294967295,E=k+(C<<22&4294967295|C>>>10),C=y+(O^E&(k^O))+P[4]+4118548399&4294967295,y=E+(C<<7&4294967295|C>>>25),C=O+(k^y&(E^k))+P[5]+1200080426&4294967295,O=y+(C<<12&4294967295|C>>>20),C=k+(E^O&(y^E))+P[6]+2821735955&4294967295,k=O+(C<<17&4294967295|C>>>15),C=E+(y^k&(O^y))+P[7]+4249261313&4294967295,E=k+(C<<22&4294967295|C>>>10),C=y+(O^E&(k^O))+P[8]+1770035416&4294967295,y=E+(C<<7&4294967295|C>>>25),C=O+(k^y&(E^k))+P[9]+2336552879&4294967295,O=y+(C<<12&4294967295|C>>>20),C=k+(E^O&(y^E))+P[10]+4294925233&4294967295,k=O+(C<<17&4294967295|C>>>15),C=E+(y^k&(O^y))+P[11]+2304563134&4294967295,E=k+(C<<22&4294967295|C>>>10),C=y+(O^E&(k^O))+P[12]+1804603682&4294967295,y=E+(C<<7&4294967295|C>>>25),C=O+(k^y&(E^k))+P[13]+4254626195&4294967295,O=y+(C<<12&4294967295|C>>>20),C=k+(E^O&(y^E))+P[14]+2792965006&4294967295,k=O+(C<<17&4294967295|C>>>15),C=E+(y^k&(O^y))+P[15]+1236535329&4294967295,E=k+(C<<22&4294967295|C>>>10),C=y+(k^O&(E^k))+P[1]+4129170786&4294967295,y=E+(C<<5&4294967295|C>>>27),C=O+(E^k&(y^E))+P[6]+3225465664&4294967295,O=y+(C<<9&4294967295|C>>>23),C=k+(y^E&(O^y))+P[11]+643717713&4294967295,k=O+(C<<14&4294967295|C>>>18),C=E+(O^y&(k^O))+P[0]+3921069994&4294967295,E=k+(C<<20&4294967295|C>>>12),C=y+(k^O&(E^k))+P[5]+3593408605&4294967295,y=E+(C<<5&4294967295|C>>>27),C=O+(E^k&(y^E))+P[10]+38016083&4294967295,O=y+(C<<9&4294967295|C>>>23),C=k+(y^E&(O^y))+P[15]+3634488961&4294967295,k=O+(C<<14&4294967295|C>>>18),C=E+(O^y&(k^O))+P[4]+3889429448&4294967295,E=k+(C<<20&4294967295|C>>>12),C=y+(k^O&(E^k))+P[9]+568446438&4294967295,y=E+(C<<5&4294967295|C>>>27),C=O+(E^k&(y^E))+P[14]+3275163606&4294967295,O=y+(C<<9&4294967295|C>>>23),C=k+(y^E&(O^y))+P[3]+4107603335&4294967295,k=O+(C<<14&4294967295|C>>>18),C=E+(O^y&(k^O))+P[8]+1163531501&4294967295,E=k+(C<<20&4294967295|C>>>12),C=y+(k^O&(E^k))+P[13]+2850285829&4294967295,y=E+(C<<5&4294967295|C>>>27),C=O+(E^k&(y^E))+P[2]+4243563512&4294967295,O=y+(C<<9&4294967295|C>>>23),C=k+(y^E&(O^y))+P[7]+1735328473&4294967295,k=O+(C<<14&4294967295|C>>>18),C=E+(O^y&(k^O))+P[12]+2368359562&4294967295,E=k+(C<<20&4294967295|C>>>12),C=y+(E^k^O)+P[5]+4294588738&4294967295,y=E+(C<<4&4294967295|C>>>28),C=O+(y^E^k)+P[8]+2272392833&4294967295,O=y+(C<<11&4294967295|C>>>21),C=k+(O^y^E)+P[11]+1839030562&4294967295,k=O+(C<<16&4294967295|C>>>16),C=E+(k^O^y)+P[14]+4259657740&4294967295,E=k+(C<<23&4294967295|C>>>9),C=y+(E^k^O)+P[1]+2763975236&4294967295,y=E+(C<<4&4294967295|C>>>28),C=O+(y^E^k)+P[4]+1272893353&4294967295,O=y+(C<<11&4294967295|C>>>21),C=k+(O^y^E)+P[7]+4139469664&4294967295,k=O+(C<<16&4294967295|C>>>16),C=E+(k^O^y)+P[10]+3200236656&4294967295,E=k+(C<<23&4294967295|C>>>9),C=y+(E^k^O)+P[13]+681279174&4294967295,y=E+(C<<4&4294967295|C>>>28),C=O+(y^E^k)+P[0]+3936430074&4294967295,O=y+(C<<11&4294967295|C>>>21),C=k+(O^y^E)+P[3]+3572445317&4294967295,k=O+(C<<16&4294967295|C>>>16),C=E+(k^O^y)+P[6]+76029189&4294967295,E=k+(C<<23&4294967295|C>>>9),C=y+(E^k^O)+P[9]+3654602809&4294967295,y=E+(C<<4&4294967295|C>>>28),C=O+(y^E^k)+P[12]+3873151461&4294967295,O=y+(C<<11&4294967295|C>>>21),C=k+(O^y^E)+P[15]+530742520&4294967295,k=O+(C<<16&4294967295|C>>>16),C=E+(k^O^y)+P[2]+3299628645&4294967295,E=k+(C<<23&4294967295|C>>>9),C=y+(k^(E|~O))+P[0]+4096336452&4294967295,y=E+(C<<6&4294967295|C>>>26),C=O+(E^(y|~k))+P[7]+1126891415&4294967295,O=y+(C<<10&4294967295|C>>>22),C=k+(y^(O|~E))+P[14]+2878612391&4294967295,k=O+(C<<15&4294967295|C>>>17),C=E+(O^(k|~y))+P[5]+4237533241&4294967295,E=k+(C<<21&4294967295|C>>>11),C=y+(k^(E|~O))+P[12]+1700485571&4294967295,y=E+(C<<6&4294967295|C>>>26),C=O+(E^(y|~k))+P[3]+2399980690&4294967295,O=y+(C<<10&4294967295|C>>>22),C=k+(y^(O|~E))+P[10]+4293915773&4294967295,k=O+(C<<15&4294967295|C>>>17),C=E+(O^(k|~y))+P[1]+2240044497&4294967295,E=k+(C<<21&4294967295|C>>>11),C=y+(k^(E|~O))+P[8]+1873313359&4294967295,y=E+(C<<6&4294967295|C>>>26),C=O+(E^(y|~k))+P[15]+4264355552&4294967295,O=y+(C<<10&4294967295|C>>>22),C=k+(y^(O|~E))+P[6]+2734768916&4294967295,k=O+(C<<15&4294967295|C>>>17),C=E+(O^(k|~y))+P[13]+1309151649&4294967295,E=k+(C<<21&4294967295|C>>>11),C=y+(k^(E|~O))+P[4]+4149444226&4294967295,y=E+(C<<6&4294967295|C>>>26),C=O+(E^(y|~k))+P[11]+3174756917&4294967295,O=y+(C<<10&4294967295|C>>>22),C=k+(y^(O|~E))+P[2]+718787259&4294967295,k=O+(C<<15&4294967295|C>>>17),C=E+(O^(k|~y))+P[9]+3951481745&4294967295,T.g[0]=T.g[0]+y&4294967295,T.g[1]=T.g[1]+(k+(C<<21&4294967295|C>>>11))&4294967295,T.g[2]=T.g[2]+k&4294967295,T.g[3]=T.g[3]+O&4294967295}r.prototype.u=function(T,y){y===void 0&&(y=T.length);for(var E=y-this.blockSize,P=this.B,k=this.h,O=0;O<y;){if(k==0)for(;O<=E;)i(this,T,O),O+=this.blockSize;if(typeof T=="string"){for(;O<y;)if(P[k++]=T.charCodeAt(O++),k==this.blockSize){i(this,P),k=0;break}}else for(;O<y;)if(P[k++]=T[O++],k==this.blockSize){i(this,P),k=0;break}}this.h=k,this.o+=y},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var y=1;y<T.length-8;++y)T[y]=0;var E=8*this.o;for(y=T.length-8;y<T.length;++y)T[y]=E&255,E/=256;for(this.u(T),T=Array(16),y=E=0;4>y;++y)for(var P=0;32>P;P+=8)T[E++]=this.g[y]>>>P&255;return T};function s(T,y){var E=l;return Object.prototype.hasOwnProperty.call(E,T)?E[T]:E[T]=y(T)}function o(T,y){this.h=y;for(var E=[],P=!0,k=T.length-1;0<=k;k--){var O=T[k]|0;P&&O==y||(E[k]=O,P=!1)}this.g=E}var l={};function u(T){return-128<=T&&128>T?s(T,function(y){return new o([y|0],0>y?-1:0)}):new o([T|0],0>T?-1:0)}function c(T){if(isNaN(T)||!isFinite(T))return f;if(0>T)return A(c(-T));for(var y=[],E=1,P=0;T>=E;P++)y[P]=T/E|0,E*=4294967296;return new o(y,0)}function h(T,y){if(T.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(T.charAt(0)=="-")return A(h(T.substring(1),y));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=c(Math.pow(y,8)),P=f,k=0;k<T.length;k+=8){var O=Math.min(8,T.length-k),C=parseInt(T.substring(k,k+O),y);8>O?(O=c(Math.pow(y,O)),P=P.j(O).add(c(C))):(P=P.j(E),P=P.add(c(C)))}return P}var f=u(0),m=u(1),S=u(16777216);t=o.prototype,t.m=function(){if(R(this))return-A(this).m();for(var T=0,y=1,E=0;E<this.g.length;E++){var P=this.i(E);T+=(0<=P?P:4294967296+P)*y,y*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(x(this))return"0";if(R(this))return"-"+A(this).toString(T);for(var y=c(Math.pow(T,6)),E=this,P="";;){var k=b(E,y).g;E=I(E,k.j(y));var O=((0<E.g.length?E.g[0]:E.h)>>>0).toString(T);if(E=k,x(E))return O+P;for(;6>O.length;)O="0"+O;P=O+P}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function x(T){if(T.h!=0)return!1;for(var y=0;y<T.g.length;y++)if(T.g[y]!=0)return!1;return!0}function R(T){return T.h==-1}t.l=function(T){return T=I(this,T),R(T)?-1:x(T)?0:1};function A(T){for(var y=T.g.length,E=[],P=0;P<y;P++)E[P]=~T.g[P];return new o(E,~T.h).add(m)}t.abs=function(){return R(this)?A(this):this},t.add=function(T){for(var y=Math.max(this.g.length,T.g.length),E=[],P=0,k=0;k<=y;k++){var O=P+(this.i(k)&65535)+(T.i(k)&65535),C=(O>>>16)+(this.i(k)>>>16)+(T.i(k)>>>16);P=C>>>16,O&=65535,C&=65535,E[k]=C<<16|O}return new o(E,E[E.length-1]&-2147483648?-1:0)};function I(T,y){return T.add(A(y))}t.j=function(T){if(x(this)||x(T))return f;if(R(this))return R(T)?A(this).j(A(T)):A(A(this).j(T));if(R(T))return A(this.j(A(T)));if(0>this.l(S)&&0>T.l(S))return c(this.m()*T.m());for(var y=this.g.length+T.g.length,E=[],P=0;P<2*y;P++)E[P]=0;for(P=0;P<this.g.length;P++)for(var k=0;k<T.g.length;k++){var O=this.i(P)>>>16,C=this.i(P)&65535,ge=T.i(k)>>>16,et=T.i(k)&65535;E[2*P+2*k]+=C*et,v(E,2*P+2*k),E[2*P+2*k+1]+=O*et,v(E,2*P+2*k+1),E[2*P+2*k+1]+=C*ge,v(E,2*P+2*k+1),E[2*P+2*k+2]+=O*ge,v(E,2*P+2*k+2)}for(P=0;P<y;P++)E[P]=E[2*P+1]<<16|E[2*P];for(P=y;P<2*y;P++)E[P]=0;return new o(E,0)};function v(T,y){for(;(T[y]&65535)!=T[y];)T[y+1]+=T[y]>>>16,T[y]&=65535,y++}function w(T,y){this.g=T,this.h=y}function b(T,y){if(x(y))throw Error("division by zero");if(x(T))return new w(f,f);if(R(T))return y=b(A(T),y),new w(A(y.g),A(y.h));if(R(y))return y=b(T,A(y)),new w(A(y.g),y.h);if(30<T.g.length){if(R(T)||R(y))throw Error("slowDivide_ only works with positive integers.");for(var E=m,P=y;0>=P.l(T);)E=U(E),P=U(P);var k=N(E,1),O=N(P,1);for(P=N(P,2),E=N(E,2);!x(P);){var C=O.add(P);0>=C.l(T)&&(k=k.add(E),O=C),P=N(P,1),E=N(E,1)}return y=I(T,k.j(y)),new w(k,y)}for(k=f;0<=T.l(y);){for(E=Math.max(1,Math.floor(T.m()/y.m())),P=Math.ceil(Math.log(E)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),O=c(E),C=O.j(y);R(C)||0<C.l(T);)E-=P,O=c(E),C=O.j(y);x(O)&&(O=m),k=k.add(O),T=I(T,C)}return new w(k,T)}t.A=function(T){return b(this,T).h},t.and=function(T){for(var y=Math.max(this.g.length,T.g.length),E=[],P=0;P<y;P++)E[P]=this.i(P)&T.i(P);return new o(E,this.h&T.h)},t.or=function(T){for(var y=Math.max(this.g.length,T.g.length),E=[],P=0;P<y;P++)E[P]=this.i(P)|T.i(P);return new o(E,this.h|T.h)},t.xor=function(T){for(var y=Math.max(this.g.length,T.g.length),E=[],P=0;P<y;P++)E[P]=this.i(P)^T.i(P);return new o(E,this.h^T.h)};function U(T){for(var y=T.g.length+1,E=[],P=0;P<y;P++)E[P]=T.i(P)<<1|T.i(P-1)>>>31;return new o(E,T.h)}function N(T,y){var E=y>>5;y%=32;for(var P=T.g.length-E,k=[],O=0;O<P;O++)k[O]=0<y?T.i(O+E)>>>y|T.i(O+E+1)<<32-y:T.i(O+E);return new o(k,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,ME=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,Gi=o}).apply(typeof Tv<"u"?Tv:typeof self<"u"?self:typeof window<"u"?window:{});var cu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var VE,jE,da,FE,Ou,Of,UE,zE,BE;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,p){return a==Array.prototype||a==Object.prototype||(a[d]=p.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof cu=="object"&&cu];for(var d=0;d<a.length;++d){var p=a[d];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=n(this);function i(a,d){if(d)e:{var p=r;a=a.split(".");for(var _=0;_<a.length-1;_++){var M=a[_];if(!(M in p))break e;p=p[M]}a=a[a.length-1],_=p[a],d=d(_),d!=_&&d!=null&&e(p,a,{configurable:!0,writable:!0,value:d})}}function s(a,d){a instanceof String&&(a+="");var p=0,_=!1,M={next:function(){if(!_&&p<a.length){var F=p++;return{value:d(F,a[F]),done:!1}}return _=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}i("Array.prototype.values",function(a){return a||function(){return s(this,function(d,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function c(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function h(a,d,p){return a.call.apply(a.bind,arguments)}function f(a,d,p){if(!a)throw Error();if(2<arguments.length){var _=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,_),a.apply(d,M)}}return function(){return a.apply(d,arguments)}}function m(a,d,p){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,m.apply(null,arguments)}function S(a,d){var p=Array.prototype.slice.call(arguments,1);return function(){var _=p.slice();return _.push.apply(_,arguments),a.apply(this,_)}}function x(a,d){function p(){}p.prototype=d.prototype,a.aa=d.prototype,a.prototype=new p,a.prototype.constructor=a,a.Qb=function(_,M,F){for(var q=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)q[Le-2]=arguments[Le];return d.prototype[M].apply(_,q)}}function R(a){const d=a.length;if(0<d){const p=Array(d);for(let _=0;_<d;_++)p[_]=a[_];return p}return[]}function A(a,d){for(let p=1;p<arguments.length;p++){const _=arguments[p];if(u(_)){const M=a.length||0,F=_.length||0;a.length=M+F;for(let q=0;q<F;q++)a[M+q]=_[q]}else a.push(_)}}class I{constructor(d,p){this.i=d,this.j=p,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function v(a){return/^[\s\xa0]*$/.test(a)}function w(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function b(a){return b[" "](a),a}b[" "]=function(){};var U=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function N(a,d,p){for(const _ in a)d.call(p,a[_],_,a)}function T(a,d){for(const p in a)d.call(void 0,a[p],p,a)}function y(a){const d={};for(const p in a)d[p]=a[p];return d}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(a,d){let p,_;for(let M=1;M<arguments.length;M++){_=arguments[M];for(p in _)a[p]=_[p];for(let F=0;F<E.length;F++)p=E[F],Object.prototype.hasOwnProperty.call(_,p)&&(a[p]=_[p])}}function k(a){var d=1;a=a.split(":");const p=[];for(;0<d&&a.length;)p.push(a.shift()),d--;return a.length&&p.push(a.join(":")),p}function O(a){l.setTimeout(()=>{throw a},0)}function C(){var a=Z;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class ge{constructor(){this.h=this.g=null}add(d,p){const _=et.get();_.set(d,p),this.h?this.h.next=_:this.g=_,this.h=_}}var et=new I(()=>new Ft,a=>a.reset());class Ft{constructor(){this.next=this.g=this.h=null}set(d,p){this.h=d,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let fe,W=!1,Z=new ge,ee=()=>{const a=l.Promise.resolve(void 0);fe=()=>{a.then(de)}};var de=()=>{for(var a;a=C();){try{a.h.call(a.g)}catch(p){O(p)}var d=et;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}W=!1};function oe(){this.s=this.s,this.C=this.C}oe.prototype.s=!1,oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var Pe=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const p=()=>{};l.addEventListener("test",p,d),l.removeEventListener("test",p,d)}catch{}return a}();function De(a,d){if(pe.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var p=this.type=a.type,_=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(U){e:{try{b(d.nodeName);var M=!0;break e}catch{}M=!1}M||(d=null)}}else p=="mouseover"?d=a.fromElement:p=="mouseout"&&(d=a.toElement);this.relatedTarget=d,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:Fe[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&De.aa.h.call(this)}}x(De,pe);var Fe={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var yt="closure_listenable_"+(1e6*Math.random()|0),Ci=0;function Ad(a,d,p,_,M){this.listener=a,this.proxy=null,this.src=d,this.type=p,this.capture=!!_,this.ha=M,this.key=++Ci,this.da=this.fa=!1}function ys(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function vs(a){this.src=a,this.g={},this.h=0}vs.prototype.add=function(a,d,p,_,M){var F=a.toString();a=this.g[F],a||(a=this.g[F]=[],this.h++);var q=zn(a,d,_,M);return-1<q?(d=a[q],p||(d.fa=!1)):(d=new Ad(d,this.src,F,!!_,M),d.fa=p,a.push(d)),d};function ft(a,d){var p=d.type;if(p in a.g){var _=a.g[p],M=Array.prototype.indexOf.call(_,d,void 0),F;(F=0<=M)&&Array.prototype.splice.call(_,M,1),F&&(ys(d),a.g[p].length==0&&(delete a.g[p],a.h--))}}function zn(a,d,p,_){for(var M=0;M<a.length;++M){var F=a[M];if(!F.da&&F.listener==d&&F.capture==!!p&&F.ha==_)return M}return-1}var _s="closure_lm_"+(1e6*Math.random()|0),Ao={};function Bn(a,d,p,_,M){if(Array.isArray(d)){for(var F=0;F<d.length;F++)Bn(a,d[F],p,_,M);return null}return p=Or(p),a&&a[yt]?a.K(d,p,c(_)?!!_.capture:!!_,M):kd(a,d,p,!1,_,M)}function kd(a,d,p,_,M,F){if(!d)throw Error("Invalid event type");var q=c(M)?!!M.capture:!!M,Le=bo(a);if(Le||(a[_s]=Le=new vs(a)),p=Le.add(d,p,_,q,F),p.proxy)return p;if(_=Nd(),p.proxy=_,_.src=a,_.listener=p,a.addEventListener)Pe||(M=q),M===void 0&&(M=!1),a.addEventListener(d.toString(),_,M);else if(a.attachEvent)a.attachEvent(Ol(d.toString()),_);else if(a.addListener&&a.removeListener)a.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Nd(){function a(p){return d.call(a.src,a.listener,p)}const d=bd;return a}function ko(a,d,p,_,M){if(Array.isArray(d))for(var F=0;F<d.length;F++)ko(a,d[F],p,_,M);else _=c(_)?!!_.capture:!!_,p=Or(p),a&&a[yt]?(a=a.i,d=String(d).toString(),d in a.g&&(F=a.g[d],p=zn(F,p,_,M),-1<p&&(ys(F[p]),Array.prototype.splice.call(F,p,1),F.length==0&&(delete a.g[d],a.h--)))):a&&(a=bo(a))&&(d=a.g[d.toString()],a=-1,d&&(a=zn(d,p,_,M)),(p=-1<a?d[a]:null)&&No(p))}function No(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[yt])ft(d.i,a);else{var p=a.type,_=a.proxy;d.removeEventListener?d.removeEventListener(p,_,a.capture):d.detachEvent?d.detachEvent(Ol(p),_):d.addListener&&d.removeListener&&d.removeListener(_),(p=bo(d))?(ft(p,a),p.h==0&&(p.src=null,d[_s]=null)):ys(a)}}}function Ol(a){return a in Ao?Ao[a]:Ao[a]="on"+a}function bd(a,d){if(a.da)a=!0;else{d=new De(d,this);var p=a.listener,_=a.ha||a.src;a.fa&&No(a),a=p.call(_,d)}return a}function bo(a){return a=a[_s],a instanceof vs?a:null}var or="__closure_events_fn_"+(1e9*Math.random()>>>0);function Or(a){return typeof a=="function"?a:(a[or]||(a[or]=function(d){return a.handleEvent(d)}),a[or])}function at(){oe.call(this),this.i=new vs(this),this.M=this,this.F=null}x(at,oe),at.prototype[yt]=!0,at.prototype.removeEventListener=function(a,d,p,_){ko(this,a,d,p,_)};function lt(a,d){var p,_=a.F;if(_)for(p=[];_;_=_.F)p.push(_);if(a=a.M,_=d.type||d,typeof d=="string")d=new pe(d,a);else if(d instanceof pe)d.target=d.target||a;else{var M=d;d=new pe(_,a),P(d,M)}if(M=!0,p)for(var F=p.length-1;0<=F;F--){var q=d.g=p[F];M=Zt(q,_,!0,d)&&M}if(q=d.g=a,M=Zt(q,_,!0,d)&&M,M=Zt(q,_,!1,d)&&M,p)for(F=0;F<p.length;F++)q=d.g=p[F],M=Zt(q,_,!1,d)&&M}at.prototype.N=function(){if(at.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var p=a.g[d],_=0;_<p.length;_++)ys(p[_]);delete a.g[d],a.h--}}this.F=null},at.prototype.K=function(a,d,p,_){return this.i.add(String(a),d,!1,p,_)},at.prototype.L=function(a,d,p,_){return this.i.add(String(a),d,!0,p,_)};function Zt(a,d,p,_){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var M=!0,F=0;F<d.length;++F){var q=d[F];if(q&&!q.da&&q.capture==p){var Le=q.listener,_t=q.ha||q.src;q.fa&&ft(a.i,q),M=Le.call(_t,_)!==!1&&M}}return M&&!_.defaultPrevented}function pn(a,d,p){if(typeof a=="function")p&&(a=m(a,p));else if(a&&typeof a.handleEvent=="function")a=m(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:l.setTimeout(a,d||0)}function Do(a){a.g=pn(()=>{a.g=null,a.i&&(a.i=!1,Do(a))},a.l);const d=a.h;a.h=null,a.m.apply(null,d)}class ws extends oe{constructor(d,p){super(),this.m=d,this.l=p,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Do(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ai(a){oe.call(this),this.h=a,this.g={}}x(Ai,oe);var xn=[];function Oo(a){N(a.g,function(d,p){this.g.hasOwnProperty(p)&&No(d)},a),a.g={}}Ai.prototype.N=function(){Ai.aa.N.call(this),Oo(this)},Ai.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Es=l.JSON.stringify,Ll=l.JSON.parse,Dd=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function Ts(){}Ts.prototype.h=null;function ki(a){return a.h||(a.h=a.i())}function Lo(){}var ar={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Lr(){pe.call(this,"d")}x(Lr,pe);function Ni(){pe.call(this,"c")}x(Ni,pe);var lr={},Mo=null;function Is(){return Mo=Mo||new at}lr.La="serverreachability";function Vo(a){pe.call(this,lr.La,a)}x(Vo,pe);function Mr(a){const d=Is();lt(d,new Vo(d))}lr.STAT_EVENT="statevent";function bi(a,d){pe.call(this,lr.STAT_EVENT,a),this.stat=d}x(bi,pe);function vt(a){const d=Is();lt(d,new bi(d,a))}lr.Ma="timingevent";function D(a,d){pe.call(this,lr.Ma,a),this.size=d}x(D,pe);function L(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},d)}function V(){this.g=!0}V.prototype.xa=function(){this.g=!1};function z(a,d,p,_,M,F){a.info(function(){if(a.g)if(F)for(var q="",Le=F.split("&"),_t=0;_t<Le.length;_t++){var Re=Le[_t].split("=");if(1<Re.length){var At=Re[0];Re=Re[1];var kt=At.split("_");q=2<=kt.length&&kt[1]=="type"?q+(At+"="+Re+"&"):q+(At+"=redacted&")}}else q=null;else q=F;return"XMLHTTP REQ ("+_+") [attempt "+M+"]: "+d+`
`+p+`
`+q})}function G(a,d,p,_,M,F,q){a.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+M+"]: "+d+`
`+p+`
`+F+" "+q})}function X(a,d,p,_){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+K(a,p)+(_?" "+_:"")})}function te(a,d){a.info(function(){return"TIMEOUT: "+d})}V.prototype.info=function(){};function K(a,d){if(!a.g)return d;if(!d)return null;try{var p=JSON.parse(d);if(p){for(a=0;a<p.length;a++)if(Array.isArray(p[a])){var _=p[a];if(!(2>_.length)){var M=_[1];if(Array.isArray(M)&&!(1>M.length)){var F=M[0];if(F!="noop"&&F!="stop"&&F!="close")for(var q=1;q<M.length;q++)M[q]=""}}}}return Es(p)}catch{return d}}var se={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Y={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ae;function Te(){}x(Te,Ts),Te.prototype.g=function(){return new XMLHttpRequest},Te.prototype.i=function(){return{}},ae=new Te;function me(a,d,p,_){this.j=a,this.i=d,this.l=p,this.R=_||1,this.U=new Ai(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ae}function Ae(){this.i=null,this.g="",this.h=!1}var Ie={},tt={};function He(a,d,p){a.L=1,a.v=Fl(cr(d)),a.m=p,a.P=!0,Vr(a,null)}function Vr(a,d){a.F=Date.now(),Pn(a),a.A=cr(a.v);var p=a.A,_=a.R;Array.isArray(_)||(_=[String(_)]),dg(p.i,"t",_),a.C=0,p=a.j.J,a.h=new Ae,a.g=Ag(a.j,p?d:null,!a.m),0<a.O&&(a.M=new ws(m(a.Y,a,a.g),a.O)),d=a.U,p=a.g,_=a.ca;var M="readystatechange";Array.isArray(M)||(M&&(xn[0]=M.toString()),M=xn);for(var F=0;F<M.length;F++){var q=Bn(p,M[F],_||d.handleEvent,!1,d.h||d);if(!q)break;d.g[q.key]=q}d=a.H?y(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),Mr(),z(a.i,a.u,a.A,a.l,a.R,a.m)}me.prototype.ca=function(a){a=a.target;const d=this.M;d&&dr(a)==3?d.j():this.Y(a)},me.prototype.Y=function(a){try{if(a==this.g)e:{const kt=dr(this.g);var d=this.g.Ba();const Ps=this.g.Z();if(!(3>kt)&&(kt!=3||this.g&&(this.h.h||this.g.oa()||vg(this.g)))){this.J||kt!=4||d==7||(d==8||0>=Ps?Mr(3):Mr(2)),qt(this);var p=this.g.Z();this.X=p;t:if(Rn(this)){var _=vg(this.g);a="";var M=_.length,F=dr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){mn(this),$n(this);var q="";break t}this.h.i=new l.TextDecoder}for(d=0;d<M;d++)this.h.h=!0,a+=this.h.i.decode(_[d],{stream:!(F&&d==M-1)});_.length=0,this.h.g+=a,this.C=0,q=this.h.g}else q=this.g.oa();if(this.o=p==200,G(this.i,this.u,this.A,this.l,this.R,kt,p),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,_t=this.g;if((Le=_t.g?_t.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(Le)){var Re=Le;break t}}Re=null}if(p=Re)X(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fr(this,p);else{this.o=!1,this.s=3,vt(12),mn(this),$n(this);break e}}if(this.P){p=!0;let Cn;for(;!this.J&&this.C<q.length;)if(Cn=jr(this,q),Cn==tt){kt==4&&(this.s=4,vt(14),p=!1),X(this.i,this.l,null,"[Incomplete Response]");break}else if(Cn==Ie){this.s=4,vt(15),X(this.i,this.l,q,"[Invalid Chunk]"),p=!1;break}else X(this.i,this.l,Cn,null),Fr(this,Cn);if(Rn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),kt!=4||q.length!=0||this.h.h||(this.s=1,vt(16),p=!1),this.o=this.o&&p,!p)X(this.i,this.l,q,"[Invalid Chunked Response]"),mn(this),$n(this);else if(0<q.length&&!this.W){this.W=!0;var At=this.j;At.g==this&&At.ba&&!At.M&&(At.j.info("Great, no buffering proxy detected. Bytes received: "+q.length),Vd(At),At.M=!0,vt(11))}}else X(this.i,this.l,q,null),Fr(this,q);kt==4&&mn(this),this.o&&!this.J&&(kt==4?xg(this.j,this):(this.o=!1,Pn(this)))}else PI(this.g),p==400&&0<q.indexOf("Unknown SID")?(this.s=3,vt(12)):(this.s=0,vt(13)),mn(this),$n(this)}}}catch{}finally{}};function Rn(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function jr(a,d){var p=a.C,_=d.indexOf(`
`,p);return _==-1?tt:(p=Number(d.substring(p,_)),isNaN(p)?Ie:(_+=1,_+p>d.length?tt:(d=d.slice(_,_+p),a.C=_+p,d)))}me.prototype.cancel=function(){this.J=!0,mn(this)};function Pn(a){a.S=Date.now()+a.I,ur(a,a.I)}function ur(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=L(m(a.ba,a),d)}function qt(a){a.B&&(l.clearTimeout(a.B),a.B=null)}me.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(te(this.i,this.A),this.L!=2&&(Mr(),vt(17)),mn(this),this.s=2,$n(this)):ur(this,this.S-a)};function $n(a){a.j.G==0||a.J||xg(a.j,a)}function mn(a){qt(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,Oo(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function Fr(a,d){try{var p=a.j;if(p.G!=0&&(p.g==a||en(p.h,a))){if(!a.K&&en(p.h,a)&&p.G==3){try{var _=p.Da.g.parse(d)}catch{_=null}if(Array.isArray(_)&&_.length==3){var M=_;if(M[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<a.F)Hl(p),Bl(p);else break e;Md(p),vt(18)}}else p.za=M[1],0<p.za-p.T&&37500>M[2]&&p.F&&p.v==0&&!p.C&&(p.C=L(m(p.Za,p),6e3));if(1>=Ne(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else Oi(p,11)}else if((a.K||p.g==a)&&Hl(p),!v(d))for(M=p.Da.g.parse(d),d=0;d<M.length;d++){let Re=M[d];if(p.T=Re[0],Re=Re[1],p.G==2)if(Re[0]=="c"){p.K=Re[1],p.ia=Re[2];const At=Re[3];At!=null&&(p.la=At,p.j.info("VER="+p.la));const kt=Re[4];kt!=null&&(p.Aa=kt,p.j.info("SVER="+p.Aa));const Ps=Re[5];Ps!=null&&typeof Ps=="number"&&0<Ps&&(_=1.5*Ps,p.L=_,p.j.info("backChannelRequestTimeoutMs_="+_)),_=p;const Cn=a.g;if(Cn){const ql=Cn.g?Cn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ql){var F=_.h;F.g||ql.indexOf("spdy")==-1&&ql.indexOf("quic")==-1&&ql.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Ss(F,F.h),F.h=null))}if(_.D){const jd=Cn.g?Cn.g.getResponseHeader("X-HTTP-Session-Id"):null;jd&&(_.ya=jd,ze(_.I,_.D,jd))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-a.F,p.j.info("Handshake RTT: "+p.R+"ms")),_=p;var q=a;if(_.qa=Cg(_,_.J?_.ia:null,_.W),q.K){Ml(_.h,q);var Le=q,_t=_.L;_t&&(Le.I=_t),Le.B&&(qt(Le),Pn(Le)),_.g=q}else Ig(_);0<p.i.length&&$l(p)}else Re[0]!="stop"&&Re[0]!="close"||Oi(p,7);else p.G==3&&(Re[0]=="stop"||Re[0]=="close"?Re[0]=="stop"?Oi(p,7):Ld(p):Re[0]!="noop"&&p.l&&p.l.ta(Re),p.v=0)}}Mr(4)}catch{}}var he=class{constructor(a,d){this.g=a,this.map=d}};function Ue(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ct(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Ne(a){return a.h?1:a.g?a.g.size:0}function en(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function Ss(a,d){a.g?a.g.add(d):a.h=d}function Ml(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}Ue.prototype.cancel=function(){if(this.i=ig(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function ig(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(const p of a.g.values())d=d.concat(p.D);return d}return R(a.i)}function hI(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],p=a.length,_=0;_<p;_++)d.push(a[_]);return d}d=[],p=0;for(_ in a)d[p++]=a[_];return d}function fI(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var p=0;p<a;p++)d.push(p);return d}d=[],p=0;for(const _ in a)d[p++]=_;return d}}}function sg(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var p=fI(a),_=hI(a),M=_.length,F=0;F<M;F++)d.call(void 0,_[F],p&&p[F],a)}var og=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pI(a,d){if(a){a=a.split("&");for(var p=0;p<a.length;p++){var _=a[p].indexOf("="),M=null;if(0<=_){var F=a[p].substring(0,_);M=a[p].substring(_+1)}else F=a[p];d(F,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function Di(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Di){this.h=a.h,Vl(this,a.j),this.o=a.o,this.g=a.g,jl(this,a.s),this.l=a.l;var d=a.i,p=new Uo;p.i=d.i,d.g&&(p.g=new Map(d.g),p.h=d.h),ag(this,p),this.m=a.m}else a&&(d=String(a).match(og))?(this.h=!1,Vl(this,d[1]||"",!0),this.o=jo(d[2]||""),this.g=jo(d[3]||"",!0),jl(this,d[4]),this.l=jo(d[5]||"",!0),ag(this,d[6]||"",!0),this.m=jo(d[7]||"")):(this.h=!1,this.i=new Uo(null,this.h))}Di.prototype.toString=function(){var a=[],d=this.j;d&&a.push(Fo(d,lg,!0),":");var p=this.g;return(p||d=="file")&&(a.push("//"),(d=this.o)&&a.push(Fo(d,lg,!0),"@"),a.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&a.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&a.push("/"),a.push(Fo(p,p.charAt(0)=="/"?yI:gI,!0))),(p=this.i.toString())&&a.push("?",p),(p=this.m)&&a.push("#",Fo(p,_I)),a.join("")};function cr(a){return new Di(a)}function Vl(a,d,p){a.j=p?jo(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function jl(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function ag(a,d,p){d instanceof Uo?(a.i=d,wI(a.i,a.h)):(p||(d=Fo(d,vI)),a.i=new Uo(d,a.h))}function ze(a,d,p){a.i.set(d,p)}function Fl(a){return ze(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function jo(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Fo(a,d,p){return typeof a=="string"?(a=encodeURI(a).replace(d,mI),p&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function mI(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var lg=/[#\/\?@]/g,gI=/[#\?:]/g,yI=/[#\?]/g,vI=/[#\?@]/g,_I=/#/g;function Uo(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function Ur(a){a.g||(a.g=new Map,a.h=0,a.i&&pI(a.i,function(d,p){a.add(decodeURIComponent(d.replace(/\+/g," ")),p)}))}t=Uo.prototype,t.add=function(a,d){Ur(this),this.i=null,a=xs(this,a);var p=this.g.get(a);return p||this.g.set(a,p=[]),p.push(d),this.h+=1,this};function ug(a,d){Ur(a),d=xs(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function cg(a,d){return Ur(a),d=xs(a,d),a.g.has(d)}t.forEach=function(a,d){Ur(this),this.g.forEach(function(p,_){p.forEach(function(M){a.call(d,M,_,this)},this)},this)},t.na=function(){Ur(this);const a=Array.from(this.g.values()),d=Array.from(this.g.keys()),p=[];for(let _=0;_<d.length;_++){const M=a[_];for(let F=0;F<M.length;F++)p.push(d[_])}return p},t.V=function(a){Ur(this);let d=[];if(typeof a=="string")cg(this,a)&&(d=d.concat(this.g.get(xs(this,a))));else{a=Array.from(this.g.values());for(let p=0;p<a.length;p++)d=d.concat(a[p])}return d},t.set=function(a,d){return Ur(this),this.i=null,a=xs(this,a),cg(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function dg(a,d,p){ug(a,d),0<p.length&&(a.i=null,a.g.set(xs(a,d),R(p)),a.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],d=Array.from(this.g.keys());for(var p=0;p<d.length;p++){var _=d[p];const F=encodeURIComponent(String(_)),q=this.V(_);for(_=0;_<q.length;_++){var M=F;q[_]!==""&&(M+="="+encodeURIComponent(String(q[_]))),a.push(M)}}return this.i=a.join("&")};function xs(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function wI(a,d){d&&!a.j&&(Ur(a),a.i=null,a.g.forEach(function(p,_){var M=_.toLowerCase();_!=M&&(ug(this,_),dg(this,M,p))},a)),a.j=d}function EI(a,d){const p=new V;if(l.Image){const _=new Image;_.onload=S(zr,p,"TestLoadImage: loaded",!0,d,_),_.onerror=S(zr,p,"TestLoadImage: error",!1,d,_),_.onabort=S(zr,p,"TestLoadImage: abort",!1,d,_),_.ontimeout=S(zr,p,"TestLoadImage: timeout",!1,d,_),l.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=a}else d(!1)}function TI(a,d){const p=new V,_=new AbortController,M=setTimeout(()=>{_.abort(),zr(p,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:_.signal}).then(F=>{clearTimeout(M),F.ok?zr(p,"TestPingServer: ok",!0,d):zr(p,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(M),zr(p,"TestPingServer: error",!1,d)})}function zr(a,d,p,_,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),_(p)}catch{}}function II(){this.g=new Dd}function SI(a,d,p){const _=p||"";try{sg(a,function(M,F){let q=M;c(M)&&(q=Es(M)),d.push(_+F+"="+encodeURIComponent(q))})}catch(M){throw d.push(_+"type="+encodeURIComponent("_badmap")),M}}function zo(a){this.l=a.Ub||null,this.j=a.eb||!1}x(zo,Ts),zo.prototype.g=function(){return new Ul(this.l,this.j)},zo.prototype.i=function(a){return function(){return a}}({});function Ul(a,d){at.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Ul,at),t=Ul.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,$o(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||l).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Bo(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,$o(this)),this.g&&(this.readyState=3,$o(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;hg(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function hg(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?Bo(this):$o(this),this.readyState==3&&hg(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,Bo(this))},t.Qa=function(a){this.g&&(this.response=a,Bo(this))},t.ga=function(){this.g&&Bo(this)};function Bo(a){a.readyState=4,a.l=null,a.j=null,a.v=null,$o(a)}t.setRequestHeader=function(a,d){this.u.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],d=this.h.entries();for(var p=d.next();!p.done;)p=p.value,a.push(p[0]+": "+p[1]),p=d.next();return a.join(`\r
`)};function $o(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Ul.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function fg(a){let d="";return N(a,function(p,_){d+=_,d+=":",d+=p,d+=`\r
`}),d}function Od(a,d,p){e:{for(_ in p){var _=!1;break e}_=!0}_||(p=fg(p),typeof a=="string"?p!=null&&encodeURIComponent(String(p)):ze(a,d,p))}function Ye(a){at.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Ye,at);var xI=/^https?$/i,RI=["POST","PUT"];t=Ye.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,d,p,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ae.g(),this.v=this.o?ki(this.o):ki(ae),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(F){pg(this,F);return}if(a=p||"",p=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var M in _)p.set(M,_[M]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(const F of _.keys())p.set(F,_.get(F));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(p.keys()).find(F=>F.toLowerCase()=="content-type"),M=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(RI,d,void 0))||_||M||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,q]of p)this.g.setRequestHeader(F,q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{yg(this),this.u=!0,this.g.send(a),this.u=!1}catch(F){pg(this,F)}};function pg(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,mg(a),zl(a)}function mg(a){a.A||(a.A=!0,lt(a,"complete"),lt(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,lt(this,"complete"),lt(this,"abort"),zl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zl(this,!0)),Ye.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?gg(this):this.bb())},t.bb=function(){gg(this)};function gg(a){if(a.h&&typeof o<"u"&&(!a.v[1]||dr(a)!=4||a.Z()!=2)){if(a.u&&dr(a)==4)pn(a.Ea,0,a);else if(lt(a,"readystatechange"),dr(a)==4){a.h=!1;try{const q=a.Z();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var p;if(!(p=d)){var _;if(_=q===0){var M=String(a.D).match(og)[1]||null;!M&&l.self&&l.self.location&&(M=l.self.location.protocol.slice(0,-1)),_=!xI.test(M?M.toLowerCase():"")}p=_}if(p)lt(a,"complete"),lt(a,"success");else{a.m=6;try{var F=2<dr(a)?a.g.statusText:""}catch{F=""}a.l=F+" ["+a.Z()+"]",mg(a)}}finally{zl(a)}}}}function zl(a,d){if(a.g){yg(a);const p=a.g,_=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||lt(a,"ready");try{p.onreadystatechange=_}catch{}}}function yg(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function dr(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<dr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),Ll(d)}};function vg(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function PI(a){const d={};a=(a.g&&2<=dr(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<a.length;_++){if(v(a[_]))continue;var p=k(a[_]);const M=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const F=d[M]||[];d[M]=F,F.push(p)}T(d,function(_){return _.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ho(a,d,p){return p&&p.internalChannelParams&&p.internalChannelParams[a]||d}function _g(a){this.Aa=0,this.i=[],this.j=new V,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ho("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ho("baseRetryDelayMs",5e3,a),this.cb=Ho("retryDelaySeedMs",1e4,a),this.Wa=Ho("forwardChannelMaxRetries",2,a),this.wa=Ho("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new Ue(a&&a.concurrentRequestLimit),this.Da=new II,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=_g.prototype,t.la=8,t.G=1,t.connect=function(a,d,p,_){vt(0),this.W=a,this.H=d||{},p&&_!==void 0&&(this.H.OSID=p,this.H.OAID=_),this.F=this.X,this.I=Cg(this,null,this.W),$l(this)};function Ld(a){if(wg(a),a.G==3){var d=a.U++,p=cr(a.I);if(ze(p,"SID",a.K),ze(p,"RID",d),ze(p,"TYPE","terminate"),Wo(a,p),d=new me(a,a.j,d),d.L=2,d.v=Fl(cr(p)),p=!1,l.navigator&&l.navigator.sendBeacon)try{p=l.navigator.sendBeacon(d.v.toString(),"")}catch{}!p&&l.Image&&(new Image().src=d.v,p=!0),p||(d.g=Ag(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Pn(d)}Pg(a)}function Bl(a){a.g&&(Vd(a),a.g.cancel(),a.g=null)}function wg(a){Bl(a),a.u&&(l.clearTimeout(a.u),a.u=null),Hl(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function $l(a){if(!Ct(a.h)&&!a.s){a.s=!0;var d=a.Ga;fe||ee(),W||(fe(),W=!0),Z.add(d,a),a.B=0}}function CI(a,d){return Ne(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=L(m(a.Ga,a,d),Rg(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const M=new me(this,this.j,a);let F=this.o;if(this.S&&(F?(F=y(F),P(F,this.S)):F=this.S),this.m!==null||this.O||(M.H=F,F=null),this.P)e:{for(var d=0,p=0;p<this.i.length;p++){t:{var _=this.i[p];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break t}_=void 0}if(_===void 0)break;if(d+=_,4096<d){d=p;break e}if(d===4096||p===this.i.length-1){d=p+1;break e}}d=1e3}else d=1e3;d=Tg(this,M,d),p=cr(this.I),ze(p,"RID",a),ze(p,"CVER",22),this.D&&ze(p,"X-HTTP-Session-Id",this.D),Wo(this,p),F&&(this.O?d="headers="+encodeURIComponent(String(fg(F)))+"&"+d:this.m&&Od(p,this.m,F)),Ss(this.h,M),this.Ua&&ze(p,"TYPE","init"),this.P?(ze(p,"$req",d),ze(p,"SID","null"),M.T=!0,He(M,p,null)):He(M,p,d),this.G=2}}else this.G==3&&(a?Eg(this,a):this.i.length==0||Ct(this.h)||Eg(this))};function Eg(a,d){var p;d?p=d.l:p=a.U++;const _=cr(a.I);ze(_,"SID",a.K),ze(_,"RID",p),ze(_,"AID",a.T),Wo(a,_),a.m&&a.o&&Od(_,a.m,a.o),p=new me(a,a.j,p,a.B+1),a.m===null&&(p.H=a.o),d&&(a.i=d.D.concat(a.i)),d=Tg(a,p,1e3),p.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Ss(a.h,p),He(p,_,d)}function Wo(a,d){a.H&&N(a.H,function(p,_){ze(d,_,p)}),a.l&&sg({},function(p,_){ze(d,_,p)})}function Tg(a,d,p){p=Math.min(a.i.length,p);var _=a.l?m(a.l.Na,a.l,a):null;e:{var M=a.i;let F=-1;for(;;){const q=["count="+p];F==-1?0<p?(F=M[0].g,q.push("ofs="+F)):F=0:q.push("ofs="+F);let Le=!0;for(let _t=0;_t<p;_t++){let Re=M[_t].g;const At=M[_t].map;if(Re-=F,0>Re)F=Math.max(0,M[_t].g-100),Le=!1;else try{SI(At,q,"req"+Re+"_")}catch{_&&_(At)}}if(Le){_=q.join("&");break e}}}return a=a.i.splice(0,p),d.D=a,_}function Ig(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;fe||ee(),W||(fe(),W=!0),Z.add(d,a),a.v=0}}function Md(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=L(m(a.Fa,a),Rg(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,Sg(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=L(m(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vt(10),Bl(this),Sg(this))};function Vd(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function Sg(a){a.g=new me(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=cr(a.qa);ze(d,"RID","rpc"),ze(d,"SID",a.K),ze(d,"AID",a.T),ze(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&ze(d,"TO",a.ja),ze(d,"TYPE","xmlhttp"),Wo(a,d),a.m&&a.o&&Od(d,a.m,a.o),a.L&&(a.g.I=a.L);var p=a.g;a=a.ia,p.L=1,p.v=Fl(cr(d)),p.m=null,p.P=!0,Vr(p,a)}t.Za=function(){this.C!=null&&(this.C=null,Bl(this),Md(this),vt(19))};function Hl(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function xg(a,d){var p=null;if(a.g==d){Hl(a),Vd(a),a.g=null;var _=2}else if(en(a.h,d))p=d.D,Ml(a.h,d),_=1;else return;if(a.G!=0){if(d.o)if(_==1){p=d.m?d.m.length:0,d=Date.now()-d.F;var M=a.B;_=Is(),lt(_,new D(_,p)),$l(a)}else Ig(a);else if(M=d.s,M==3||M==0&&0<d.X||!(_==1&&CI(a,d)||_==2&&Md(a)))switch(p&&0<p.length&&(d=a.h,d.i=d.i.concat(p)),M){case 1:Oi(a,5);break;case 4:Oi(a,10);break;case 3:Oi(a,6);break;default:Oi(a,2)}}}function Rg(a,d){let p=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(p*=2),p*d}function Oi(a,d){if(a.j.info("Error code "+d),d==2){var p=m(a.fb,a),_=a.Xa;const M=!_;_=new Di(_||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Vl(_,"https"),Fl(_),M?EI(_.toString(),p):TI(_.toString(),p)}else vt(2);a.G=0,a.l&&a.l.sa(d),Pg(a),wg(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function Pg(a){if(a.G=0,a.ka=[],a.l){const d=ig(a.h);(d.length!=0||a.i.length!=0)&&(A(a.ka,d),A(a.ka,a.i),a.h.i.length=0,R(a.i),a.i.length=0),a.l.ra()}}function Cg(a,d,p){var _=p instanceof Di?cr(p):new Di(p);if(_.g!="")d&&(_.g=d+"."+_.g),jl(_,_.s);else{var M=l.location;_=M.protocol,d=d?d+"."+M.hostname:M.hostname,M=+M.port;var F=new Di(null);_&&Vl(F,_),d&&(F.g=d),M&&jl(F,M),p&&(F.l=p),_=F}return p=a.D,d=a.ya,p&&d&&ze(_,p,d),ze(_,"VER",a.la),Wo(a,_),_}function Ag(a,d,p){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new Ye(new zo({eb:p})):new Ye(a.pa),d.Ha(a.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function kg(){}t=kg.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Wl(){}Wl.prototype.g=function(a,d){return new tn(a,d)};function tn(a,d){at.call(this),this.g=new _g(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!v(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!v(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new Rs(this)}x(tn,at),tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Ld(this.g)},tn.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var p={};p.__data__=a,a=p}else this.u&&(p={},p.__data__=Es(a),a=p);d.i.push(new he(d.Ya++,a)),d.G==3&&$l(d)},tn.prototype.N=function(){this.g.l=null,delete this.j,Ld(this.g),delete this.g,tn.aa.N.call(this)};function Ng(a){Lr.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(const p in d){a=p;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}x(Ng,Lr);function bg(){Ni.call(this),this.status=1}x(bg,Ni);function Rs(a){this.g=a}x(Rs,kg),Rs.prototype.ua=function(){lt(this.g,"a")},Rs.prototype.ta=function(a){lt(this.g,new Ng(a))},Rs.prototype.sa=function(a){lt(this.g,new bg)},Rs.prototype.ra=function(){lt(this.g,"b")},Wl.prototype.createWebChannel=Wl.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,BE=function(){return new Wl},zE=function(){return Is()},UE=lr,Of={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},se.NO_ERROR=0,se.TIMEOUT=8,se.HTTP_ERROR=6,Ou=se,Y.COMPLETE="complete",FE=Y,Lo.EventType=ar,ar.OPEN="a",ar.CLOSE="b",ar.ERROR="c",ar.MESSAGE="d",at.prototype.listen=at.prototype.K,da=Lo,jE=zo,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,VE=Ye}).apply(typeof cu<"u"?cu:typeof self<"u"?self:typeof window<"u"?window:{});const Iv="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ot.UNAUTHENTICATED=new Ot(null),Ot.GOOGLE_CREDENTIALS=new Ot("google-credentials-uid"),Ot.FIRST_PARTY=new Ot("first-party-uid"),Ot.MOCK_USER=new Ot("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let So="10.12.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is=new um("@firebase/firestore");function ra(){return is.logLevel}function J(t,...e){if(is.logLevel<=we.DEBUG){const n=e.map(hm);is.debug(`Firestore (${So}): ${t}`,...n)}}function Pr(t,...e){if(is.logLevel<=we.ERROR){const n=e.map(hm);is.error(`Firestore (${So}): ${t}`,...n)}}function co(t,...e){if(is.logLevel<=we.WARN){const n=e.map(hm);is.warn(`Firestore (${So}): ${t}`,...n)}}function hm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function le(t="Unexpected state"){const e=`FIRESTORE (${So}) INTERNAL ASSERTION FAILED: `+t;throw Pr(e),new Error(e)}function je(t,e){t||le()}function ce(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class re extends ir{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ot.UNAUTHENTICATED))}shutdown(){}}class vA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class _A{constructor(e){this.t=e,this.currentUser=Ot.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new fi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new fi,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{J("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(J("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new fi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(J("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(je(typeof r.accessToken=="string"),new $E(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return je(e===null||typeof e=="string"),new Ot(e)}}class wA{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ot.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class EA{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new wA(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ot.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class TA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class IA{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&J("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,J("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{J("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):J("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(je(typeof n.token=="string"),this.R=n.token,new TA(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SA(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=SA(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Ce(t,e){return t<e?-1:t>e?1:0}function ho(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new re($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new re($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new re($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new re($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ht.fromMillis(Date.now())}static fromDate(e){return ht.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ht(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ue(e)}static min(){return new ue(new ht(0,0))}static max(){return new ue(new ht(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,n,r){n===void 0?n=0:n>e.length&&le(),r===void 0?r=e.length-n:r>e.length-n&&le(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Za.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Za?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ze extends Za{construct(e,n,r){return new Ze(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new re($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ze(n)}static emptyPath(){return new Ze([])}}const xA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class It extends Za{construct(e,n,r){return new It(e,n,r)}static isValidIdentifier(e){return xA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),It.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new It(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new re($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new re($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new re($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new re($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new It(n)}static emptyPath(){return new It([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.path=e}static fromPath(e){return new ne(Ze.fromString(e))}static fromName(e){return new ne(Ze.fromString(e).popFirst(5))}static empty(){return new ne(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ze.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ne(new Ze(e.slice()))}}function RA(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ue.fromTimestamp(r===1e9?new ht(n+1,0):new ht(n,r));return new yi(i,ne.empty(),e)}function PA(t){return new yi(t.readTime,t.key,-1)}class yi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new yi(ue.min(),ne.empty(),-1)}static max(){return new yi(ue.max(),ne.empty(),-1)}}function CA(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ne.comparator(t.documentKey,e.documentKey),n!==0?n:Ce(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function El(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==AA)throw t;J("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&le(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(i=>i?B.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new B((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(h=>{o[c]=h,++l,l===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new B((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function NA(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Tl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}fm.oe=-1;function ad(t){return t==null}function vc(t){return t===0&&1/t==-1/0}function bA(t){return typeof t=="number"&&Number.isInteger(t)&&!vc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sv(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function xo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function WE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e,n){this.comparator=e,this.root=n||Tt.EMPTY}insert(e,n){return new Xe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Tt.BLACK,null,null))}remove(e){return new Xe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new du(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new du(this.root,e,this.comparator,!1)}getReverseIterator(){return new du(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new du(this.root,e,this.comparator,!0)}}class du{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Tt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Tt.RED,this.left=i??Tt.EMPTY,this.right=s??Tt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Tt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Tt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Tt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Tt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Tt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw le();const e=this.left.check();if(e!==this.right.check())throw le();return e+(this.isRed()?0:1)}}Tt.EMPTY=null,Tt.RED=!0,Tt.BLACK=!1;Tt.EMPTY=new class{constructor(){this.size=0}get key(){throw le()}get value(){throw le()}get color(){throw le()}get left(){throw le()}get right(){throw le()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Tt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.comparator=e,this.data=new Xe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new xv(this.data.getIterator())}getIteratorFrom(e){return new xv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new xt(this.comparator);return n.data=e,n}}class xv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.fields=e,e.sort(It.comparator)}static empty(){return new Ln([])}unionWith(e){let n=new xt(It.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ln(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ho(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new qE("Invalid base64 string: "+s):s}}(e);return new jt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new jt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jt.EMPTY_BYTE_STRING=new jt("");const DA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vi(t){if(je(!!t),typeof t=="string"){let e=0;const n=DA.exec(t);if(je(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:st(t.seconds),nanos:st(t.nanos)}}function st(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ss(t){return typeof t=="string"?jt.fromBase64String(t):jt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function mm(t){const e=t.mapValue.fields.__previous_value__;return pm(e)?mm(e):e}function el(t){const e=vi(t.mapValue.fields.__local_write_time__.timestampValue);return new ht(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e,n,r,i,s,o,l,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=c}}class tl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new tl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof tl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function os(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?pm(t)?4:LA(t)?9007199254740991:10:le()}function tr(t,e){if(t===e)return!0;const n=os(t);if(n!==os(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return el(t).isEqual(el(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=vi(i.timestampValue),l=vi(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ss(i.bytesValue).isEqual(ss(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return st(i.geoPointValue.latitude)===st(s.geoPointValue.latitude)&&st(i.geoPointValue.longitude)===st(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return st(i.integerValue)===st(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=st(i.doubleValue),l=st(s.doubleValue);return o===l?vc(o)===vc(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return ho(t.arrayValue.values||[],e.arrayValue.values||[],tr);case 10:return function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(Sv(o)!==Sv(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!tr(o[u],l[u])))return!1;return!0}(t,e);default:return le()}}function nl(t,e){return(t.values||[]).find(n=>tr(n,e))!==void 0}function fo(t,e){if(t===e)return 0;const n=os(t),r=os(e);if(n!==r)return Ce(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ce(t.booleanValue,e.booleanValue);case 2:return function(s,o){const l=st(s.integerValue||s.doubleValue),u=st(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return Rv(t.timestampValue,e.timestampValue);case 4:return Rv(el(t),el(e));case 5:return Ce(t.stringValue,e.stringValue);case 6:return function(s,o){const l=ss(s),u=ss(o);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),u=o.split("/");for(let c=0;c<l.length&&c<u.length;c++){const h=Ce(l[c],u[c]);if(h!==0)return h}return Ce(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const l=Ce(st(s.latitude),st(o.latitude));return l!==0?l:Ce(st(s.longitude),st(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const l=s.values||[],u=o.values||[];for(let c=0;c<l.length&&c<u.length;++c){const h=fo(l[c],u[c]);if(h)return h}return Ce(l.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===hu.mapValue&&o===hu.mapValue)return 0;if(s===hu.mapValue)return 1;if(o===hu.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),c=o.fields||{},h=Object.keys(c);u.sort(),h.sort();for(let f=0;f<u.length&&f<h.length;++f){const m=Ce(u[f],h[f]);if(m!==0)return m;const S=fo(l[u[f]],c[h[f]]);if(S!==0)return S}return Ce(u.length,h.length)}(t.mapValue,e.mapValue);default:throw le()}}function Rv(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ce(t,e);const n=vi(t),r=vi(e),i=Ce(n.seconds,r.seconds);return i!==0?i:Ce(n.nanos,r.nanos)}function po(t){return Lf(t)}function Lf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=vi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ss(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ne.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Lf(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Lf(n.fields[o])}`;return i+"}"}(t.mapValue):le()}function Mf(t){return!!t&&"integerValue"in t}function gm(t){return!!t&&"arrayValue"in t}function Pv(t){return!!t&&"nullValue"in t}function Cv(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Lu(t){return!!t&&"mapValue"in t}function xa(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return xo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=xa(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=xa(t.arrayValue.values[n]);return e}return Object.assign({},t)}function LA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.value=e}static empty(){return new vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Lu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=xa(n)}setAll(e){let n=It.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=xa(o):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Lu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return tr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Lu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){xo(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new vn(xa(this.value))}}function KE(t){const e=[];return xo(t.fields,(n,r)=>{const i=new It([n]);if(Lu(r)){const s=KE(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Ln(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,n,r,i,s,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Mt(e,0,ue.min(),ue.min(),ue.min(),vn.empty(),0)}static newFoundDocument(e,n,r,i){return new Mt(e,1,n,ue.min(),r,i,0)}static newNoDocument(e,n){return new Mt(e,2,n,ue.min(),ue.min(),vn.empty(),0)}static newUnknownDocument(e,n){return new Mt(e,3,n,ue.min(),ue.min(),vn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,n){this.position=e,this.inclusive=n}}function Av(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ne.comparator(ne.fromName(o.referenceValue),n.key):r=fo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function kv(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!tr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,n="asc"){this.field=e,this.dir=n}}function MA(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{}class ct extends GE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new jA(e,n,r):n==="array-contains"?new zA(e,r):n==="in"?new BA(e,r):n==="not-in"?new $A(e,r):n==="array-contains-any"?new HA(e,r):new ct(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new FA(e,r):new UA(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(fo(n,this.value)):n!==null&&os(this.value)===os(n)&&this.matchesComparison(fo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return le()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class nr extends GE{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new nr(e,n)}matches(e){return QE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function QE(t){return t.op==="and"}function XE(t){return VA(t)&&QE(t)}function VA(t){for(const e of t.filters)if(e instanceof nr)return!1;return!0}function Vf(t){if(t instanceof ct)return t.field.canonicalString()+t.op.toString()+po(t.value);if(XE(t))return t.filters.map(e=>Vf(e)).join(",");{const e=t.filters.map(n=>Vf(n)).join(",");return`${t.op}(${e})`}}function YE(t,e){return t instanceof ct?function(r,i){return i instanceof ct&&r.op===i.op&&r.field.isEqual(i.field)&&tr(r.value,i.value)}(t,e):t instanceof nr?function(r,i){return i instanceof nr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,l)=>s&&YE(o,i.filters[l]),!0):!1}(t,e):void le()}function JE(t){return t instanceof ct?function(n){return`${n.field.canonicalString()} ${n.op} ${po(n.value)}`}(t):t instanceof nr?function(n){return n.op.toString()+" {"+n.getFilters().map(JE).join(" ,")+"}"}(t):"Filter"}class jA extends ct{constructor(e,n,r){super(e,n,r),this.key=ne.fromName(r.referenceValue)}matches(e){const n=ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class FA extends ct{constructor(e,n){super(e,"in",n),this.keys=ZE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class UA extends ct{constructor(e,n){super(e,"not-in",n),this.keys=ZE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function ZE(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ne.fromName(r.referenceValue))}class zA extends ct{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return gm(n)&&nl(n.arrayValue,this.value)}}class BA extends ct{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&nl(this.value.arrayValue,n)}}class $A extends ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(nl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!nl(this.value.arrayValue,n)}}class HA extends ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!gm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>nl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e,n=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.ue=null}}function Nv(t,e=null,n=[],r=[],i=null,s=null,o=null){return new WA(t,e,n,r,i,s,o)}function ym(t){const e=ce(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Vf(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),ad(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>po(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>po(r)).join(",")),e.ue=n}return e.ue}function vm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!MA(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!YE(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!kv(t.startAt,e.startAt)&&kv(t.endAt,e.endAt)}function jf(t){return ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,n=null,r=[],i=[],s=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function qA(t,e,n,r,i,s,o,l){return new ld(t,e,n,r,i,s,o,l)}function _m(t){return new ld(t)}function bv(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function KA(t){return t.collectionGroup!==null}function Ra(t){const e=ce(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new xt(It.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(l=l.add(c.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new wc(s,r))}),n.has(It.keyField().canonicalString())||e.ce.push(new wc(It.keyField(),r))}return e.ce}function Yn(t){const e=ce(t);return e.le||(e.le=GA(e,Ra(t))),e.le}function GA(t,e){if(t.limitType==="F")return Nv(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new wc(i.field,s)});const n=t.endAt?new _c(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new _c(t.startAt.position,t.startAt.inclusive):null;return Nv(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ff(t,e,n){return new ld(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ud(t,e){return vm(Yn(t),Yn(e))&&t.limitType===e.limitType}function eT(t){return`${ym(Yn(t))}|lt:${t.limitType}`}function ks(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>JE(i)).join(", ")}]`),ad(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>po(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>po(i)).join(",")),`Target(${r})`}(Yn(t))}; limitType=${t.limitType})`}function cd(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ne.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Ra(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,l,u){const c=Av(o,l,u);return o.inclusive?c<=0:c<0}(r.startAt,Ra(r),i)||r.endAt&&!function(o,l,u){const c=Av(o,l,u);return o.inclusive?c>=0:c>0}(r.endAt,Ra(r),i))}(t,e)}function QA(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function tT(t){return(e,n)=>{let r=!1;for(const i of Ra(t)){const s=XA(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function XA(t,e,n){const r=t.field.isKeyField()?ne.comparator(e.key,n.key):function(s,o,l){const u=o.data.field(s),c=l.data.field(s);return u!==null&&c!==null?fo(u,c):le()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return le()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){xo(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return WE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA=new Xe(ne.comparator);function Cr(){return YA}const nT=new Xe(ne.comparator);function ha(...t){let e=nT;for(const n of t)e=e.insert(n.key,n);return e}function rT(t){let e=nT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Wi(){return Pa()}function iT(){return Pa()}function Pa(){return new Ro(t=>t.toString(),(t,e)=>t.isEqual(e))}const JA=new Xe(ne.comparator),ZA=new xt(ne.comparator);function _e(...t){let e=ZA;for(const n of t)e=e.add(n);return e}const ek=new xt(Ce);function tk(){return ek}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vc(e)?"-0":e}}function oT(t){return{integerValue:""+t}}function nk(t,e){return bA(e)?oT(e):sT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(){this._=void 0}}function rk(t,e,n){return t instanceof Ec?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&pm(s)&&(s=mm(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof rl?lT(t,e):t instanceof il?uT(t,e):function(i,s){const o=aT(i,s),l=Dv(o)+Dv(i.Pe);return Mf(o)&&Mf(i.Pe)?oT(l):sT(i.serializer,l)}(t,e)}function ik(t,e,n){return t instanceof rl?lT(t,e):t instanceof il?uT(t,e):n}function aT(t,e){return t instanceof Tc?function(r){return Mf(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Ec extends dd{}class rl extends dd{constructor(e){super(),this.elements=e}}function lT(t,e){const n=cT(e);for(const r of t.elements)n.some(i=>tr(i,r))||n.push(r);return{arrayValue:{values:n}}}class il extends dd{constructor(e){super(),this.elements=e}}function uT(t,e){let n=cT(e);for(const r of t.elements)n=n.filter(i=>!tr(i,r));return{arrayValue:{values:n}}}class Tc extends dd{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Dv(t){return st(t.integerValue||t.doubleValue)}function cT(t){return gm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function sk(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof rl&&i instanceof rl||r instanceof il&&i instanceof il?ho(r.elements,i.elements,tr):r instanceof Tc&&i instanceof Tc?tr(r.Pe,i.Pe):r instanceof Ec&&i instanceof Ec}(t.transform,e.transform)}class ok{constructor(e,n){this.version=e,this.transformResults=n}}class Er{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Er}static exists(e){return new Er(void 0,e)}static updateTime(e){return new Er(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class hd{}function dT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new fT(t.key,Er.none()):new Il(t.key,t.data,Er.none());{const n=t.data,r=vn.empty();let i=new xt(It.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ps(t.key,r,new Ln(i.toArray()),Er.none())}}function ak(t,e,n){t instanceof Il?function(i,s,o){const l=i.value.clone(),u=Lv(i.fieldTransforms,s,o.transformResults);l.setAll(u),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof ps?function(i,s,o){if(!Mu(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=Lv(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(hT(i)),u.setAll(l),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ca(t,e,n,r){return t instanceof Il?function(s,o,l,u){if(!Mu(s.precondition,o))return l;const c=s.value.clone(),h=Mv(s.fieldTransforms,u,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof ps?function(s,o,l,u){if(!Mu(s.precondition,o))return l;const c=Mv(s.fieldTransforms,u,o),h=o.data;return h.setAll(hT(s)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,l){return Mu(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function lk(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=aT(r.transform,i||null);s!=null&&(n===null&&(n=vn.empty()),n.set(r.field,s))}return n||null}function Ov(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ho(r,i,(s,o)=>sk(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Il extends hd{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ps extends hd{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function hT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Lv(t,e,n){const r=new Map;je(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,ik(o,l,n[i]))}return r}function Mv(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,rk(s,o,e))}return r}class fT extends hd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uk extends hd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&ak(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ca(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ca(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=iT();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const u=dT(o,l);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(ue.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),_e())}isEqual(e){return this.batchId===e.batchId&&ho(this.mutations,e.mutations,(n,r)=>Ov(n,r))&&ho(this.baseMutations,e.baseMutations,(n,r)=>Ov(n,r))}}class wm{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){je(e.mutations.length===r.length);let i=function(){return JA}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new wm(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rt,Ee;function fk(t){switch(t){default:return le();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0}}function pT(t){if(t===void 0)return Pr("GRPC error has no .code"),$.UNKNOWN;switch(t){case rt.OK:return $.OK;case rt.CANCELLED:return $.CANCELLED;case rt.UNKNOWN:return $.UNKNOWN;case rt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case rt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case rt.INTERNAL:return $.INTERNAL;case rt.UNAVAILABLE:return $.UNAVAILABLE;case rt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case rt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case rt.NOT_FOUND:return $.NOT_FOUND;case rt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case rt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case rt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case rt.ABORTED:return $.ABORTED;case rt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case rt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case rt.DATA_LOSS:return $.DATA_LOSS;default:return le()}}(Ee=rt||(rt={}))[Ee.OK=0]="OK",Ee[Ee.CANCELLED=1]="CANCELLED",Ee[Ee.UNKNOWN=2]="UNKNOWN",Ee[Ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ee[Ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ee[Ee.NOT_FOUND=5]="NOT_FOUND",Ee[Ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ee[Ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ee[Ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ee[Ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ee[Ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ee[Ee.ABORTED=10]="ABORTED",Ee[Ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ee[Ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ee[Ee.INTERNAL=13]="INTERNAL",Ee[Ee.UNAVAILABLE=14]="UNAVAILABLE",Ee[Ee.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mk=new Gi([4294967295,4294967295],0);function Vv(t){const e=pk().encode(t),n=new ME;return n.update(e),new Uint8Array(n.digest())}function jv(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Gi([n,r],0),new Gi([i,s],0)]}class Em{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new fa(`Invalid padding: ${n}`);if(r<0)throw new fa(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new fa(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new fa(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Gi.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Gi.fromNumber(r)));return i.compare(mk)===1&&(i=new Gi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Vv(e),[r,i]=jv(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Em(s,i,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Ie===0)return;const n=Vv(e),[r,i]=jv(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class fa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Sl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new fd(ue.min(),i,new Xe(Ce),Cr(),_e())}}class Sl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Sl(r,n,_e(),_e(),_e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class mT{constructor(e,n){this.targetId=e,this.me=n}}class gT{constructor(e,n,r=jt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Fv{constructor(){this.fe=0,this.ge=zv(),this.pe=jt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=_e(),n=_e(),r=_e();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:le()}}),new Sl(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=zv()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,je(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class gk{constructor(e){this.Le=e,this.Be=new Map,this.ke=Cr(),this.qe=Uv(),this.Qe=new Xe(Ce)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:le()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(jf(s))if(r===0){const o=new ne(s.path);this.Ue(n,o,Mt.newNoDocument(o,ue.min()))}else je(r===1);else{const o=this.Ye(n);if(o!==r){const l=this.Ze(e),u=l?this.Xe(l,e,o):1;if(u!==0){this.je(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,l;try{o=ss(r).toUint8Array()}catch(u){if(u instanceof qE)return co("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new Em(o,i,s)}catch(u){return co(u instanceof fa?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const l=this.Je(o);if(l){if(s.current&&jf(l.target)){const u=new ne(l.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,Mt.newNoDocument(u,e))}s.be&&(n.set(o,s.Ce()),s.ve())}});let r=_e();this.qe.forEach((s,o)=>{let l=!0;o.forEachWhile(u=>{const c=this.Je(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new fd(e,n,this.Qe,this.ke,r);return this.ke=Cr(),this.qe=Uv(),this.Qe=new Xe(Ce),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Fv,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new xt(Ce),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||J("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Fv),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Uv(){return new Xe(ne.comparator)}function zv(){return new Xe(ne.comparator)}const yk={asc:"ASCENDING",desc:"DESCENDING"},vk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_k={and:"AND",or:"OR"};class wk{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Uf(t,e){return t.useProto3Json||ad(e)?e:{value:e}}function Ic(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Ek(t,e){return Ic(t,e.toTimestamp())}function Jn(t){return je(!!t),ue.fromTimestamp(function(n){const r=vi(n);return new ht(r.seconds,r.nanos)}(t))}function Tm(t,e){return zf(t,e).canonicalString()}function zf(t,e){const n=function(i){return new Ze(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function vT(t){const e=Ze.fromString(t);return je(IT(e)),e}function Bf(t,e){return Tm(t.databaseId,e.path)}function _h(t,e){const n=vT(e);if(n.get(1)!==t.databaseId.projectId)throw new re($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new re($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ne(wT(n))}function _T(t,e){return Tm(t.databaseId,e)}function Tk(t){const e=vT(t);return e.length===4?Ze.emptyPath():wT(e)}function $f(t){return new Ze(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function wT(t){return je(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Bv(t,e,n){return{name:Bf(t,e),fields:n.value.mapValue.fields}}function Ik(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:le()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,h){return c.useProto3Json?(je(h===void 0||typeof h=="string"),jt.fromBase64String(h||"")):(je(h===void 0||h instanceof Buffer||h instanceof Uint8Array),jt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(c){const h=c.code===void 0?$.UNKNOWN:pT(c.code);return new re(h,c.message||"")}(o);n=new gT(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=_h(t,r.document.name),s=Jn(r.document.updateTime),o=r.document.createTime?Jn(r.document.createTime):ue.min(),l=new vn({mapValue:{fields:r.document.fields}}),u=Mt.newFoundDocument(i,s,o,l),c=r.targetIds||[],h=r.removedTargetIds||[];n=new Vu(c,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=_h(t,r.document),s=r.readTime?Jn(r.readTime):ue.min(),o=Mt.newNoDocument(i,s),l=r.removedTargetIds||[];n=new Vu([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=_h(t,r.document),s=r.removedTargetIds||[];n=new Vu([],s,i,null)}else{if(!("filter"in e))return le();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new hk(i,s),l=r.targetId;n=new mT(l,o)}}return n}function Sk(t,e){let n;if(e instanceof Il)n={update:Bv(t,e.key,e.value)};else if(e instanceof fT)n={delete:Bf(t,e.key)};else if(e instanceof ps)n={update:Bv(t,e.key,e.data),updateMask:Dk(e.fieldMask)};else{if(!(e instanceof uk))return le();n={verify:Bf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const l=o.transform;if(l instanceof Ec)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof rl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof il)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Tc)return{fieldPath:o.field.canonicalString(),increment:l.Pe};throw le()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Ek(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:le()}(t,e.precondition)),n}function xk(t,e){return t&&t.length>0?(je(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Jn(i.updateTime):Jn(s);return o.isEqual(ue.min())&&(o=Jn(s)),new ok(o,i.transformResults||[])}(n,e))):[]}function Rk(t,e){return{documents:[_T(t,e.path)]}}function Pk(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=_T(t,i);const s=function(c){if(c.length!==0)return TT(nr.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(h=>function(m){return{field:Ns(m.field),direction:kk(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=Uf(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function Ck(t){let e=Tk(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){je(r===1);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(f){const m=ET(f);return m instanceof nr&&XE(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(m=>function(x){return new wc(bs(x.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(f){let m;return m=typeof f=="object"?f.value:f,ad(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(f){const m=!!f.before,S=f.values||[];return new _c(S,m)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const m=!f.before,S=f.values||[];return new _c(S,m)}(n.endAt)),qA(e,i,o,s,l,"F",u,c)}function Ak(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return le()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ET(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=bs(n.unaryFilter.field);return ct.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=bs(n.unaryFilter.field);return ct.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=bs(n.unaryFilter.field);return ct.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=bs(n.unaryFilter.field);return ct.create(o,"!=",{nullValue:"NULL_VALUE"});default:return le()}}(t):t.fieldFilter!==void 0?function(n){return ct.create(bs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return le()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return nr.create(n.compositeFilter.filters.map(r=>ET(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return le()}}(n.compositeFilter.op))}(t):le()}function kk(t){return yk[t]}function Nk(t){return vk[t]}function bk(t){return _k[t]}function Ns(t){return{fieldPath:t.canonicalString()}}function bs(t){return It.fromServerFormat(t.fieldPath)}function TT(t){return t instanceof ct?function(n){if(n.op==="=="){if(Cv(n.value))return{unaryFilter:{field:Ns(n.field),op:"IS_NAN"}};if(Pv(n.value))return{unaryFilter:{field:Ns(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Cv(n.value))return{unaryFilter:{field:Ns(n.field),op:"IS_NOT_NAN"}};if(Pv(n.value))return{unaryFilter:{field:Ns(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ns(n.field),op:Nk(n.op),value:n.value}}}(t):t instanceof nr?function(n){const r=n.getFilters().map(i=>TT(i));return r.length===1?r[0]:{compositeFilter:{op:bk(n.op),filters:r}}}(t):le()}function Dk(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function IT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e,n,r,i,s=ue.min(),o=ue.min(),l=jt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new ti(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ti(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ti(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ti(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e){this.ct=e}}function Lk(t){const e=Ck({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ff(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(){this._n=new Vk}addToCollectionParentIndex(e,n){return this._n.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(yi.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(yi.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class Vk{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new xt(Ze.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new xt(Ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new mo(0)}static Ln(){return new mo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(){this.changes=new Ro(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Mt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ca(r.mutation,i,Ln.empty(),ht.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,_e()).next(()=>r))}getLocalViewOfDocuments(e,n,r=_e()){const i=Wi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=ha();return s.forEach((l,u)=>{o=o.insert(l,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Wi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,_e()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,i){let s=Cr();const o=Pa(),l=function(){return Pa()}();return n.forEach((u,c)=>{const h=r.get(c.key);i.has(c.key)&&(h===void 0||h.mutation instanceof ps)?s=s.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),Ca(h.mutation,c,h.mutation.getFieldMask(),ht.now())):o.set(c.key,Ln.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>{var f;return l.set(c,new Fk(h,(f=o.get(c))!==null&&f!==void 0?f:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Pa();let i=new Xe((o,l)=>o-l),s=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let h=r.get(u)||Ln.empty();h=l.applyToLocalView(c,h),r.set(u,h);const f=(i.get(l.batchId)||_e()).add(u);i=i.insert(l.batchId,f)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),c=u.key,h=u.value,f=iT();h.forEach(m=>{if(!s.has(m)){const S=dT(n.get(m),r.get(m));S!==null&&f.set(m,S),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return B.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ne.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):KA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):B.resolve(Wi());let l=-1,u=s;return o.next(c=>B.forEach(c,(h,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),s.get(h)?B.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,_e())).next(h=>({batchId:l,changes:rT(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ne(n)).next(r=>{let i=ha();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=ha();return this.indexManager.getCollectionParents(e,s).next(l=>B.forEach(l,u=>{const c=function(f,m){return new ld(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(h=>{h.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,Mt.newInvalidDocument(h)))});let l=ha();return o.forEach((u,c)=>{const h=s.get(u);h!==void 0&&Ca(h.mutation,c,Ln.empty(),ht.now()),cd(n,c)&&(l=l.insert(u,c))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return B.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Jn(i.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:Lk(i.bundledQuery),readTime:Jn(i.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(){this.overlays=new Xe(ne.comparator),this.hr=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Wi();return B.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const i=Wi(),s=n.length+1,o=new ne(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return B.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Xe((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=s.get(c.largestBatchId);h===null&&(h=Wi(),s=s.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const l=Wi(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,h)=>l.set(c,h)),!(l.size()>=i)););return B.resolve(l)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new dk(n,r));let s=this.hr.get(n);s===void 0&&(s=_e(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(){this.Pr=new xt(pt.Ir),this.Tr=new xt(pt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new pt(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new pt(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new ne(new Ze([])),r=new pt(n,e),i=new pt(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new ne(new Ze([])),r=new pt(n,e),i=new pt(n,e+1);let s=_e();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new pt(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class pt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return ne.comparator(e.key,n.key)||Ce(e.pr,n.pr)}static Er(e,n){return Ce(e.pr,n.pr)||ne.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new xt(pt.Ir)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new ck(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.wr=this.wr.add(new pt(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return B.resolve(o)}lookupMutationBatch(e,n){return B.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return B.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new pt(n,0),i=new pt(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const l=this.Sr(o.pr);s.push(l)}),B.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new xt(Ce);return n.forEach(i=>{const s=new pt(i,0),o=new pt(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],l=>{r=r.add(l.pr)})}),B.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ne.isDocumentKey(s)||(s=s.child(""));const o=new pt(new ne(s),0);let l=new xt(Ce);return this.wr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(l=l.add(u.pr)),!0)},o),B.resolve(this.Dr(l))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){je(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return B.forEach(n.mutations,i=>{const s=new pt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new pt(n,0),i=this.wr.firstAfterOrEqual(r);return B.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(e){this.vr=e,this.docs=function(){return new Xe(ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():Mt.newInvalidDocument(n))}getEntries(e,n){let r=Cr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Mt.newInvalidDocument(i))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Cr();const o=n.path,l=new ne(o.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:c,value:{document:h}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||CA(PA(h),r)<=0||(i.has(h.key)||cd(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return B.resolve(s)}getAllFromCollectionGroup(e,n,r,i){le()}Fr(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Wk(this)}getSize(e){return B.resolve(this.size)}}class Wk extends jk{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(e){this.persistence=e,this.Mr=new Ro(n=>ym(n),vm),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Im,this.targetCount=0,this.Lr=mo.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),B.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new mo(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.qn(n),B.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),B.waitFor(s).next(()=>i)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),B.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),B.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(e,n){this.Br={},this.overlays={},this.kr=new fm(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new qk(this),this.indexManager=new Mk,this.remoteDocumentCache=function(i){return new Hk(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new Ok(n),this.$r=new zk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Bk,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new $k(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){J("MemoryPersistence","Starting transaction:",e);const i=new Gk(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return B.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class Gk extends kA{constructor(e){super(),this.currentSequenceNumber=e}}class Sm{constructor(e){this.persistence=e,this.zr=new Im,this.jr=null}static Hr(e){return new Sm(e)}get Jr(){if(this.jr)return this.jr;throw le()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),B.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.Jr,r=>{const i=ne.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,ue.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return B.or([()=>B.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=_e(),i=_e();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new xm(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return ZP()?8:NA(Pt())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Qk;return this.Ji(e,n,o).next(l=>{if(s.result=l,this.Ui)return this.Yi(e,n,o,l.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(ra()<=we.DEBUG&&J("QueryEngine","SDK will not create cache indexes for query:",ks(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),B.resolve()):(ra()<=we.DEBUG&&J("QueryEngine","Query:",ks(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(ra()<=we.DEBUG&&J("QueryEngine","The SDK decides to create cache indexes for query:",ks(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yn(n))):B.resolve())}ji(e,n){if(bv(n))return B.resolve(null);let r=Yn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Ff(n,null,"F"),r=Yn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=_e(...s);return this.zi.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.Zi(n,l);return this.Xi(n,c,o,u.readTime)?this.ji(e,Ff(n,null,"F")):this.es(e,c,n,u)}))})))}Hi(e,n,r,i){return bv(n)||i.isEqual(ue.min())?B.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?B.resolve(null):(ra()<=we.DEBUG&&J("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ks(n)),this.es(e,o,n,RA(i,-1)).next(l=>l))})}Zi(e,n){let r=new xt(tT(e));return n.forEach((i,s)=>{cd(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return ra()<=we.DEBUG&&J("QueryEngine","Using full collection scan to execute query:",ks(n)),this.zi.getDocumentsMatchingQuery(e,n,yi.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Xe(Ce),this.rs=new Ro(s=>ym(s),vm),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Uk(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function Jk(t,e,n,r){return new Yk(t,e,n,r)}async function ST(t,e){const n=ce(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let u=_e();for(const c of i){o.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}for(const c of s){l.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(c=>({us:c,removedBatchIds:o,addedBatchIds:l}))})})}function Zk(t,e){const n=ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(l,u,c,h){const f=c.batch,m=f.keys();let S=B.resolve();return m.forEach(x=>{S=S.next(()=>h.getEntry(u,x)).next(R=>{const A=c.docVersions.get(x);je(A!==null),R.version.compareTo(A)<0&&(f.applyToRemoteDocument(R,c),R.isValidDocument()&&(R.setReadTime(c.commitVersion),h.addEntry(R)))})}),S.next(()=>l.mutationQueue.removeMutationBatch(u,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=_e();for(let c=0;c<l.mutationResults.length;++c)l.mutationResults[c].transformResults.length>0&&(u=u.add(l.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function xT(t){const e=ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function eN(t,e){const n=ce(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const l=[];e.targetChanges.forEach((h,f)=>{const m=i.get(f);if(!m)return;l.push(n.Qr.removeMatchingKeys(s,h.removedDocuments,f).next(()=>n.Qr.addMatchingKeys(s,h.addedDocuments,f)));let S=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?S=S.withResumeToken(jt.EMPTY_BYTE_STRING,ue.min()).withLastLimboFreeSnapshotVersion(ue.min()):h.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(h.resumeToken,r)),i=i.insert(f,S),function(R,A,I){return R.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=3e8?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(m,S,h)&&l.push(n.Qr.updateTargetData(s,S))});let u=Cr(),c=_e();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),l.push(tN(s,o,e.documentUpdates).next(h=>{u=h.cs,c=h.ls})),!r.isEqual(ue.min())){const h=n.Qr.getLastRemoteSnapshotVersion(s).next(f=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(h)}return B.waitFor(l).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.ns=i,s))}function tN(t,e,n){let r=_e(),i=_e();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Cr();return n.forEach((l,u)=>{const c=s.get(l);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(ue.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):J("LocalStore","Ignoring outdated watch update for ",l,". Current version:",c.version," Watch version:",u.version)}),{cs:o,ls:i}})}function nN(t,e){const n=ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function rN(t,e){const n=ce(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,B.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new ti(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function Hf(t,e,n){const r=ce(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Tl(o))throw o;J("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function $v(t,e,n){const r=ce(t);let i=ue.min(),s=_e();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,h){const f=ce(u),m=f.rs.get(h);return m!==void 0?B.resolve(f.ns.get(m)):f.Qr.getTargetData(c,h)}(r,o,Yn(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,l.targetId).next(u=>{s=u})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:ue.min(),n?s:_e())).next(l=>(iN(r,QA(e),l),{documents:l,hs:s})))}function iN(t,e,n){let r=t.ss.get(e)||ue.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class Hv{constructor(){this.activeTargetIds=tk()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sN{constructor(){this.no=new Hv,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Hv,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){J("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){J("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fu=null;function wh(){return fu===null?fu=function(){return 268435456+Math.round(2147483648*Math.random())}():fu++,"0x"+fu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dt="WebChannelConnection";class uN extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${s}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Do(){return!1}Co(n,r,i,s,o){const l=wh(),u=this.vo(n,r.toUriEncodedString());J("RestConnection",`Sending RPC '${n}' ${l}:`,u,i);const c={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(c,s,o),this.Mo(n,u,c,i).then(h=>(J("RestConnection",`Received RPC '${n}' ${l}: `,h),h),h=>{throw co("RestConnection",`RPC '${n}' ${l} failed with error: `,h,"url: ",u,"request:",i),h})}xo(n,r,i,s,o,l){return this.Co(n,r,i,s,o)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+So}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}vo(n,r){const i=aN[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){const s=wh();return new Promise((o,l)=>{const u=new VE;u.setWithCredentials(!0),u.listenOnce(FE.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Ou.NO_ERROR:const h=u.getResponseJson();J(Dt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case Ou.TIMEOUT:J(Dt,`RPC '${e}' ${s} timed out`),l(new re($.DEADLINE_EXCEEDED,"Request time out"));break;case Ou.HTTP_ERROR:const f=u.getStatus();if(J(Dt,`RPC '${e}' ${s} failed with status:`,f,"response text:",u.getResponseText()),f>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const S=m==null?void 0:m.error;if(S&&S.status&&S.message){const x=function(A){const I=A.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(I)>=0?I:$.UNKNOWN}(S.status);l(new re(x,S.message))}else l(new re($.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new re($.UNAVAILABLE,"Connection failed."));break;default:le()}}finally{J(Dt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);J(Dt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Oo(e,n,r){const i=wh(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=BE(),l=zE(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new jE({})),this.Fo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const h=s.join("");J(Dt,`Creating RPC '${e}' stream ${i}: ${h}`,u);const f=o.createWebChannel(h,u);let m=!1,S=!1;const x=new lN({lo:A=>{S?J(Dt,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(m||(J(Dt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),m=!0),J(Dt,`RPC '${e}' stream ${i} sending:`,A),f.send(A))},ho:()=>f.close()}),R=(A,I,v)=>{A.listen(I,w=>{try{v(w)}catch(b){setTimeout(()=>{throw b},0)}})};return R(f,da.EventType.OPEN,()=>{S||(J(Dt,`RPC '${e}' stream ${i} transport opened.`),x.mo())}),R(f,da.EventType.CLOSE,()=>{S||(S=!0,J(Dt,`RPC '${e}' stream ${i} transport closed`),x.po())}),R(f,da.EventType.ERROR,A=>{S||(S=!0,co(Dt,`RPC '${e}' stream ${i} transport errored:`,A),x.po(new re($.UNAVAILABLE,"The operation could not be completed")))}),R(f,da.EventType.MESSAGE,A=>{var I;if(!S){const v=A.data[0];je(!!v);const w=v,b=w.error||((I=w[0])===null||I===void 0?void 0:I.error);if(b){J(Dt,`RPC '${e}' stream ${i} received error:`,b);const U=b.status;let N=function(E){const P=rt[E];if(P!==void 0)return pT(P)}(U),T=b.message;N===void 0&&(N=$.INTERNAL,T="Unknown error status: "+U+" with message "+b.message),S=!0,x.po(new re(N,T)),f.close()}else J(Dt,`RPC '${e}' stream ${i} received:`,v),x.yo(v)}}),R(l,UE.STAT_EVENT,A=>{A.stat===Of.PROXY?J(Dt,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===Of.NOPROXY&&J(Dt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{x.fo()},0),x}}function Eh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pd(t){return new wk(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&J("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(e,n,r,i,s,o,l,u){this.oi=e,this.Go=r,this.zo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new RT(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,n){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(Pr(n.toString()),Pr("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(n)}__(){}auth(){this.state=1;const e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{e(()=>{const i=new re($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,n){const r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(e){return J("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(J("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class cN extends PT{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();const n=Ik(this.serializer,e),r=function(s){if(!("targetChange"in s))return ue.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ue.min():o.readTime?Jn(o.readTime):ue.min()}(e);return this.listener.h_(n,r)}P_(e){const n={};n.database=$f(this.serializer),n.addTarget=function(s,o){let l;const u=o.target;if(l=jf(u)?{documents:Rk(s,u)}:{query:Pk(s,u)._t},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=yT(s,o.resumeToken);const c=Uf(s,o.expectedCount);c!==null&&(l.expectedCount=c)}else if(o.snapshotVersion.compareTo(ue.min())>0){l.readTime=Ic(s,o.snapshotVersion.toTimestamp());const c=Uf(s,o.expectedCount);c!==null&&(l.expectedCount=c)}return l}(this.serializer,e);const r=Ak(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){const n={};n.database=$f(this.serializer),n.removeTarget=e,this.i_(n)}}class dN extends PT{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(je(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const n=xk(e.writeResults,e.commitTime),r=Jn(e.commitTime);return this.listener.A_(r,n)}return je(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=$f(this.serializer),this.i_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Sk(this.serializer,r))};this.i_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new re($.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,zf(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new re($.UNKNOWN,s.toString())})}xo(e,n,r,i,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.xo(e,zf(n,r),i,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new re($.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class fN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Pr(n),this.y_=!1):J("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(o=>{r.enqueueAndForget(async()=>{ms(this)&&(J("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=ce(u);c.M_.add(4),await xl(c),c.N_.set("Unknown"),c.M_.delete(4),await md(c)}(this))})}),this.N_=new fN(r,i)}}async function md(t){if(ms(t))for(const e of t.x_)await e(!0)}async function xl(t){for(const e of t.x_)await e(!1)}function CT(t,e){const n=ce(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),Am(n)?Cm(n):Po(n).Xo()&&Pm(n,e))}function Rm(t,e){const n=ce(t),r=Po(n);n.F_.delete(e),r.Xo()&&AT(n,e),n.F_.size===0&&(r.Xo()?r.n_():ms(n)&&n.N_.set("Unknown"))}function Pm(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Po(t).P_(e)}function AT(t,e){t.L_.xe(e),Po(t).I_(e)}function Cm(t){t.L_=new gk({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Po(t).start(),t.N_.w_()}function Am(t){return ms(t)&&!Po(t).Zo()&&t.F_.size>0}function ms(t){return ce(t).M_.size===0}function kT(t){t.L_=void 0}async function mN(t){t.N_.set("Online")}async function gN(t){t.F_.forEach((e,n)=>{Pm(t,e)})}async function yN(t,e){kT(t),Am(t)?(t.N_.D_(e),Cm(t)):t.N_.set("Unknown")}async function vN(t,e,n){if(t.N_.set("Online"),e instanceof gT&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const l of s.targetIds)i.F_.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.F_.delete(l),i.L_.removeTarget(l))}(t,e)}catch(r){J("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Sc(t,r)}else if(e instanceof Vu?t.L_.Ke(e):e instanceof mT?t.L_.He(e):t.L_.We(e),!n.isEqual(ue.min()))try{const r=await xT(t.localStore);n.compareTo(r)>=0&&await function(s,o){const l=s.L_.rt(o);return l.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const h=s.F_.get(c);h&&s.F_.set(c,h.withResumeToken(u.resumeToken,o))}}),l.targetMismatches.forEach((u,c)=>{const h=s.F_.get(u);if(!h)return;s.F_.set(u,h.withResumeToken(jt.EMPTY_BYTE_STRING,h.snapshotVersion)),AT(s,u);const f=new ti(h.target,u,c,h.sequenceNumber);Pm(s,f)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){J("RemoteStore","Failed to raise snapshot:",r),await Sc(t,r)}}async function Sc(t,e,n){if(!Tl(e))throw e;t.M_.add(1),await xl(t),t.N_.set("Offline"),n||(n=()=>xT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{J("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await md(t)})}function NT(t,e){return e().catch(n=>Sc(t,n,e))}async function gd(t){const e=ce(t),n=_i(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;_N(e);)try{const i=await nN(e.localStore,r);if(i===null){e.v_.length===0&&n.n_();break}r=i.batchId,wN(e,i)}catch(i){await Sc(e,i)}bT(e)&&DT(e)}function _N(t){return ms(t)&&t.v_.length<10}function wN(t,e){t.v_.push(e);const n=_i(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function bT(t){return ms(t)&&!_i(t).Zo()&&t.v_.length>0}function DT(t){_i(t).start()}async function EN(t){_i(t).V_()}async function TN(t){const e=_i(t);for(const n of t.v_)e.d_(n.mutations)}async function IN(t,e,n){const r=t.v_.shift(),i=wm.from(r,e,n);await NT(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await gd(t)}async function SN(t,e){e&&_i(t).E_&&await async function(r,i){if(function(o){return fk(o)&&o!==$.ABORTED}(i.code)){const s=r.v_.shift();_i(r).t_(),await NT(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await gd(r)}}(t,e),bT(t)&&DT(t)}async function qv(t,e){const n=ce(t);n.asyncQueue.verifyOperationInProgress(),J("RemoteStore","RemoteStore received new credentials");const r=ms(n);n.M_.add(3),await xl(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await md(n)}async function xN(t,e){const n=ce(t);e?(n.M_.delete(2),await md(n)):e||(n.M_.add(2),await xl(n),n.N_.set("Unknown"))}function Po(t){return t.B_||(t.B_=function(n,r,i){const s=ce(n);return s.f_(),new cN(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:mN.bind(null,t),To:gN.bind(null,t),Ao:yN.bind(null,t),h_:vN.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.t_(),Am(t)?Cm(t):t.N_.set("Unknown")):(await t.B_.stop(),kT(t))})),t.B_}function _i(t){return t.k_||(t.k_=function(n,r,i){const s=ce(n);return s.f_(),new dN(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:EN.bind(null,t),Ao:SN.bind(null,t),R_:TN.bind(null,t),A_:IN.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.t_(),await gd(t)):(await t.k_.stop(),t.v_.length>0&&(J("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new fi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new km(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new re($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Nm(t,e){if(Pr("AsyncQueue",`${e}: ${t}`),Tl(t))return new re($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ne.comparator(n.key,r.key):(n,r)=>ne.comparator(n.key,r.key),this.keyedMap=ha(),this.sortedSet=new Xe(this.comparator)}static emptySet(e){return new Js(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Js)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Js;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(){this.q_=new Xe(ne.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):le():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class go{constructor(e,n,r,i,s,o,l,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new go(e,n,Js.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ud(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class PN{constructor(){this.queries=new Ro(e=>eT(e),ud),this.onlineState="Unknown",this.z_=new Set}}async function CN(t,e){const n=ce(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.W_()&&e.G_()&&(r=2):(s=new RN,r=e.G_()?0:1);try{switch(r){case 0:s.K_=await n.onListen(i,!0);break;case 1:s.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const l=Nm(o,`Initialization of query '${ks(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.U_.push(e),e.j_(n.onlineState),s.K_&&e.H_(s.K_)&&bm(n)}async function AN(t,e){const n=ce(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.U_.indexOf(e);o>=0&&(s.U_.splice(o,1),s.U_.length===0?i=e.G_()?0:1:!s.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function kN(t,e){const n=ce(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const l of o.U_)l.H_(i)&&(r=!0);o.K_=i}}r&&bm(n)}function NN(t,e,n){const r=ce(t),i=r.queries.get(e);if(i)for(const s of i.U_)s.onError(n);r.queries.delete(e)}function bm(t){t.z_.forEach(e=>{e.next()})}var Wf,Gv;(Gv=Wf||(Wf={})).J_="default",Gv.Cache="cache";class bN{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new go(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=go.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==Wf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e){this.key=e}}class LT{constructor(e){this.key=e}}class DN{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=_e(),this.mutatedKeys=_e(),this.Ia=tT(e),this.Ta=new Js(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new Kv,i=n?n.Ta:this.Ta;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,f)=>{const m=i.get(h),S=cd(this.query,f)?f:null,x=!!m&&this.mutatedKeys.has(m.key),R=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let A=!1;m&&S?m.data.isEqual(S.data)?x!==R&&(r.track({type:3,doc:S}),A=!0):this.Ra(m,S)||(r.track({type:2,doc:S}),A=!0,(u&&this.Ia(S,u)>0||c&&this.Ia(S,c)<0)&&(l=!0)):!m&&S?(r.track({type:0,doc:S}),A=!0):m&&!S&&(r.track({type:1,doc:m}),A=!0,(u||c)&&(l=!0)),A&&(S?(o=o.add(S),s=R?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Ta:o,Aa:r,Xi:l,mutatedKeys:s}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const o=e.Aa.Q_();o.sort((h,f)=>function(S,x){const R=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return le()}};return R(S)-R(x)}(h.type,f.type)||this.Ia(h.doc,f.doc)),this.Va(r),i=i!=null&&i;const l=n&&!i?this.ma():[],u=this.Pa.size===0&&this.current&&!i?1:0,c=u!==this.ha;return this.ha=u,o.length!==0||c?{snapshot:new go(this.query,e.Ta,s,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:l}:{fa:l}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new Kv,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=_e(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new LT(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new OT(r))}),n}pa(e){this.la=e.hs,this.Pa=_e();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return go.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class ON{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class LN{constructor(e){this.key=e,this.wa=!1}}class MN{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new Ro(l=>eT(l),ud),this.Da=new Map,this.Ca=new Set,this.va=new Xe(ne.comparator),this.Fa=new Map,this.Ma=new Im,this.xa={},this.Oa=new Map,this.Na=mo.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function VN(t,e,n=!0){const r=zT(t);let i;const s=r.ba.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=await MT(r,e,n,!0),i}async function jN(t,e){const n=zT(t);await MT(n,e,!0,!1)}async function MT(t,e,n,r){const i=await rN(t.localStore,Yn(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let l;return r&&(l=await FN(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&CT(t.remoteStore,i),l}async function FN(t,e,n,r,i){t.Ba=(f,m,S)=>async function(R,A,I,v){let w=A.view.da(I);w.Xi&&(w=await $v(R.localStore,A.query,!1).then(({documents:T})=>A.view.da(T,w)));const b=v&&v.targetChanges.get(A.targetId),U=v&&v.targetMismatches.get(A.targetId)!=null,N=A.view.applyChanges(w,R.isPrimaryClient,b,U);return Xv(R,A.targetId,N.fa),N.snapshot}(t,f,m,S);const s=await $v(t.localStore,e,!0),o=new DN(e,s.hs),l=o.da(s.documents),u=Sl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(l,t.isPrimaryClient,u);Xv(t,n,c.fa);const h=new ON(e,n,o);return t.ba.set(e,h),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),c.snapshot}async function UN(t,e,n){const r=ce(t),i=r.ba.get(e),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter(o=>!ud(o,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Hf(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Rm(r.remoteStore,i.targetId),qf(r,i.targetId)}).catch(El)):(qf(r,i.targetId),await Hf(r.localStore,i.targetId,!0))}async function zN(t,e){const n=ce(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Rm(n.remoteStore,r.targetId))}async function BN(t,e,n){const r=QN(t);try{const i=await function(o,l){const u=ce(o),c=ht.now(),h=l.reduce((S,x)=>S.add(x.key),_e());let f,m;return u.persistence.runTransaction("Locally write mutations","readwrite",S=>{let x=Cr(),R=_e();return u.os.getEntries(S,h).next(A=>{x=A,x.forEach((I,v)=>{v.isValidDocument()||(R=R.add(I))})}).next(()=>u.localDocuments.getOverlayedDocuments(S,x)).next(A=>{f=A;const I=[];for(const v of l){const w=lk(v,f.get(v.key).overlayedDocument);w!=null&&I.push(new ps(v.key,w,KE(w.value.mapValue),Er.exists(!0)))}return u.mutationQueue.addMutationBatch(S,c,I,l)}).next(A=>{m=A;const I=A.applyToLocalDocumentSet(f,R);return u.documentOverlayCache.saveOverlays(S,A.batchId,I)})}).then(()=>({batchId:m.batchId,changes:rT(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,l,u){let c=o.xa[o.currentUser.toKey()];c||(c=new Xe(Ce)),c=c.insert(l,u),o.xa[o.currentUser.toKey()]=c}(r,i.batchId,n),await Rl(r,i.changes),await gd(r.remoteStore)}catch(i){const s=Nm(i,"Failed to persist write");n.reject(s)}}async function VT(t,e){const n=ce(t);try{const r=await eN(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Fa.get(s);o&&(je(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.wa=!0:i.modifiedDocuments.size>0?je(o.wa):i.removedDocuments.size>0&&(je(o.wa),o.wa=!1))}),await Rl(n,r,e)}catch(r){await El(r)}}function Qv(t,e,n){const r=ce(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ba.forEach((s,o)=>{const l=o.view.j_(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const u=ce(o);u.onlineState=l;let c=!1;u.queries.forEach((h,f)=>{for(const m of f.U_)m.j_(l)&&(c=!0)}),c&&bm(u)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function $N(t,e,n){const r=ce(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Fa.get(e),s=i&&i.key;if(s){let o=new Xe(ne.comparator);o=o.insert(s,Mt.newNoDocument(s,ue.min()));const l=_e().add(s),u=new fd(ue.min(),new Map,new Xe(Ce),o,l);await VT(r,u),r.va=r.va.remove(s),r.Fa.delete(e),Dm(r)}else await Hf(r.localStore,e,!1).then(()=>qf(r,e,n)).catch(El)}async function HN(t,e){const n=ce(t),r=e.batch.batchId;try{const i=await Zk(n.localStore,e);FT(n,r,null),jT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Rl(n,i)}catch(i){await El(i)}}async function WN(t,e,n){const r=ce(t);try{const i=await function(o,l){const u=ce(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return u.mutationQueue.lookupMutationBatch(c,l).next(f=>(je(f!==null),h=f.keys(),u.mutationQueue.removeMutationBatch(c,f))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,h,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>u.localDocuments.getDocuments(c,h))})}(r.localStore,e);FT(r,e,n),jT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Rl(r,i)}catch(i){await El(i)}}function jT(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function FT(t,e,n){const r=ce(t);let i=r.xa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function qf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||UT(t,r)})}function UT(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(Rm(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),Dm(t))}function Xv(t,e,n){for(const r of n)r instanceof OT?(t.Ma.addReference(r.key,e),qN(t,r)):r instanceof LT?(J("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||UT(t,r.key)):le()}function qN(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(J("SyncEngine","New document in limbo: "+n),t.Ca.add(r),Dm(t))}function Dm(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new ne(Ze.fromString(e)),r=t.Na.next();t.Fa.set(r,new LN(n)),t.va=t.va.insert(n,r),CT(t.remoteStore,new ti(Yn(_m(n.path)),r,"TargetPurposeLimboResolution",fm.oe))}}async function Rl(t,e,n){const r=ce(t),i=[],s=[],o=[];r.ba.isEmpty()||(r.ba.forEach((l,u)=>{o.push(r.Ba(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient){const h=c&&!c.fromCache;r.sharedClientState.updateQueryState(u.targetId,h?"current":"not-current")}if(c){i.push(c);const h=xm.Ki(u.targetId,c);s.push(h)}}))}),await Promise.all(o),r.Sa.h_(i),await async function(u,c){const h=ce(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>B.forEach(c,m=>B.forEach(m.qi,S=>h.persistence.referenceDelegate.addReference(f,m.targetId,S)).next(()=>B.forEach(m.Qi,S=>h.persistence.referenceDelegate.removeReference(f,m.targetId,S)))))}catch(f){if(!Tl(f))throw f;J("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const m=f.targetId;if(!f.fromCache){const S=h.ns.get(m),x=S.snapshotVersion,R=S.withLastLimboFreeSnapshotVersion(x);h.ns=h.ns.insert(m,R)}}}(r.localStore,s))}async function KN(t,e){const n=ce(t);if(!n.currentUser.isEqual(e)){J("SyncEngine","User change. New user:",e.toKey());const r=await ST(n.localStore,e);n.currentUser=e,function(s,o){s.Oa.forEach(l=>{l.forEach(u=>{u.reject(new re($.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Rl(n,r.us)}}function GN(t,e){const n=ce(t),r=n.Fa.get(e);if(r&&r.wa)return _e().add(r.key);{let i=_e();const s=n.Da.get(e);if(!s)return i;for(const o of s){const l=n.ba.get(o);i=i.unionWith(l.view.Ea)}return i}}function zT(t){const e=ce(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=VT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=GN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$N.bind(null,e),e.Sa.h_=kN.bind(null,e.eventManager),e.Sa.ka=NN.bind(null,e.eventManager),e}function QN(t){const e=ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=HN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=WN.bind(null,e),e}class Yv{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=pd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return Jk(this.persistence,new Xk,e.initialUser,this.serializer)}createPersistence(e){return new Kk(Sm.Hr,this.serializer)}createSharedClientState(e){return new sN}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class XN{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Qv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=KN.bind(null,this.syncEngine),await xN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new PN}()}createDatastore(e){const n=pd(e.databaseInfo.databaseId),r=function(s){return new uN(s)}(e.databaseInfo);return function(s,o,l,u){return new hN(s,o,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,l){return new pN(r,i,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>Qv(this.syncEngine,n,0),function(){return Wv.D()?new Wv:new oN}())}createSyncEngine(e,n){return function(i,s,o,l,u,c,h){const f=new MN(i,s,o,l,u,c);return h&&(f.La=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=ce(r);J("RemoteStore","RemoteStore shutting down."),i.M_.add(5),await xl(i),i.O_.shutdown(),i.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Pr("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ot.UNAUTHENTICATED,this.clientId=HE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{J("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(J("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new re($.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Nm(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Th(t,e){t.asyncQueue.verifyOperationInProgress(),J("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await ST(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Jv(t,e){t.asyncQueue.verifyOperationInProgress();const n=await eb(t);J("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>qv(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>qv(e.remoteStore,i)),t._onlineComponents=e}function ZN(t){return t.name==="FirebaseError"?t.code===$.FAILED_PRECONDITION||t.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function eb(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){J("FirestoreClient","Using user provided OfflineComponentProvider");try{await Th(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!ZN(n))throw n;co("Error using user provided cache. Falling back to memory cache: "+n),await Th(t,new Yv)}}else J("FirestoreClient","Using default OfflineComponentProvider"),await Th(t,new Yv);return t._offlineComponents}async function BT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(J("FirestoreClient","Using user provided OnlineComponentProvider"),await Jv(t,t._uninitializedComponentsProvider._online)):(J("FirestoreClient","Using default OnlineComponentProvider"),await Jv(t,new XN))),t._onlineComponents}function tb(t){return BT(t).then(e=>e.syncEngine)}async function nb(t){const e=await BT(t),n=e.eventManager;return n.onListen=VN.bind(null,e.syncEngine),n.onUnlisten=UN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=jN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=zN.bind(null,e.syncEngine),n}function rb(t,e,n={}){const r=new fi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,u,c){const h=new YN({next:m=>{o.enqueueAndForget(()=>AN(s,f));const S=m.docs.has(l);!S&&m.fromCache?c.reject(new re($.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&m.fromCache&&u&&u.source==="server"?c.reject(new re($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(m)},error:m=>c.reject(m)}),f=new bN(_m(l.path),h,{includeMetadataChanges:!0,ra:!0});return CN(s,f)}(await nb(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ib(t,e,n){if(!n)throw new re($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function sb(t,e,n,r){if(e===!0&&r===!0)throw new re($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function e_(t){if(!ne.isDocumentKey(t))throw new re($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Om(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":le()}function sl(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new re($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Om(t);throw new re($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new re($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new re($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$T((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new re($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new re($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new re($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Lm{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new t_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new re($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new re($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new t_(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new yA;switch(r.type){case"firstParty":return new EA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new re($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Zv.get(n);r&&(J("ComponentProvider","Removing Datastore"),Zv.delete(n),r.terminate())}(this),Promise.resolve()}}function ob(t,e,n,r={}){var i;const s=(t=sl(t,Lm))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let l,u;if(typeof r.mockUserToken=="string")l=r.mockUserToken,u=Ot.MOCK_USER;else{l=kE(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new re($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ot(c)}t._authCredentials=new vA(new $E(l,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Mm(this.firestore,e,this._query)}}class En{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ol(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new En(this.firestore,e,this._key)}}class ol extends Mm{constructor(e,n,r){super(e,n,_m(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new En(this.firestore,null,new ne(e))}withConverter(e){return new ol(this.firestore,e,this._path)}}function Pl(t,e,...n){if(t=Sn(t),arguments.length===1&&(e=HE.newId()),ib("doc","path",e),t instanceof Lm){const r=Ze.fromString(e,...n);return e_(r),new En(t,null,new ne(r))}{if(!(t instanceof En||t instanceof ol))throw new re($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ze.fromString(e,...n));return e_(r),new En(t.firestore,t instanceof ol?t.converter:null,new ne(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new RT(this,"async_queue_retry"),this.hu=()=>{const n=Eh();n&&J("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const e=Eh();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=Eh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new fi;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!Tl(e))throw e;J("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const i=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw Pr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const i=km.createAndSchedule(this,e,n,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&le()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}class Vm extends Lm{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new ab}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||WT(this),this._firestoreClient.terminate()}}function lb(t,e){const n=typeof t=="object"?t:dm(),r=typeof t=="string"?t:"(default)",i=od(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=PE("firestore");s&&ob(i,...s)}return i}function HT(t){return t._firestoreClient||WT(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function WT(t){var e,n,r;const i=t._freezeSettings(),s=function(l,u,c,h){return new OA(l,u,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,$T(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new JN(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yo(jt.fromBase64String(e))}catch(n){throw new re($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new yo(jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new re($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new It(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new re($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new re($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub=/^__.*__$/;class cb{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ps(e,this.data,this.fieldMask,n,this.fieldTransforms):new Il(e,this.data,n,this.fieldTransforms)}}function KT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw le()}}class Um{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new Um(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return xc(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(KT(this.fu)&&ub.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class db{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||pd(e)}Fu(e,n,r,i=!1){return new Um({fu:e,methodName:n,vu:r,path:It.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hb(t){const e=t._freezeSettings(),n=pd(t._databaseId);return new db(t._databaseId,!!e.ignoreUndefinedProperties,n)}function fb(t,e,n,r,i,s={}){const o=t.Fu(s.merge||s.mergeFields?2:0,e,n,i);YT("Data must be an object, but it was:",o,r);const l=QT(r,o);let u,c;if(s.merge)u=new Ln(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const f of s.mergeFields){const m=pb(e,f,n);if(!o.contains(m))throw new re($.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);gb(h,m)||h.push(m)}u=new Ln(h),c=o.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,c=o.fieldTransforms;return new cb(new vn(l),u,c)}function GT(t,e){if(XT(t=Sn(t)))return YT("Unsupported field value:",e,t),QT(t,e);if(t instanceof qT)return function(r,i){if(!KT(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const l of r){let u=GT(l,i.bu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Sn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return nk(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=ht.fromDate(r);return{timestampValue:Ic(i.serializer,s)}}if(r instanceof ht){const s=new ht(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ic(i.serializer,s)}}if(r instanceof Fm)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof yo)return{bytesValue:yT(i.serializer,r._byteString)};if(r instanceof En){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Tm(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${Om(r)}`)}(t,e)}function QT(t,e){const n={};return WE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xo(t,(r,i)=>{const s=GT(i,e.pu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function XT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ht||t instanceof Fm||t instanceof yo||t instanceof En||t instanceof qT)}function YT(t,e,n){if(!XT(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Om(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function pb(t,e,n){if((e=Sn(e))instanceof jm)return e._internalPath;if(typeof e=="string")return JT(t,e);throw xc("Field path arguments must be of type string or ",t,!1,void 0,n)}const mb=new RegExp("[~\\*/\\[\\]]");function JT(t,e,n){if(e.search(mb)>=0)throw xc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new jm(...e.split("."))._internalPath}catch{throw xc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function xc(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new re($.INVALID_ARGUMENT,l+t+u)}function gb(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new En(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new yb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(e1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class yb extends ZT{data(){return super.data()}}function e1(t,e){return typeof e=="string"?JT(t,e):e instanceof jm?e._internalPath:e._delegate._internalPath}class vb{convertValue(e,n="none"){switch(os(e)){case 0:return null;case 1:return e.booleanValue;case 2:return st(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ss(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw le()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return xo(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Fm(st(e.latitude),st(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=mm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(el(e));default:return null}}convertTimestamp(e){const n=vi(e);return new ht(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ze.fromString(e);je(IT(r));const i=new tl(r.get(1),r.get(3)),s=new ne(r.popFirst(5));return i.isEqual(n)||Pr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _b(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class t1 extends ZT{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Eb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(e1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Eb extends t1{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yd(t){t=sl(t,En);const e=sl(t.firestore,Vm);return rb(HT(e),t._key).then(n=>xb(e,t,n))}class Tb extends vb{constructor(e){super(),this.firestore=e}convertBytes(e){return new yo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new En(this.firestore,null,n)}}function Ib(t,e,n){t=sl(t,En);const r=sl(t.firestore,Vm),i=_b(t.converter,e);return Sb(r,[fb(hb(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Er.none())])}function Sb(t,e){return function(r,i){const s=new fi;return r.asyncQueue.enqueueAndForget(async()=>BN(await tb(r),i,s)),s.promise}(HT(t),e)}function xb(t,e,n){const r=n.docs.get(e._key),i=new Tb(t);return new t1(t,i,e._key,r,new wb(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){So=i})(fs),rs(new gi("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new Vm(new _A(r.getProvider("auth-internal")),new IA(r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new re($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tl(c.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),Xn(Iv,"4.6.3",e),Xn(Iv,"4.6.3","esm2017")})();function zm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function n1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Rb=n1,r1=new _l("auth","Firebase",n1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rc=new um("@firebase/auth");function Pb(t,...e){Rc.logLevel<=we.WARN&&Rc.warn(`Auth (${fs}): ${t}`,...e)}function ju(t,...e){Rc.logLevel<=we.ERROR&&Rc.error(`Auth (${fs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(t,...e){throw Bm(t,...e)}function Zn(t,...e){return Bm(t,...e)}function i1(t,e,n){const r=Object.assign(Object.assign({},Rb()),{[e]:n});return new _l("auth","Firebase",r).create(e,{appName:t.name})}function Tr(t){return i1(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Bm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return r1.create(t,...e)}function ie(t,e,...n){if(!t)throw Bm(e,...n)}function gr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ju(e),new Error(e)}function Ar(t,e){t||gr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kf(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Cb(){return n_()==="http:"||n_()==="https:"}function n_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Cb()||XP()||"connection"in navigator)?navigator.onLine:!0}function kb(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ar(n>e,"Short delay should be less than long delay!"),this.isMobile=GP()||YP()}get(){return Ab()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(t,e){Ar(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb=new Cl(3e4,6e4);function Ri(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Pi(t,e,n,r,i={}){return o1(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const l=wl(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),s1.fetch()(a1(t,t.config.apiHost,n,l),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))})}async function o1(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Nb),e);try{const i=new Ob(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw pu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[u,c]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw pu(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw pu(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw pu(t,"user-disabled",o);const h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw i1(t,h,c);Un(t,h)}}catch(i){if(i instanceof ir)throw i;Un(t,"network-request-failed",{message:String(i)})}}async function Al(t,e,n,r,i={}){const s=await Pi(t,e,n,r,i);return"mfaPendingCredential"in s&&Un(t,"multi-factor-auth-required",{_serverResponse:s}),s}function a1(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?$m(t.config,i):`${t.config.apiScheme}://${i}`}function Db(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ob{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Zn(this.auth,"network-request-failed")),bb.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function pu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Zn(t,e,r);return i.customData._tokenResponse=n,i}function r_(t){return t!==void 0&&t.enterprise!==void 0}class Lb{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Db(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function Mb(t,e){return Pi(t,"GET","/v2/recaptchaConfig",Ri(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vb(t,e){return Pi(t,"POST","/v1/accounts:delete",e)}async function l1(t,e){return Pi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aa(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function jb(t,e=!1){const n=Sn(t),r=await n.getIdToken(e),i=Hm(r);ie(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Aa(Ih(i.auth_time)),issuedAtTime:Aa(Ih(i.iat)),expirationTime:Aa(Ih(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Ih(t){return Number(t)*1e3}function Hm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ju("JWT malformed, contained fewer than 3 sections"),null;try{const i=xE(n);return i?JSON.parse(i):(ju("Failed to decode base64 JWT payload"),null)}catch(i){return ju("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function i_(t){const e=Hm(t);return ie(e,"internal-error"),ie(typeof e.exp<"u","internal-error"),ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function al(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ir&&Fb(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Fb({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Aa(this.lastLoginAt),this.creationTime=Aa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pc(t){var e;const n=t.auth,r=await t.getIdToken(),i=await al(t,l1(n,{idToken:r}));ie(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?u1(s.providerUserInfo):[],l=Bb(t.providerData,o),u=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),h=u?c:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new Gf(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function zb(t){const e=Sn(t);await Pc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Bb(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function u1(t){return t.map(e=>{var{providerId:n}=e,r=zm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $b(t,e){const n=await o1(t,{},async()=>{const r=wl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=a1(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",s1.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Hb(t,e){return Pi(t,"POST","/v2/accounts:revokeToken",Ri(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ie(e.idToken,"internal-error"),ie(typeof e.idToken<"u","internal-error"),ie(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):i_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ie(e.length!==0,"internal-error");const n=i_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await $b(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Zs;return r&&(ie(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ie(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ie(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zs,this.toJSON())}_performRefresh(){return gr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(t,e){ie(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class yr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=zm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ub(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Gf(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await al(this,this.stsTokenManager.getToken(this.auth,e));return ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return jb(this,e)}reload(){return zb(this)}_assign(e){this!==e&&(ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new yr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Pc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kn(this.auth.app))return Promise.reject(Tr(this.auth));const e=await this.getIdToken();return await al(this,Vb(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,l,u,c,h;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,S=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,x=(o=n.photoURL)!==null&&o!==void 0?o:void 0,R=(l=n.tenantId)!==null&&l!==void 0?l:void 0,A=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,I=(c=n.createdAt)!==null&&c!==void 0?c:void 0,v=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:w,emailVerified:b,isAnonymous:U,providerData:N,stsTokenManager:T}=n;ie(w&&T,e,"internal-error");const y=Zs.fromJSON(this.name,T);ie(typeof w=="string",e,"internal-error"),$r(f,e.name),$r(m,e.name),ie(typeof b=="boolean",e,"internal-error"),ie(typeof U=="boolean",e,"internal-error"),$r(S,e.name),$r(x,e.name),$r(R,e.name),$r(A,e.name),$r(I,e.name),$r(v,e.name);const E=new yr({uid:w,auth:e,email:m,emailVerified:b,displayName:f,isAnonymous:U,photoURL:x,phoneNumber:S,tenantId:R,stsTokenManager:y,createdAt:I,lastLoginAt:v});return N&&Array.isArray(N)&&(E.providerData=N.map(P=>Object.assign({},P))),A&&(E._redirectEventId=A),E}static async _fromIdTokenResponse(e,n,r=!1){const i=new Zs;i.updateFromServerResponse(n);const s=new yr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Pc(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ie(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?u1(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),l=new Zs;l.updateFromIdToken(r);const u=new yr({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Gf(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_=new Map;function vr(t){Ar(t instanceof Function,"Expected a class definition");let e=s_.get(t);return e?(Ar(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,s_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}c1.type="NONE";const o_=c1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fu(t,e,n){return`firebase:${t}:${e}:${n}`}class eo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Fu(this.userKey,i.apiKey,s),this.fullPersistenceKey=Fu("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?yr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new eo(vr(o_),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||vr(o_);const o=Fu(r,e.config.apiKey,e.name);let l=null;for(const c of n)try{const h=await c._get(o);if(h){const f=yr._fromJSON(e,h);c!==s&&(l=f),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new eo(s,e,r):(s=u[0],l&&await s._set(o,l.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new eo(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(f1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(d1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(m1(e))return"Blackberry";if(g1(e))return"Webos";if(Wm(e))return"Safari";if((e.includes("chrome/")||h1(e))&&!e.includes("edge/"))return"Chrome";if(p1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function d1(t=Pt()){return/firefox\//i.test(t)}function Wm(t=Pt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function h1(t=Pt()){return/crios\//i.test(t)}function f1(t=Pt()){return/iemobile/i.test(t)}function p1(t=Pt()){return/android/i.test(t)}function m1(t=Pt()){return/blackberry/i.test(t)}function g1(t=Pt()){return/webos/i.test(t)}function vd(t=Pt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Wb(t=Pt()){var e;return vd(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function qb(){return JP()&&document.documentMode===10}function y1(t=Pt()){return vd(t)||p1(t)||g1(t)||m1(t)||/windows phone/i.test(t)||f1(t)}function Kb(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(t,e=[]){let n;switch(t){case"Browser":n=a_(Pt());break;case"Worker":n=`${a_(Pt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${fs}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,l)=>{try{const u=e(s);o(u)}catch(u){l(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qb(t,e={}){return Pi(t,"GET","/v2/passwordPolicy",Ri(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb=6;class Yb{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Xb,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,l;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(l=u.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new l_(this),this.idTokenSubscription=new l_(this),this.beforeStateQueue=new Gb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=r1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=vr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await eo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await l1(this,{idToken:e}),r=await yr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Kn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===l)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Pc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=kb()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Kn(this.app))return Promise.reject(Tr(this));const n=e?Sn(e):null;return n&&ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Kn(this.app)?Promise.reject(Tr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Kn(this.app)?Promise.reject(Tr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Qb(this),n=new Yb(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new _l("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Hb(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&vr(e)||this._popupRedirectResolver;ie(n,this,"argument-error"),this.redirectPersistenceManager=await eo.create(this,[vr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(ie(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=v1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Pb(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function gs(t){return Sn(t)}class l_{constructor(e){this.auth=e,this.observer=null,this.addObserver=oC(n=>this.observer=n)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _d={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Zb(t){_d=t}function _1(t){return _d.loadJS(t)}function eD(){return _d.recaptchaEnterpriseScript}function tD(){return _d.gapiScript}function nD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const rD="recaptcha-enterprise",iD="NO_RECAPTCHA";class sD{constructor(e){this.type=rD,this.auth=gs(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,l)=>{Mb(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const c=new Lb(u);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(u=>{l(u)})})}function i(s,o,l){const u=window.grecaptcha;r_(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(iD)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(l=>{if(!n&&r_(window.grecaptcha))i(l,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=eD();u.length!==0&&(u+=l),_1(u).then(()=>{i(l,s,o)}).catch(c=>{o(c)})}}).catch(l=>{o(l)})})}}async function u_(t,e,n,r=!1){const i=new sD(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Qf(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await u_(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await u_(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oD(t,e){const n=od(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(gc(s,e??{}))return i;Un(i,"already-initialized")}return n.initialize({options:e})}function aD(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(vr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function lD(t,e,n){const r=gs(t);ie(r._canInitEmulator,r,"emulator-config-failed"),ie(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=w1(e),{host:o,port:l}=uD(e),u=l===null?"":`:${l}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),cD()}function w1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function uD(t){const e=w1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:c_(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:c_(o)}}}function c_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function cD(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return gr("not implemented")}_getIdTokenResponse(e){return gr("not implemented")}_linkToIdToken(e,n){return gr("not implemented")}_getReauthenticationResolver(e){return gr("not implemented")}}async function dD(t,e){return Pi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hD(t,e){return Al(t,"POST","/v1/accounts:signInWithPassword",Ri(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fD(t,e){return Al(t,"POST","/v1/accounts:signInWithEmailLink",Ri(t,e))}async function pD(t,e){return Al(t,"POST","/v1/accounts:signInWithEmailLink",Ri(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll extends qm{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new ll(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ll(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qf(e,n,"signInWithPassword",hD);case"emailLink":return fD(e,{email:this._email,oobCode:this._password});default:Un(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qf(e,r,"signUpPassword",dD);case"emailLink":return pD(e,{idToken:n,email:this._email,oobCode:this._password});default:Un(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function to(t,e){return Al(t,"POST","/v1/accounts:signInWithIdp",Ri(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD="http://localhost";class as extends qm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new as(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Un("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=zm(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new as(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return to(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,to(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,to(e,n)}buildRequest(){const e={requestUri:mD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=wl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gD(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function yD(t){const e=ua(ca(t)).link,n=e?ua(ca(e)).deep_link_id:null,r=ua(ca(t)).deep_link_id;return(r?ua(ca(r)).link:null)||r||n||e||t}class Km{constructor(e){var n,r,i,s,o,l;const u=ua(ca(e)),c=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,f=gD((i=u.mode)!==null&&i!==void 0?i:null);ie(c&&h&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=h,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(l=u.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=yD(e);try{return new Km(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(){this.providerId=Co.PROVIDER_ID}static credential(e,n){return ll._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Km.parseLink(n);return ie(r,"argument-error"),ll._fromEmailAndCode(e,r.code,r.tenantId)}}Co.PROVIDER_ID="password";Co.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Co.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl extends E1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends kl{constructor(){super("facebook.com")}static credential(e){return as._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qr.credential(e.oauthAccessToken)}catch{return null}}}Qr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends kl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return as._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Xr.credential(n,r)}catch{return null}}}Xr.GOOGLE_SIGN_IN_METHOD="google.com";Xr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends kl{constructor(){super("github.com")}static credential(e){return as._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yr.credential(e.oauthAccessToken)}catch{return null}}}Yr.GITHUB_SIGN_IN_METHOD="github.com";Yr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends kl{constructor(){super("twitter.com")}static credential(e,n){return as._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Jr.credential(n,r)}catch{return null}}}Jr.TWITTER_SIGN_IN_METHOD="twitter.com";Jr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vD(t,e){return Al(t,"POST","/v1/accounts:signUp",Ri(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await yr._fromIdTokenResponse(e,r,i),o=d_(r);return new ls({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=d_(r);return new ls({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function d_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc extends ir{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Cc.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Cc(e,n,r,i)}}function T1(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Cc._fromErrorAndOperation(t,s,e,r):s})}async function _D(t,e,n=!1){const r=await al(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ls._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wD(t,e,n=!1){const{auth:r}=t;if(Kn(r.app))return Promise.reject(Tr(r));const i="reauthenticate";try{const s=await al(t,T1(r,i,e,t),n);ie(s.idToken,r,"internal-error");const o=Hm(s.idToken);ie(o,r,"internal-error");const{sub:l}=o;return ie(t.uid===l,r,"user-mismatch"),ls._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Un(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I1(t,e,n=!1){if(Kn(t.app))return Promise.reject(Tr(t));const r="signIn",i=await T1(t,r,e),s=await ls._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function ED(t,e){return I1(gs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S1(t){const e=gs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function TD(t,e,n){if(Kn(t.app))return Promise.reject(Tr(t));const r=gs(t),o=await Qf(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",vD).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&S1(t),u}),l=await ls._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function ID(t,e,n){return Kn(t.app)?Promise.reject(Tr(t)):ED(Sn(t),Co.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&S1(t),r})}function SD(t,e,n,r){return Sn(t).onIdTokenChanged(e,n,r)}function xD(t,e,n){return Sn(t).beforeAuthStateChanged(e,n)}const Ac="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ac,"1"),this.storage.removeItem(Ac),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RD(){const t=Pt();return Wm(t)||vd(t)}const PD=1e3,CD=10;class R1 extends x1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=RD()&&Kb(),this.fallbackToPolling=y1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,u)=>{this.notifyListeners(o,u)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);qb()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,CD):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},PD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}R1.type="LOCAL";const AD=R1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1 extends x1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}P1.type="SESSION";const C1=P1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kD(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new wd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async c=>c(n.origin,s)),u=await kD(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gm(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,u)=>{const c=Gm("",20);i.port1.start();const h=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const m=f;if(m.data.eventId===c)switch(m.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(m.data.response);break;default:clearTimeout(h),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(){return window}function bD(t){er().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(){return typeof er().WorkerGlobalScope<"u"&&typeof er().importScripts=="function"}async function DD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function OD(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function LD(){return A1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1="firebaseLocalStorageDb",MD=1,kc="firebaseLocalStorage",N1="fbase_key";class Nl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ed(t,e){return t.transaction([kc],e?"readwrite":"readonly").objectStore(kc)}function VD(){const t=indexedDB.deleteDatabase(k1);return new Nl(t).toPromise()}function Xf(){const t=indexedDB.open(k1,MD);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(kc,{keyPath:N1})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(kc)?e(r):(r.close(),await VD(),e(await Xf()))})})}async function h_(t,e,n){const r=Ed(t,!0).put({[N1]:e,value:n});return new Nl(r).toPromise()}async function jD(t,e){const n=Ed(t,!1).get(e),r=await new Nl(n).toPromise();return r===void 0?null:r.value}function f_(t,e){const n=Ed(t,!0).delete(e);return new Nl(n).toPromise()}const FD=800,UD=3;class b1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xf(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>UD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return A1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wd._getInstance(LD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await DD(),!this.activeServiceWorker)return;this.sender=new ND(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||OD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xf();return await h_(e,Ac,"1"),await f_(e,Ac),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>h_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>jD(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>f_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Ed(i,!1).getAll();return new Nl(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),FD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}b1.type="LOCAL";const zD=b1;new Cl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BD(t,e){return e?vr(e):(ie(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm extends qm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return to(e,this._buildIdpRequest())}_linkToIdToken(e,n){return to(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return to(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function $D(t){return I1(t.auth,new Qm(t),t.bypassAuthState)}function HD(t){const{auth:e,user:n}=t;return ie(n,e,"internal-error"),wD(n,new Qm(t),t.bypassAuthState)}async function WD(t){const{auth:e,user:n}=t;return ie(n,e,"internal-error"),_D(n,new Qm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $D;case"linkViaPopup":case"linkViaRedirect":return WD;case"reauthViaPopup":case"reauthViaRedirect":return HD;default:Un(this.auth,"internal-error")}}resolve(e){Ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD=new Cl(2e3,1e4);class Ws extends D1{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ws.currentPopupAction&&Ws.currentPopupAction.cancel(),Ws.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ie(e,this.auth,"internal-error"),e}async onExecution(){Ar(this.filter.length===1,"Popup operations only handle one event");const e=Gm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Zn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Zn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ws.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,qD.get())};e()}}Ws.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD="pendingRedirect",Uu=new Map;class GD extends D1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Uu.get(this.auth._key());if(!e){try{const r=await QD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Uu.set(this.auth._key(),e)}return this.bypassAuthState||Uu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function QD(t,e){const n=JD(e),r=YD(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function XD(t,e){Uu.set(t._key(),e)}function YD(t){return vr(t._redirectPersistence)}function JD(t){return Fu(KD,t.config.apiKey,t.name)}async function ZD(t,e,n=!1){if(Kn(t.app))return Promise.reject(Tr(t));const r=gs(t),i=BD(r,e),o=await new GD(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2=10*60*1e3;class t2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!n2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!O1(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Zn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=e2&&this.cachedEventUids.clear(),this.cachedEventUids.has(p_(e))}saveEventToCache(e){this.cachedEventUids.add(p_(e)),this.lastProcessedEventTime=Date.now()}}function p_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function O1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function n2(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return O1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r2(t,e={}){return Pi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,s2=/^https?/;async function o2(t){if(t.config.emulator)return;const{authorizedDomains:e}=await r2(t);for(const n of e)try{if(a2(n))return}catch{}Un(t,"unauthorized-domain")}function a2(t){const e=Kf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!s2.test(n))return!1;if(i2.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2=new Cl(3e4,6e4);function m_(){const t=er().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function u2(t){return new Promise((e,n)=>{var r,i,s;function o(){m_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{m_(),n(Zn(t,"network-request-failed"))},timeout:l2.get()})}if(!((i=(r=er().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=er().gapi)===null||s===void 0)&&s.load)o();else{const l=nD("iframefcb");return er()[l]=()=>{gapi.load?o():n(Zn(t,"network-request-failed"))},_1(`${tD()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw zu=null,e})}let zu=null;function c2(t){return zu=zu||u2(t),zu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2=new Cl(5e3,15e3),h2="__/auth/iframe",f2="emulator/auth/iframe",p2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},m2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function g2(t){const e=t.config;ie(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?$m(e,f2):`https://${t.config.authDomain}/${h2}`,r={apiKey:e.apiKey,appName:t.name,v:fs},i=m2.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${wl(r).slice(1)}`}async function y2(t){const e=await c2(t),n=er().gapi;return ie(n,t,"internal-error"),e.open({where:document.body,url:g2(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:p2,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Zn(t,"network-request-failed"),l=er().setTimeout(()=>{s(o)},d2.get());function u(){er().clearTimeout(l),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_2=500,w2=600,E2="_blank",T2="http://localhost";class g_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function I2(t,e,n,r=_2,i=w2){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const u=Object.assign(Object.assign({},v2),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Pt().toLowerCase();n&&(l=h1(c)?E2:n),d1(c)&&(e=e||T2,u.scrollbars="yes");const h=Object.entries(u).reduce((m,[S,x])=>`${m}${S}=${x},`,"");if(Wb(c)&&l!=="_self")return S2(e||"",l),new g_(null);const f=window.open(e||"",l,h);ie(f,t,"popup-blocked");try{f.focus()}catch{}return new g_(f)}function S2(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2="__/auth/handler",R2="emulator/auth/handler",P2=encodeURIComponent("fac");async function y_(t,e,n,r,i,s){ie(t.config.authDomain,t,"auth-domain-config-required"),ie(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:fs,eventId:i};if(e instanceof E1){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",sC(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof kl){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const u=await t._getAppCheckToken(),c=u?`#${P2}=${encodeURIComponent(u)}`:"";return`${C2(t)}?${wl(l).slice(1)}${c}`}function C2({config:t}){return t.emulator?$m(t,R2):`https://${t.authDomain}/${x2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh="webStorageSupport";class A2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=C1,this._completeRedirectFn=ZD,this._overrideRedirectResult=XD}async _openPopup(e,n,r,i){var s;Ar((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await y_(e,n,r,Kf(),i);return I2(e,o,Gm())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await y_(e,n,r,Kf(),i);return bD(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ar(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await y2(e),r=new t2(e);return n.register("authEvent",i=>(ie(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Sh,{type:Sh},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Sh];o!==void 0&&n(!!o),Un(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=o2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return y1()||Wm()||vd()}}const k2=A2;var v_="@firebase/auth",__="1.7.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b2(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function D2(t){rs(new gi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;ie(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:v1(t)},c=new Jb(r,i,s,u);return aD(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),rs(new gi("auth-internal",e=>{const n=gs(e.getProvider("auth").getImmediate());return(r=>new N2(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xn(v_,__,b2(t)),Xn(v_,__,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2=5*60,L2=AE("authIdTokenMaxAge")||O2;let w_=null;const M2=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>L2)return;const i=n==null?void 0:n.token;w_!==i&&(w_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function V2(t=dm()){const e=od(t,"auth");if(e.isInitialized())return e.getImmediate();const n=oD(t,{popupRedirectResolver:k2,persistence:[zD,AD,C1]}),r=AE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=M2(s.toString());xD(n,o,()=>o(n.currentUser)),SD(n,l=>o(l))}}const i=RE("auth");return i&&lD(n,`http://${i}`),n}function j2(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Zb({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Zn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",j2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});D2("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1="firebasestorage.googleapis.com",F2="storageBucket",U2=2*60*1e3,z2=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr extends ir{constructor(e,n,r=0){super(xh(e),`Firebase Storage: ${n} (${xh(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,sr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return xh(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var rr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(rr||(rr={}));function xh(t){return"storage/"+t}function B2(){const t="An unknown error occurred, please check the error payload for server response.";return new sr(rr.UNKNOWN,t)}function $2(){return new sr(rr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function H2(){return new sr(rr.CANCELED,"User canceled the upload/download.")}function W2(t){return new sr(rr.INVALID_URL,"Invalid URL '"+t+"'.")}function q2(t){return new sr(rr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function E_(t){return new sr(rr.INVALID_ARGUMENT,t)}function M1(){return new sr(rr.APP_DELETED,"The Firebase app was deleted.")}function K2(t){return new sr(rr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Mn.makeFromUrl(e,n)}catch{return new Mn(e,"")}if(r.path==="")return r;throw q2(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(b){b.path.charAt(b.path.length-1)==="/"&&(b.path_=b.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+i+o,"i"),u={bucket:1,path:3};function c(b){b.path_=decodeURIComponent(b.path)}const h="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",S=new RegExp(`^https?://${f}/${h}/b/${i}/o${m}`,"i"),x={bucket:1,path:3},R=n===L1?"(?:storage.googleapis.com|storage.cloud.google.com)":n,A="([^?#]*)",I=new RegExp(`^https?://${R}/${i}/${A}`,"i"),w=[{regex:l,indices:u,postModify:s},{regex:S,indices:x,postModify:c},{regex:I,indices:{bucket:1,path:2},postModify:c}];for(let b=0;b<w.length;b++){const U=w[b],N=U.regex.exec(e);if(N){const T=N[U.indices.bucket];let y=N[U.indices.path];y||(y=""),r=new Mn(T,y),U.postModify(r);break}}if(r==null)throw W2(e);return r}}class G2{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q2(t,e,n){let r=1,i=null,s=null,o=!1,l=0;function u(){return l===2}let c=!1;function h(...A){c||(c=!0,e.apply(null,A))}function f(A){i=setTimeout(()=>{i=null,t(S,u())},A)}function m(){s&&clearTimeout(s)}function S(A,...I){if(c){m();return}if(A){m(),h.call(null,A,...I);return}if(u()||o){m(),h.call(null,A,...I);return}r<64&&(r*=2);let w;l===1?(l=2,w=0):w=(r+Math.random())*1e3,f(w)}let x=!1;function R(A){x||(x=!0,m(),!c&&(i!==null?(A||(l=2),clearTimeout(i),f(0)):A||(l=1)))}return f(0),s=setTimeout(()=>{o=!0,R(!0)},n),R}function X2(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y2(t){return t!==void 0}function T_(t,e,n,r){if(r<e)throw E_(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw E_(`Invalid value for '${t}'. Expected ${n} or less.`)}function J2(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nc;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Nc||(Nc={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z2(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(e,n,r,i,s,o,l,u,c,h,f,m=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=h,this.connectionFactory_=f,this.retry=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,x)=>{this.resolve_=S,this.reject_=x,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new mu(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=l=>{const u=l.loaded,c=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const l=s.getErrorCode()===Nc.NO_ERROR,u=s.getStatus();if(!l||Z2(u,this.additionalRetryCodes_)&&this.retry){const h=s.getErrorCode()===Nc.ABORT;r(!1,new mu(!1,null,h));return}const c=this.successCodes_.indexOf(u)!==-1;r(!0,new mu(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(l,l.getResponse());Y2(u)?s(u):s()}catch(u){o(u)}else if(l!==null){const u=B2();u.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,u)):o(u)}else if(i.canceled){const u=this.appDelete_?M1():H2();o(u)}else{const u=$2();o(u)}};this.canceled_?n(!1,new mu(!1,null,!0)):this.backoffId_=Q2(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&X2(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class mu{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function tO(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function nO(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function rO(t,e){e&&(t["X-Firebase-GMPID"]=e)}function iO(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function sO(t,e,n,r,i,s,o=!0){const l=J2(t.urlParams),u=t.url+l,c=Object.assign({},t.headers);return rO(c,e),tO(c,n),nO(c,s),iO(c,r),new eO(u,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oO(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function aO(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,n){this._service=e,n instanceof Mn?this._location=n:this._location=Mn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new bc(e,n)}get root(){const e=new Mn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return aO(this._location.path)}get storage(){return this._service}get parent(){const e=oO(this._location.path);if(e===null)return null;const n=new Mn(this._location.bucket,e);return new bc(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw K2(e)}}function I_(t,e){const n=e==null?void 0:e[F2];return n==null?null:Mn.makeFromBucketSpec(n,t)}function lO(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:kE(i,t.app.options.projectId))}class uO{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=L1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=U2,this._maxUploadRetryTime=z2,this._requests=new Set,i!=null?this._bucket=Mn.makeFromBucketSpec(i,this._host):this._bucket=I_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Mn.makeFromBucketSpec(this._url,e):this._bucket=I_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){T_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){T_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new bc(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new G2(M1());{const o=sO(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const S_="@firebase/storage",x_="0.12.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1="storage";function cO(t=dm(),e){t=Sn(t);const r=od(t,V1).getImmediate({identifier:e}),i=PE("storage");return i&&dO(r,...i),r}function dO(t,e,n,r={}){lO(t,e,n,r)}function hO(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new uO(n,r,i,e,fs)}function fO(){rs(new gi(V1,hO,"PUBLIC").setMultipleInstances(!0)),Xn(S_,x_,""),Xn(S_,x_,"esm2017")}fO();const pO={apiKey:"AIzaSyAtt9OHoKp4US4sI7zm-9v3Rcw0G2vsr7g",authDomain:"nexusmart-867e0.firebaseapp.com",projectId:"nexusmart-867e0",storageBucket:"nexusmart-867e0.appspot.com",messagingSenderId:"555871393154",appId:"1:555871393154:web:aaadbf0b5b332761982b9b"},j1=DE(pO),kr=V2(),bl=lb(j1);cO(j1);function F1(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=F1(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ni(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=F1(t))&&(r&&(r+=" "),r+=e);return r}const ul=t=>typeof t=="number"&&!isNaN(t),Qi=t=>typeof t=="string",on=t=>typeof t=="function",Bu=t=>Qi(t)||on(t)?t:null,Yf=t=>j.isValidElement(t)||Qi(t)||on(t)||ul(t);function mO(t,e,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function Td(t){let{enter:e,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:s=300}=t;return function(o){let{children:l,position:u,preventExitTransition:c,done:h,nodeRef:f,isIn:m,playToast:S}=o;const x=r?`${e}--${u}`:e,R=r?`${n}--${u}`:n,A=j.useRef(0);return j.useLayoutEffect(()=>{const I=f.current,v=x.split(" "),w=b=>{b.target===f.current&&(S(),I.removeEventListener("animationend",w),I.removeEventListener("animationcancel",w),A.current===0&&b.type!=="animationcancel"&&I.classList.remove(...v))};I.classList.add(...v),I.addEventListener("animationend",w),I.addEventListener("animationcancel",w)},[]),j.useEffect(()=>{const I=f.current,v=()=>{I.removeEventListener("animationend",v),i?mO(I,h,s):h()};m||(c?v():(A.current=1,I.className+=` ${R}`,I.addEventListener("animationend",v)))},[m]),ke.createElement(ke.Fragment,null,l)}}function R_(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const Bt=new Map;let cl=[];const Jf=new Set,gO=t=>Jf.forEach(e=>e(t)),U1=()=>Bt.size>0;function z1(t,e){var n;if(e)return!((n=Bt.get(e))==null||!n.isToastActive(t));let r=!1;return Bt.forEach(i=>{i.isToastActive(t)&&(r=!0)}),r}function B1(t,e){Yf(t)&&(U1()||cl.push({content:t,options:e}),Bt.forEach(n=>{n.buildToast(t,e)}))}function P_(t,e){Bt.forEach(n=>{e!=null&&e!=null&&e.containerId?(e==null?void 0:e.containerId)===n.id&&n.toggle(t,e==null?void 0:e.id):n.toggle(t,e==null?void 0:e.id)})}function yO(t){const{subscribe:e,getSnapshot:n,setProps:r}=j.useRef(function(s){const o=s.containerId||1;return{subscribe(l){const u=function(h,f,m){let S=1,x=0,R=[],A=[],I=[],v=f;const w=new Map,b=new Set,U=()=>{I=Array.from(w.values()),b.forEach(y=>y())},N=y=>{A=y==null?[]:A.filter(E=>E!==y),U()},T=y=>{const{toastId:E,onOpen:P,updateId:k,children:O}=y.props,C=k==null;y.staleId&&w.delete(y.staleId),w.set(E,y),A=[...A,y.props.toastId].filter(ge=>ge!==y.staleId),U(),m(R_(y,C?"added":"updated")),C&&on(P)&&P(j.isValidElement(O)&&O.props)};return{id:h,props:v,observe:y=>(b.add(y),()=>b.delete(y)),toggle:(y,E)=>{w.forEach(P=>{E!=null&&E!==P.props.toastId||on(P.toggle)&&P.toggle(y)})},removeToast:N,toasts:w,clearQueue:()=>{x-=R.length,R=[]},buildToast:(y,E)=>{if((oe=>{let{containerId:pe,toastId:Pe,updateId:De}=oe;const Fe=pe?pe!==h:h!==1,yt=w.has(Pe)&&De==null;return Fe||yt})(E))return;const{toastId:P,updateId:k,data:O,staleId:C,delay:ge}=E,et=()=>{N(P)},Ft=k==null;Ft&&x++;const fe={...v,style:v.toastStyle,key:S++,...Object.fromEntries(Object.entries(E).filter(oe=>{let[pe,Pe]=oe;return Pe!=null})),toastId:P,updateId:k,data:O,closeToast:et,isIn:!1,className:Bu(E.className||v.toastClassName),bodyClassName:Bu(E.bodyClassName||v.bodyClassName),progressClassName:Bu(E.progressClassName||v.progressClassName),autoClose:!E.isLoading&&(W=E.autoClose,Z=v.autoClose,W===!1||ul(W)&&W>0?W:Z),deleteToast(){const oe=w.get(P),{onClose:pe,children:Pe}=oe.props;on(pe)&&pe(j.isValidElement(Pe)&&Pe.props),m(R_(oe,"removed")),w.delete(P),x--,x<0&&(x=0),R.length>0?T(R.shift()):U()}};var W,Z;fe.closeButton=v.closeButton,E.closeButton===!1||Yf(E.closeButton)?fe.closeButton=E.closeButton:E.closeButton===!0&&(fe.closeButton=!Yf(v.closeButton)||v.closeButton);let ee=y;j.isValidElement(y)&&!Qi(y.type)?ee=j.cloneElement(y,{closeToast:et,toastProps:fe,data:O}):on(y)&&(ee=y({closeToast:et,toastProps:fe,data:O}));const de={content:ee,props:fe,staleId:C};v.limit&&v.limit>0&&x>v.limit&&Ft?R.push(de):ul(ge)?setTimeout(()=>{T(de)},ge):T(de)},setProps(y){v=y},setToggle:(y,E)=>{w.get(y).toggle=E},isToastActive:y=>A.some(E=>E===y),getSnapshot:()=>v.newestOnTop?I.reverse():I}}(o,s,gO);Bt.set(o,u);const c=u.observe(l);return cl.forEach(h=>B1(h.content,h.options)),cl=[],()=>{c(),Bt.delete(o)}},setProps(l){var u;(u=Bt.get(o))==null||u.setProps(l)},getSnapshot(){var l;return(l=Bt.get(o))==null?void 0:l.getSnapshot()}}}(t)).current;r(t);const i=j.useSyncExternalStore(e,n,n);return{getToastToRender:function(s){if(!i)return[];const o=new Map;return i.forEach(l=>{const{position:u}=l.props;o.has(u)||o.set(u,[]),o.get(u).push(l)}),Array.from(o,l=>s(l[0],l[1]))},isToastActive:z1,count:i==null?void 0:i.length}}function vO(t){const[e,n]=j.useState(!1),[r,i]=j.useState(!1),s=j.useRef(null),o=j.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:l,pauseOnHover:u,closeToast:c,onClick:h,closeOnClick:f}=t;var m,S;function x(){n(!0)}function R(){n(!1)}function A(w){const b=s.current;o.canDrag&&b&&(o.didMove=!0,e&&R(),o.delta=t.draggableDirection==="x"?w.clientX-o.start:w.clientY-o.start,o.start!==w.clientX&&(o.canCloseOnClick=!1),b.style.transform=`translate3d(${t.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`},0)`,b.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function I(){document.removeEventListener("pointermove",A),document.removeEventListener("pointerup",I);const w=s.current;if(o.canDrag&&o.didMove&&w){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return i(!0),t.closeToast(),void t.collapseAll();w.style.transition="transform 0.2s, opacity 0.2s",w.style.removeProperty("transform"),w.style.removeProperty("opacity")}}(S=Bt.get((m={id:t.toastId,containerId:t.containerId,fn:n}).containerId||1))==null||S.setToggle(m.id,m.fn),j.useEffect(()=>{if(t.pauseOnFocusLoss)return document.hasFocus()||R(),window.addEventListener("focus",x),window.addEventListener("blur",R),()=>{window.removeEventListener("focus",x),window.removeEventListener("blur",R)}},[t.pauseOnFocusLoss]);const v={onPointerDown:function(w){if(t.draggable===!0||t.draggable===w.pointerType){o.didMove=!1,document.addEventListener("pointermove",A),document.addEventListener("pointerup",I);const b=s.current;o.canCloseOnClick=!0,o.canDrag=!0,b.style.transition="none",t.draggableDirection==="x"?(o.start=w.clientX,o.removalDistance=b.offsetWidth*(t.draggablePercent/100)):(o.start=w.clientY,o.removalDistance=b.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent)/100)}},onPointerUp:function(w){const{top:b,bottom:U,left:N,right:T}=s.current.getBoundingClientRect();w.nativeEvent.type!=="touchend"&&t.pauseOnHover&&w.clientX>=N&&w.clientX<=T&&w.clientY>=b&&w.clientY<=U?R():x()}};return l&&u&&(v.onMouseEnter=R,t.stacked||(v.onMouseLeave=x)),f&&(v.onClick=w=>{h&&h(w),o.canCloseOnClick&&c()}),{playToast:x,pauseToast:R,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:v}}function _O(t){let{delay:e,isRunning:n,closeToast:r,type:i="default",hide:s,className:o,style:l,controlledProgress:u,progress:c,rtl:h,isIn:f,theme:m}=t;const S=s||u&&c===0,x={...l,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused"};u&&(x.transform=`scaleX(${c})`);const R=ni("Toastify__progress-bar",u?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${m}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":h}),A=on(o)?o({rtl:h,type:i,defaultClassName:R}):ni(R,o),I={[u&&c>=1?"onTransitionEnd":"onAnimationEnd"]:u&&c<1?null:()=>{f&&r()}};return ke.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":S},ke.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${m} Toastify__progress-bar--${i}`}),ke.createElement("div",{role:"progressbar","aria-hidden":S?"true":"false","aria-label":"notification timer",className:A,style:x,...I}))}let wO=1;const $1=()=>""+wO++;function EO(t){return t&&(Qi(t.toastId)||ul(t.toastId))?t.toastId:$1()}function ka(t,e){return B1(t,e),e.toastId}function Dc(t,e){return{...e,type:e&&e.type||t,toastId:EO(e)}}function gu(t){return(e,n)=>ka(e,Dc(t,n))}function Se(t,e){return ka(t,Dc("default",e))}Se.loading=(t,e)=>ka(t,Dc("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),Se.promise=function(t,e,n){let r,{pending:i,error:s,success:o}=e;i&&(r=Qi(i)?Se.loading(i,n):Se.loading(i.render,{...n,...i}));const l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},u=(h,f,m)=>{if(f==null)return void Se.dismiss(r);const S={type:h,...l,...n,data:m},x=Qi(f)?{render:f}:f;return r?Se.update(r,{...S,...x}):Se(x.render,{...S,...x}),m},c=on(t)?t():t;return c.then(h=>u("success",o,h)).catch(h=>u("error",s,h)),c},Se.success=gu("success"),Se.info=gu("info"),Se.error=gu("error"),Se.warning=gu("warning"),Se.warn=Se.warning,Se.dark=(t,e)=>ka(t,Dc("default",{theme:"dark",...e})),Se.dismiss=function(t){(function(e){var n;if(U1()){if(e==null||Qi(n=e)||ul(n))Bt.forEach(r=>{r.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){const r=Bt.get(e.containerId);r?r.removeToast(e.id):Bt.forEach(i=>{i.removeToast(e.id)})}}else cl=cl.filter(r=>e!=null&&r.options.toastId!==e)})(t)},Se.clearWaitingQueue=function(t){t===void 0&&(t={}),Bt.forEach(e=>{!e.props.limit||t.containerId&&e.id!==t.containerId||e.clearQueue()})},Se.isActive=z1,Se.update=function(t,e){e===void 0&&(e={});const n=((r,i)=>{var s;let{containerId:o}=i;return(s=Bt.get(o||1))==null?void 0:s.toasts.get(r)})(t,e);if(n){const{props:r,content:i}=n,s={delay:100,...r,...e,toastId:e.toastId||t,updateId:$1()};s.toastId!==t&&(s.staleId=t);const o=s.render||i;delete s.render,ka(o,s)}},Se.done=t=>{Se.update(t,{progress:1})},Se.onChange=function(t){return Jf.add(t),()=>{Jf.delete(t)}},Se.play=t=>P_(!0,t),Se.pause=t=>P_(!1,t);const TO=typeof window<"u"?j.useLayoutEffect:j.useEffect,yu=t=>{let{theme:e,type:n,isLoading:r,...i}=t;return ke.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...i})},Rh={info:function(t){return ke.createElement(yu,{...t},ke.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return ke.createElement(yu,{...t},ke.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return ke.createElement(yu,{...t},ke.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return ke.createElement(yu,{...t},ke.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return ke.createElement("div",{className:"Toastify__spinner"})}},IO=t=>{const{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:s}=vO(t),{closeButton:o,children:l,autoClose:u,onClick:c,type:h,hideProgressBar:f,closeToast:m,transition:S,position:x,className:R,style:A,bodyClassName:I,bodyStyle:v,progressClassName:w,progressStyle:b,updateId:U,role:N,progress:T,rtl:y,toastId:E,deleteToast:P,isIn:k,isLoading:O,closeOnClick:C,theme:ge}=t,et=ni("Toastify__toast",`Toastify__toast-theme--${ge}`,`Toastify__toast--${h}`,{"Toastify__toast--rtl":y},{"Toastify__toast--close-on-click":C}),Ft=on(R)?R({rtl:y,position:x,type:h,defaultClassName:et}):ni(et,R),fe=function(de){let{theme:oe,type:pe,isLoading:Pe,icon:De}=de,Fe=null;const yt={theme:oe,type:pe};return De===!1||(on(De)?Fe=De({...yt,isLoading:Pe}):j.isValidElement(De)?Fe=j.cloneElement(De,yt):Pe?Fe=Rh.spinner():(Ci=>Ci in Rh)(pe)&&(Fe=Rh[pe](yt))),Fe}(t),W=!!T||!u,Z={closeToast:m,type:h,theme:ge};let ee=null;return o===!1||(ee=on(o)?o(Z):j.isValidElement(o)?j.cloneElement(o,Z):function(de){let{closeToast:oe,theme:pe,ariaLabel:Pe="close"}=de;return ke.createElement("button",{className:`Toastify__close-button Toastify__close-button--${pe}`,type:"button",onClick:De=>{De.stopPropagation(),oe(De)},"aria-label":Pe},ke.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ke.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(Z)),ke.createElement(S,{isIn:k,done:P,position:x,preventExitTransition:n,nodeRef:r,playToast:s},ke.createElement("div",{id:E,onClick:c,"data-in":k,className:Ft,...i,style:A,ref:r},ke.createElement("div",{...k&&{role:N},className:on(I)?I({type:h}):ni("Toastify__toast-body",I),style:v},fe!=null&&ke.createElement("div",{className:ni("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!O})},fe),ke.createElement("div",null,l)),ee,ke.createElement(_O,{...U&&!W?{key:`pb-${U}`}:{},rtl:y,theme:ge,delay:u,isRunning:e,isIn:k,closeToast:m,hide:f,type:h,style:b,className:w,controlledProgress:W,progress:T||0})))},Id=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},SO=Td(Id("bounce",!0));Td(Id("slide",!0));Td(Id("zoom"));Td(Id("flip"));const xO={position:"top-right",transition:SO,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function RO(t){let e={...xO,...t};const n=t.stacked,[r,i]=j.useState(!0),s=j.useRef(null),{getToastToRender:o,isToastActive:l,count:u}=yO(e),{className:c,style:h,rtl:f,containerId:m}=e;function S(R){const A=ni("Toastify__toast-container",`Toastify__toast-container--${R}`,{"Toastify__toast-container--rtl":f});return on(c)?c({position:R,rtl:f,defaultClassName:A}):ni(A,Bu(c))}function x(){n&&(i(!0),Se.play())}return TO(()=>{if(n){var R;const A=s.current.querySelectorAll('[data-in="true"]'),I=12,v=(R=e.position)==null?void 0:R.includes("top");let w=0,b=0;Array.from(A).reverse().forEach((U,N)=>{const T=U;T.classList.add("Toastify__toast--stacked"),N>0&&(T.dataset.collapsed=`${r}`),T.dataset.pos||(T.dataset.pos=v?"top":"bot");const y=w*(r?.2:1)+(r?0:I*N);T.style.setProperty("--y",`${v?y:-1*y}px`),T.style.setProperty("--g",`${I}`),T.style.setProperty("--s",""+(1-(r?b:0))),w+=T.offsetHeight,b+=.025})}},[r,u,n]),ke.createElement("div",{ref:s,className:"Toastify",id:m,onMouseEnter:()=>{n&&(i(!1),Se.pause())},onMouseLeave:x},o((R,A)=>{const I=A.length?{...h}:{...h,pointerEvents:"none"};return ke.createElement("div",{className:S(R),style:I,key:`container-${R}`},A.map(v=>{let{content:w,props:b}=v;return ke.createElement(IO,{...b,stacked:n,collapseAll:x,isIn:l(b.toastId,b.containerId),style:b.style,key:`toast-${b.key}`},w)}))}))}var H1={exports:{}},W1={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dl=j;function PO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var CO=typeof Object.is=="function"?Object.is:PO,AO=Dl.useSyncExternalStore,kO=Dl.useRef,NO=Dl.useEffect,bO=Dl.useMemo,DO=Dl.useDebugValue;W1.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=kO(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=bO(function(){function u(S){if(!c){if(c=!0,h=S,S=r(S),i!==void 0&&o.hasValue){var x=o.value;if(i(x,S))return f=x}return f=S}if(x=f,CO(h,S))return x;var R=r(S);return i!==void 0&&i(x,R)?x:(h=S,f=R)}var c=!1,h,f,m=n===void 0?null:n;return[function(){return u(e())},m===null?void 0:function(){return u(m())}]},[e,n,r,i]);var l=AO(t,s[0],s[1]);return NO(function(){o.hasValue=!0,o.value=l},[l]),DO(l),l};H1.exports=W1;var OO=H1.exports,an="default"in bh?ke:bh,C_=Symbol.for("react-redux-context"),A_=typeof globalThis<"u"?globalThis:{};function LO(){if(!an.createContext)return{};const t=A_[C_]??(A_[C_]=new Map);let e=t.get(an.createContext);return e||(e=an.createContext(null),t.set(an.createContext,e)),e}var wi=LO(),MO=()=>{throw new Error("uSES not initialized!")};function Xm(t=wi){return function(){return an.useContext(t)}}var q1=Xm(),K1=MO,VO=t=>{K1=t},jO=(t,e)=>t===e;function FO(t=wi){const e=t===wi?q1:Xm(t),n=(r,i={})=>{const{equalityFn:s=jO,devModeChecks:o={}}=typeof i=="function"?{equalityFn:i}:i,{store:l,subscription:u,getServerState:c,stabilityCheck:h,identityFunctionCheck:f}=e();an.useRef(!0);const m=an.useCallback({[r.name](x){return r(x)}}[r.name],[r,h,o.stabilityCheck]),S=K1(u.addNestedSub,l.getState,c||l.getState,m,s);return an.useDebugValue(S),S};return Object.assign(n,{withTypes:()=>n}),n}var Ym=FO();function UO(t){t()}function zO(){let t=null,e=null;return{clear(){t=null,e=null},notify(){UO(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var k_={notify(){},get:()=>[]};function BO(t,e){let n,r=k_,i=0,s=!1;function o(R){h();const A=r.subscribe(R);let I=!1;return()=>{I||(I=!0,A(),f())}}function l(){r.notify()}function u(){x.onStateChange&&x.onStateChange()}function c(){return s}function h(){i++,n||(n=t.subscribe(u),r=zO())}function f(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=k_)}function m(){s||(s=!0,h())}function S(){s&&(s=!1,f())}const x={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:u,isSubscribed:c,trySubscribe:m,tryUnsubscribe:S,getListeners:()=>r};return x}var $O=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",HO=typeof navigator<"u"&&navigator.product==="ReactNative",WO=$O||HO?an.useLayoutEffect:an.useEffect;function qO({store:t,context:e,children:n,serverState:r,stabilityCheck:i="once",identityFunctionCheck:s="once"}){const o=an.useMemo(()=>{const c=BO(t);return{store:t,subscription:c,getServerState:r?()=>r:void 0,stabilityCheck:i,identityFunctionCheck:s}},[t,r,i,s]),l=an.useMemo(()=>t.getState(),[t]);WO(()=>{const{subscription:c}=o;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),l!==t.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[o,l]);const u=e||wi;return an.createElement(u.Provider,{value:o},n)}var KO=qO;function G1(t=wi){const e=t===wi?q1:Xm(t),n=()=>{const{store:r}=e();return r};return Object.assign(n,{withTypes:()=>n}),n}var GO=G1();function QO(t=wi){const e=t===wi?GO:G1(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var Sd=QO();VO(OO.useSyncExternalStoreWithSelector);const XO=()=>{const[t,e]=j.useState(""),[n,r]=j.useState(!1),[i,s]=j.useState(0),o=Ym(f=>f.cart.items);j.useEffect(()=>{let f=0;o.forEach(m=>f+=m.quantity),s(f)});const l=()=>{r(!n)},u=()=>{n&&r(!1)},c=async()=>{kr.onAuthStateChanged(async f=>{console.log(f);const m=Pl(bl,"Users",f.uid),S=await yd(m);S.exists()?(e(S.data()),console.log(S.data())):console.log("User is not logged in")})};j.useEffect(()=>{c()},[]);const h=async()=>{try{await kr.signOut(),console.log("User Logged Out"),window.location.href="/login",Se.success(`${t.userName} logged out successfully`,{position:"top-center"})}catch(f){console.log("Error Logging Out:",f.message)}};return g.jsx("div",{className:"w-[100%] text-base padAir:text-lg font-medium fixed top-0 bg-orange-50",children:g.jsxs("section",{children:[g.jsxs("div",{className:"flex md:justify-around justify-between px-4 md:px-0",children:[g.jsx("div",{children:g.jsx(Oe,{to:"/",children:g.jsx("img",{src:"/whitr.jpg",alt:""})})}),g.jsxs("div",{className:"flex spro:hidden text-orange-900 gap-5 mini:gap-10 items-center",children:[g.jsx("div",{className:"flex mini:flex",children:t?g.jsxs(Oe,{to:"/cart",className:"flex",children:[g.jsx("img",{src:"/cart.svg",alt:"",className:"w-[32px]"}),g.jsx("span",{className:"text-red-500",children:i})]}):g.jsx("div",{className:"hidden"})}),g.jsx("button",{children:g.jsx("img",{src:"/menu.svg",alt:"",onClick:l,className:"padAir:w-[40px] w-[30px]"})})]}),g.jsx("div",{className:"text-white gap-16 justify-center items-center hidden spro:flex",children:t?By.map((f,m)=>g.jsx("div",{className:"relative",children:f.children?g.jsx(vu,{title:f.title,items:f.children,handleLogout:h}):g.jsx(Oe,{to:f.link,className:"text-black hover:text-orange-500",children:f.title})},m)):$y.map((f,m)=>g.jsx("div",{className:"relative",children:f.children?g.jsx(vu,{title:f.title,items:f.children}):g.jsx(Oe,{to:f.link,className:"text-black hover:text-zinc-900",children:f.title})},m))}),g.jsx("div",{className:"hidden spro:flex",children:t?g.jsx("div",{className:"hidden"}):g.jsxs("div",{className:"flex gap-5 text-black items-center justify-center ",children:[g.jsx(Oe,{to:"/register",children:"Register"}),g.jsx(Oe,{to:"/login",children:"Login"})]})}),g.jsx("div",{className:"hidden md:flex items-center",children:t?g.jsx("div",{children:g.jsxs(Oe,{to:"/cart",className:"flex",onClick:u,children:[g.jsx("img",{src:"/cart.svg",alt:"",width:30}),g.jsx("span",{className:"text-red-400",children:i})]})}):g.jsx("div",{className:"hidden"})})]}),g.jsxs("div",{className:`${n?"flex":"hidden"} text-white gap-20 mt-9 lg:hidden flex-col h-[450px] items-center justify-center animate-slideIn bg-orange-50`,children:[t?By.map((f,m)=>g.jsx("div",{className:"relative",children:f.children?g.jsx(vu,{title:f.title,items:f.children,handleLogout:h}):g.jsx(Oe,{to:f.link,className:"text-black hover:text-black",onClick:u,children:f.title})},m)):$y.map((f,m)=>g.jsx("div",{className:"relative",children:f.children?g.jsx(vu,{title:f.title,items:f.children}):g.jsx(Oe,{to:f.link,className:"text-zinc-900 hover:text-zinc-950 bg-or",onClick:u,children:f.title})},m)),g.jsx("div",{children:t?g.jsx("div",{className:"hidden"}):g.jsxs("div",{className:"flex gap-5 text-black items-center justify-center mt-8 ",children:[g.jsx(Oe,{to:"/register",onClick:u,children:"Register"}),g.jsx(Oe,{to:"/login",onClick:u,children:"Login"})]})})]})]})})},vu=({title:t,items:e,handleLogout:n})=>{const[r,i]=ke.useState(!1),s=()=>{i(!r)},o=()=>{openNavigation&&setOpenNavigation(!1)};return g.jsxs("div",{className:"relative",children:[g.jsx("button",{onClick:s,className:"text-black hover:text-zinc-950 ",children:t}),r&&g.jsx("div",{className:"absolute mt-2 bg-white shadow-lg rounded-lg py-2 w-48",children:e.map((l,u)=>g.jsx(Oe,{to:l.link,className:"block px-4 py-2 text-gray-800 hover:bg-gray-200 font-normal",onClick:l.title==="Logout"?n:o,children:l.title},u))})]})},YO=()=>g.jsx("div",{children:g.jsx("div",{className:"flex lg:justify-start md:items-start flex-wrap  w-full mt-20 gap-16 items-center justify-center",children:iR.map(t=>g.jsxs("div",{className:"",children:[g.jsx("p",{className:"text-4xl font-palanquin font-bold text-center mx-auto",children:t.value}),g.jsx("p",{className:"leading-7 font-montserrat text-slate-gray",children:t.label})]},t.label))})}),JO=()=>g.jsxs("section",{className:`flex flex-col lg:flex-row lg:justify-around lg:p-10 items-center gap-10 lg:gap-2 justify-center mt-8  md:p-16\r
    `,children:[g.jsxs("section",{className:"lg:w-[50%] w-[90%] items-center justify-center mx-auto animate-slideIn",children:[g.jsxs("div",{className:"font-medium text-lg flex flex-col gap-10 justify-center items-center lg:items-start",children:[g.jsx("p",{className:"text-coral-red text-base font-normal text-center lg:text-start",children:"Discover the latest in technology and innovation."}),g.jsxs("h1",{className:"text-xl font-bold md:text-3xl lg:text-4xl lg:w-[60%] w-[90%] text-center lg:text-start ",children:["Join the Tech Revolution with ",g.jsx("span",{className:"text-coral-red",children:"NexusMart!"})]}),g.jsx("p",{className:"lg:w-[50%] text-zinc-800 font-normal md:font-medium w-[90%] text-center lg:text-start ",children:"Your Ultimate Destination for Electronics, Gadgets, and Accessories"})]}),g.jsx("div",{className:"mt-12 text-center lg:text-left ",children:g.jsx("button",{className:"text-center mx-auto hover:animate-bounce ",children:g.jsx(Oe,{to:"/product",className:"bg-black text-white p-3 rounded-xl px-9 mx-auto text-center ",children:"Shop Now"})})}),g.jsx("section",{children:g.jsx(YO,{})})]}),g.jsx("section",{className:"lg:w-[40%] bg-black flex items-center rounded-3xl w-[80%] p-3 justify-center lg:mb-12 animate-slideDown  ",children:g.jsx("div",{className:"w-[100%] text-center flex justify-center ",children:g.jsx("img",{src:"/hero5.jpg",alt:"",className:"bg-white w-[100%] "})})})]}),ZO=()=>g.jsxs("div",{className:"mt-24 bg-black text-white flex flex-col gap-10 p-10 py-20",children:[g.jsx("section",{children:g.jsx("h1",{className:"font-semibold text-lg md:text-3xl ",children:"Why Shop With Nexusmart?"})}),g.jsx("section",{children:g.jsxs("div",{className:"flex md:justify-around flex-col md:flex-row justify-center items-center gap-10",children:[g.jsxs("div",{className:"flex flex-col p-5 md:w-[30%] shadow-3xl gap-5 w-[80%] rounded-2xl shadow-orange-200 md:animate-none animate-slideIn",children:[g.jsx("img",{src:"/ship.svg",alt:"",width:34,className:"bg-coral-red rounded-2xl"}),g.jsx("h1",{className:"font-bold font-poppins",children:"Free Shipping"}),g.jsx("p",{className:"text-base md:text-lg font-normal",children:"Enjoy seamless shopping with our complimentary shipping service."})]}),g.jsxs("div",{className:"flex flex-col p-5 md:w-[30%] shadow-3xl gap-5 w-[80%] rounded-2xl shadow-orange-200 md:animate-none animate-slideIn",children:[g.jsx("img",{src:"/shield.svg",alt:"",className:"bg-coral-red rounded-2xl ",width:35}),g.jsx("h1",{className:"font-bold font-poppins",children:"Secure Payment"}),g.jsx("p",{className:"text-base md:text-lg font-normal",children:"Experience worry-free transactions with our secure payment options."})]}),g.jsxs("div",{className:"flex flex-col p-5 md:w-[30%] shadow-3xl gap-5 w-[80%] rounded-2xl shadow-orange-200 md:animate-none animate-slideIn",children:[g.jsx("img",{src:"/support.svg",alt:"",className:"bg-coral-red rounded-2xl",width:35}),g.jsx("h1",{className:"font-bold font-poppins",children:"Customer Support"}),g.jsx("p",{className:"text-base md:text-lg font-normal",children:"24/7 customer support for all your needs."})]})]})})]}),eL=()=>g.jsx("div",{className:"bg-orange-100 py-12",children:g.jsxs("div",{className:"container mx-auto px-4 flex flex-col md:flex-row items-center justify-between",children:[g.jsxs("div",{className:"mb-8 lg:mb-0 lg:w-1/2",children:[g.jsx("h1",{className:"text-4xl lg:text-5xl font-bold text-gray-900",children:"Summer Sale"}),g.jsx("p",{className:"mt-4 text-lg lg:text-xl text-gray-700",children:"Up to 30% off on all electronics and accessories"}),g.jsx("button",{className:"mt-6 bg-gray-900 text-white px-6 py-3 rounded-full hover:bg-gray-700 transition duration-300",children:g.jsx(Oe,{to:"/product",children:" Shop Now"})})]}),g.jsx("div",{className:"lg:w-1/2 flex justify-center lg:justify-end",children:g.jsx("img",{src:"prom.jpg",alt:"Electronics",className:"hover:scale-105 rounded-3xl"})})]})}),tL=({imgURL:t,name:e,price:n})=>g.jsxs("div",{className:"flex flex-1 flex-col w-full max-sm:w-full shadow-3xl p-4 rounded-xl shadow-gray-300",children:[g.jsx("img",{src:t,alt:e,className:"w-[280px] h-[280px]"}),g.jsxs("div",{className:"mt-8 flex justify-start gap-2.5",children:[g.jsx("img",{src:"/star.svg",alt:"rating",width:24,height:24}),g.jsx("p",{className:"font-montserrat text-xl leading-normal text-slate-gray",children:"(4.5)"})]}),g.jsx("h3",{className:"mt-2 text2xl leading-normal font-semibold font-palanquin",children:e}),g.jsx("p",{className:"mt-2 text-coral-red font-semibold font-montserrat text-2xl leading-normal",children:n})]}),nL=()=>g.jsxs("section",{id:"products",className:"max-container max-sm:mt-12 p-12",children:[g.jsxs("div",{className:"flex flex-col justify-start gap-5",children:[g.jsxs("h2",{className:"text-4xl font-palanquin font-bold",children:["Our",g.jsx("span",{className:"text-coral-red",children:" Popular"})," Product"]}),g.jsx("p",{className:"lg:max-w-lg mt-2 font-montserrat text-slate-gray",children:"Explore top-tier electronics blending cutting-edge tech with sleek design for an elevated lifestyle"})]}),g.jsx("div",{className:"mt-16 grid lg:grid-cols-4 md:grid-cols-3 sm:grid-cols-2 grid-cols-1 sm:gap-4 gap-14 font-poppins",children:sR.map(t=>g.jsx(tL,{...t},t.name))})]}),rL=()=>g.jsx("div",{className:"text-center p-3 bg-orange-50",children:g.jsxs("section",{className:"flex flex-col justify-center items-center pt-24 gap-10 ",children:[g.jsxs("div",{className:"text-center",children:[g.jsx("h1",{className:"text-xl font-bold md:text-3xl",children:"What Our Customers Say?"}),g.jsx("p",{className:"text-base md:text-lg",children:"Hear genuine stories from our satisfied customers about their exceptional Experience with us"})]}),g.jsxs("div",{className:"flex md:justify-around md:flex-row flex-col justify-center items-center ",children:[g.jsxs("div",{className:"flex flex-col items-center justify-center w-[80%] md:w-[30%] p-7  gap-5",children:[g.jsx("img",{src:"/man.jpeg",alt:"",width:100,className:"object-cover rounded-full"}),g.jsx("h2",{className:"font-normal text-lg",children:"The attention to detail and the quality of the product exceeded my expectations. Highly recommended!"}),g.jsxs("div",{className:"flex gap-1 items-center justify-center",children:[g.jsx("img",{src:"/star.svg",alt:"",width:30,height:24}),g.jsx("h3",{children:"(4.5)"})]}),g.jsx("h2",{className:"font-semibold",children:"Morich Brown"})]}),g.jsxs("div",{className:"flex flex-col items-center justify-center w-[80%] md:w-[30%] p-7  gap-5",children:[g.jsx("img",{src:"/woman.svg",alt:"",width:100,className:"object-cover rounded-full"}),g.jsx("h2",{className:"font-normal md:text-lg",children:"The product not only met but exceeded my expectations. I'll definitely be a returning customer!"}),g.jsxs("div",{className:"flex gap-1 items-center justify-center",children:[g.jsx("img",{src:"/star.svg",alt:"",width:30,height:24}),g.jsx("h3",{children:"(4.5)"})]}),g.jsx("h2",{className:"font-semibold",children:"Morich Brown"})]})]})]})}),iL=()=>g.jsx("div",{className:"mt-24 md:px-12 px-4",children:g.jsxs("section",{className:"flex justify-around flex-col md:flex-row items-center gap-7",children:[g.jsx("div",{className:"w-[80%] md:w-[40%]",children:g.jsxs("h1",{className:"text-xl  md:text-4xl font-bold",children:["Sign up for ",g.jsx("span",{className:"text-coral-red",children:"Updates"})," & Newsletter"]})}),g.jsx("div",{className:"w-[90%] md:w-[40%] ",children:g.jsx("form",{action:"",children:g.jsxs("div",{className:"w-[100%] border rounded-full p-2 flex  gap-10 px-4",children:[g.jsx("input",{type:"email",placeholder:"S@Nexusmart.com",className:"outline-none md:w-[80%] w-[60%] text-sm md:text-base"}),g.jsx("button",{className:"bg-coral-red text-white w-[50%] rounded-3xl py-3 ",children:"Sign Up"})]})})})]})}),Jm=()=>g.jsx("div",{className:"bg-black text-white mt-24",children:g.jsxs("section",{className:"p-8 flex flex-col gap-10",children:[g.jsxs("div",{children:[g.jsx("img",{src:"/nexus.jpg",alt:"",width:120}),g.jsx("h1",{children:"Discover top-tier electronics - blending cutting-edge tech with sleek design for an elevated lifestyle"})]}),g.jsxs("div",{className:"flex md:justify-around items-start justify-start flex-col md:flex-row gap-10",children:[" ",g.jsxs("div",{className:"w-[30%] ",children:[" ",g.jsxs("div",{className:"flex flex-col gap-5",children:[g.jsx("h1",{className:"text-xl font-bold",children:"Products"}),g.jsxs("div",{className:"flex flex-col gap-2",children:[g.jsx(Oe,{to:"/product",className:"text-white hover:text-slate-100",children:"Laptop"}),g.jsx(Oe,{to:"/product",className:"text-white hover:text-slate-100",children:"Phones"}),g.jsx(Oe,{to:"/product",className:"text-white hover:text-slate-100",children:"Cameras"}),g.jsx(Oe,{to:"/product",className:"text-white hover:text-slate-100",children:"Television"}),g.jsx(Oe,{to:"/product",className:"text-white hover:text-slate-100",children:"Play Station"})]})]}),g.jsx("div",{})]}),g.jsxs("div",{className:"flex flex-col gap-5",children:[g.jsx("h1",{className:"text-xl font-bold",children:"Help"}),g.jsxs("div",{className:"flex flex-col gap-3",children:[g.jsx(Oe,{to:"/aboutus",className:"text-white hover:text-slate-300",children:"About Us"}),g.jsx(Oe,{to:"/faqs",className:"text-white hover:text-slate-300",children:"Faq"}),g.jsx(Oe,{to:"/payment",className:"text-white hover:text-slate-300",children:"Payment"})]})]}),g.jsxs("div",{className:"flex flex-col gap-5",children:[g.jsx("h1",{className:"font-bold ",children:"Get in Touch"}),g.jsxs("div",{className:"flex flex-col gap-5",children:[g.jsx("a",{href:"mailto:customer@nexusmart.com",children:"customer@nexusmart.com"}),g.jsx("a",{href:"tel:+1 2342342345",children:"+9345664456"})]})]})]}),g.jsxs("div",{className:"flex md:justify-between justify-center items-center flex-col gap-2 md:flex-row ",children:[g.jsxs("div",{children:["© ",new Date().getFullYear()," CopyRight . All Right reserved"]}),g.jsx("div",{children:"Terms & Condition"})]})]})});function sL(){return j.useState(0),g.jsxs(g.Fragment,{children:[g.jsx("section",{children:g.jsx(JO,{})}),g.jsx("section",{children:g.jsx(ZO,{})}),g.jsx("section",{children:g.jsx(nL,{})}),g.jsx("section",{children:g.jsx(eL,{})}),g.jsx("section",{children:g.jsx(rR,{})}),g.jsx("section",{children:g.jsx(rL,{})}),g.jsx("section",{children:g.jsx(iL,{})}),g.jsx("section",{children:g.jsx(Jm,{})})]})}const oL=()=>{const[t,e]=j.useState(""),[n,r]=j.useState(""),[i,s]=j.useState(""),[o,l]=j.useState(""),[u,c]=j.useState(""),[h,f]=j.useState(""),[m,S]=j.useState("https://www.logomaker.com/api/main/images/1j+ojlxEOMkX9Wyqfhe43D6kh...GIqhJPmRrJwXs1M3EMoAJtlyIthvNr...PgyPExevg9C3ktKMcs8");_E();const x=async R=>{R.preventDefault();try{await TD(kr,t,i,o,m,n,u,h);const A=kr.currentUser;console.log(A),A&&(await Ib(Pl(bl,"Users",A.uid),{email:A.email,userName:n,firstName:u,lastName:h,phoneNumber:o,imgURL:m}),window.location.href="/login"),console.log(`${n} registered successfully`),Se.success(`${n} Registered Successfully`,{position:"top-center"})}catch(A){console.log(A.message),Se.error(A.message,{position:"bottom-center"})}};return g.jsxs("div",{className:"h-[100%] flex  justify-center items-center md:py-12 p-4",children:[g.jsx("section",{className:"bg-black w-[40%] h-[600px] items-center justify-center my-auto rounded-l-xl shadow-xl hidden md:flex animate-slideIn",children:g.jsx("div",{className:"text-center justify-center items-center  ",children:g.jsx("img",{src:"/altlogo.jpg",alt:"",className:"mx-auto flex p-48 "})})}),g.jsx("section",{className:"flex flex-col gap-6 lg:p-4 items-center border-2 md:h-[600px] h-[100%] p-12 justify-center md:rounded-r-xl rounded-xl shadow-3xl md:w-[50%] mini:[w-80%] padAir:[w-80%] w-[100%] animate-slideDown",children:g.jsxs("form",{onSubmit:x,className:"flex flex-col items-center gap-10 w-[90%] justify-center mini:w-[100%] ",children:[g.jsx("div",{className:"mb-4",children:g.jsx("h1",{className:"w-[80%] mx-auto text-center font-bold font-poppins text-2xl ",children:"Register"})}),g.jsxs("div",{className:"flex flex-col padAir:flex-row gap-8 w-[100%] items-center justify-center mini:w-[full]",children:[g.jsxs("div",{className:"flex gap-2 items-center border-2 border-zinc-300 rounded-xl p-3",children:[g.jsx("img",{src:"/user.png",alt:"",width:30}),g.jsx("input",{type:"text",className:"outline-none w-[100%] ",required:!0,value:n,placeholder:"Enter Username",onChange:R=>r(R.target.value)})]}),g.jsxs("div",{className:"flex gap-2 items-center border-2 border-zinc-300 rounded-xl p-3",children:[g.jsx("img",{src:"/email.svg",alt:"",width:30}),g.jsx("input",{type:"email",className:"outline-none w-[100%]",required:!0,value:t,placeholder:"n@example.com",onChange:R=>e(R.target.value)})]})]}),g.jsxs("div",{className:"flex flex-col padAir:flex-row gap-8 w-[100%]  items-center justify-center",children:[g.jsxs("div",{className:"flex gap-2 items-center border-2 border-zinc-300 rounded-xl p-3",children:[g.jsx("img",{src:"/name.svg",alt:"",width:30}),g.jsx("input",{type:"text",className:"outline-none w-[100%]",required:!0,value:u,placeholder:"John",onChange:R=>c(R.target.value)})]}),g.jsxs("div",{className:"flex gap-2 items-center border-2 border-zinc-300 rounded-xl p-3",children:[g.jsx("img",{src:"/name.svg",alt:"",width:30}),g.jsx("input",{type:"text",className:"outline-none w-[100%]",required:!0,value:h,placeholder:"Doe",onChange:R=>f(R.target.value)})]})]}),g.jsxs("div",{className:"flex flex-col padAir:flex-row gap-8 w-[100%]  items-center justify-center",children:[g.jsxs("div",{className:"flex gap-2 items-center border-2 border-zinc-300 rounded-xl p-3",children:[g.jsx("img",{src:"/phone.svg",alt:"",width:30}),g.jsx("input",{type:"text",className:"outline-none w-[100%]",required:!0,value:o,placeholder:"+1(155)-676-0964",onChange:R=>l(R.target.value)})]}),g.jsxs("div",{className:"flex gap-2 items-center border-2 border-zinc-300 rounded-xl p-3 ",children:[g.jsx("img",{src:"/password.svg",alt:"",width:30}),g.jsx("input",{type:"password",className:"outline-none w-[100%]",required:!0,value:i,placeholder:"Enter Password",onChange:R=>s(R.target.value)})]})]}),g.jsx("div",{className:"w-[100%] spro:w-[80%] mt-12",children:g.jsx("button",{className:"bg-orange-300 w-[100%] p-3 rounded-xl font-semibold font-montserrat",type:"submit",children:"Register"})}),g.jsx("div",{className:"text-sm md:text-base text-right ",children:g.jsxs("h2",{children:["Already Have an Account? ",g.jsx(Oe,{to:"/login",className:"text-orange-600  ",children:" Login"})]})})]})}),g.jsx(RO,{})]})},aL=()=>g.jsxs("div",{children:[g.jsx("section",{children:g.jsx(XO,{})}),g.jsx("section",{className:"pt-36",children:g.jsx(vP,{})})]}),lL=()=>{const[t,e]=j.useState(""),[n,r]=j.useState(""),i=async s=>{s.preventDefault();try{await ID(kr,t,n),console.log("User logged in Successfully"),window.location.href="/",Se.success("Success",{position:"top-center"})}catch(o){console.log(o.message),Se.error(o.message,{position:"bottom-center"})}};return g.jsxs("div",{className:"flex justify-center items-center mt-12",children:[g.jsx("section",{className:"bg-orange-200 h-[500px] w-[40%] rounded-l-2xl hidden md:flex animate-slideIn items-center justify-center",children:g.jsxs("div",{children:[g.jsx("h1",{className:"text-black font-bold text-lg md:text-2xl",children:"WELCOME BACK"}),g.jsx("img",{src:"/loginsider.jpg",alt:""})]})}),g.jsx("section",{className:"flex flex-col justify-center shadow-3xl h-[500px] md:w-[40%] w-[80%] rounded-r-xl animate-slideDown",children:g.jsxs("form",{onSubmit:i,className:"flex flex-col gap-10 items-center justify-center py-auto p-5",children:[g.jsx("div",{children:g.jsx("h2",{className:"text-xl md:text-2xl font-bold font-poppins",children:"Login"})}),g.jsxs("div",{className:"flex items-center gap-3 border p-2 rounded-xl w-[80%] font-medium",children:[g.jsx("img",{src:"/email.svg",alt:"",width:25}),g.jsx("input",{type:"email",placeholder:"n@example.com",className:"outline-none",required:!0,value:t,onChange:s=>e(s.target.value)})]}),g.jsxs("div",{className:"flex items-center gap-3 border p-2 rounded-xl w-[80%] font-medium",children:[g.jsx("img",{src:"/password.svg",alt:"",width:25}),g.jsx("input",{type:"password",placeholder:"Enter Password",className:"outline-none",required:!0,value:n,onChange:s=>r(s.target.value)})]}),g.jsx("div",{className:"w-[80%]",children:g.jsx("button",{type:"submit",className:"bg-black text-white font-bold w-[100%] p-2 rounded-xl",children:"Login"})}),g.jsx("div",{children:g.jsxs("h1",{className:"text-sm md:text-base",children:["Dont Have an account? ",g.jsx(Oe,{to:"/register",className:"text-orange-500",children:"Register"})]})})]})})]})},N_=()=>{const[t,e]=j.useState(""),n=async()=>{kr.onAuthStateChanged(async i=>{console.log(i);const s=Pl(bl,"Users",i.uid),o=await yd(s);o.exists()?(e(o.data()),console.log(o.data())):console.log("user is not login")})};j.useEffect(()=>{n()},[]);const r=async()=>{try{await kr.signOut(),console.log("User Logged Out successfully!"),window.location.href="/login",Se.success(`${t.firstName} logged out successfully`,{position:"top-center"})}catch(i){console.log("Error logging out:",i.message)}};return g.jsx("div",{className:"flex flex-col items-center justify-center h-[500px] mt-12 ",children:t?g.jsxs("div",{className:"shadow-3xl md:h-[550px] flex flex-col items-center justify-center w-[80%] lg:w-[40%] lg:gap-10 gap-5 rounded-lg animate-slideDown   p-20 h-[100%]",children:[g.jsx("div",{children:g.jsx("img",{src:t.imgURL,alt:"",className:"rounded-full object-cover pt-8"})}),g.jsxs("h1",{className:"font-semibold text-lg lg:text-xl mb-4",children:["Welcome ",t.userName]}),g.jsxs("div",{className:"flex flex-col gap-5 font-medium text-base lg:text-lg",children:[g.jsxs("p",{children:["Email: ",t.email]}),g.jsxs("p",{children:["First Name: ",t.firstName]}),g.jsxs("p",{children:["Last Name : ",t.lastName]}),g.jsxs("p",{children:["Phone Number: ",t.phoneNumber]})]}),g.jsx("button",{className:"p-4 bg-purple-600 font-bold rounded-xl text-white w-[40%]",onClick:r,children:"Logout"})]}):g.jsx("div",{className:"text-lg lg:text-xl ",children:g.jsxs("p",{children:["Sign in to Continue ",g.jsx(Oe,{to:"/login ",className:"font-medium text-coral-red",children:"Login"})]})})})};function wt(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var uL=typeof Symbol=="function"&&Symbol.observable||"@@observable",b_=uL,Ph=()=>Math.random().toString(36).substring(7).split("").join("."),cL={INIT:`@@redux/INIT${Ph()}`,REPLACE:`@@redux/REPLACE${Ph()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Ph()}`},Oc=cL;function Zm(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function Q1(t,e,n){if(typeof t!="function")throw new Error(wt(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(wt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(wt(1));return n(Q1)(t,e)}let r=t,i=e,s=new Map,o=s,l=0,u=!1;function c(){o===s&&(o=new Map,s.forEach((A,I)=>{o.set(I,A)}))}function h(){if(u)throw new Error(wt(3));return i}function f(A){if(typeof A!="function")throw new Error(wt(4));if(u)throw new Error(wt(5));let I=!0;c();const v=l++;return o.set(v,A),function(){if(I){if(u)throw new Error(wt(6));I=!1,c(),o.delete(v),s=null}}}function m(A){if(!Zm(A))throw new Error(wt(7));if(typeof A.type>"u")throw new Error(wt(8));if(typeof A.type!="string")throw new Error(wt(17));if(u)throw new Error(wt(9));try{u=!0,i=r(i,A)}finally{u=!1}return(s=o).forEach(v=>{v()}),A}function S(A){if(typeof A!="function")throw new Error(wt(10));r=A,m({type:Oc.REPLACE})}function x(){const A=f;return{subscribe(I){if(typeof I!="object"||I===null)throw new Error(wt(11));function v(){const b=I;b.next&&b.next(h())}return v(),{unsubscribe:A(v)}},[b_](){return this}}}return m({type:Oc.INIT}),{dispatch:m,subscribe:f,getState:h,replaceReducer:S,[b_]:x}}function dL(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Oc.INIT})>"u")throw new Error(wt(12));if(typeof n(void 0,{type:Oc.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(wt(13))})}function hL(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const o=e[s];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let i;try{dL(n)}catch(s){i=s}return function(o={},l){if(i)throw i;let u=!1;const c={};for(let h=0;h<r.length;h++){const f=r[h],m=n[f],S=o[f],x=m(S,l);if(typeof x>"u")throw l&&l.type,new Error(wt(14));c[f]=x,u=u||x!==S}return u=u||r.length!==Object.keys(o).length,u?c:o}}function Lc(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function fL(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(wt(15))};const o={getState:i.getState,dispatch:(u,...c)=>s(u,...c)},l=t.map(u=>u(o));return s=Lc(...l)(i.dispatch),{...i,dispatch:s}}}function pL(t){return Zm(t)&&"type"in t&&typeof t.type=="string"}var X1=Symbol.for("immer-nothing"),D_=Symbol.for("immer-draftable"),cn=Symbol.for("immer-state");function On(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var vo=Object.getPrototypeOf;function Ei(t){return!!t&&!!t[cn]}function Nr(t){var e;return t?Y1(t)||Array.isArray(t)||!!t[D_]||!!((e=t.constructor)!=null&&e[D_])||Rd(t)||Pd(t):!1}var mL=Object.prototype.constructor.toString();function Y1(t){if(!t||typeof t!="object")return!1;const e=vo(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===mL}function Mc(t,e){xd(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function xd(t){const e=t[cn];return e?e.type_:Array.isArray(t)?1:Rd(t)?2:Pd(t)?3:0}function Zf(t,e){return xd(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function J1(t,e,n){const r=xd(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function gL(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Rd(t){return t instanceof Map}function Pd(t){return t instanceof Set}function ji(t){return t.copy_||t.base_}function ep(t,e){if(Rd(t))return new Map(t);if(Pd(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=Y1(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[cn];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const o=i[s],l=r[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[o]})}return Object.create(vo(t),r)}else{const r=vo(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function eg(t,e=!1){return Cd(t)||Ei(t)||!Nr(t)||(xd(t)>1&&(t.set=t.add=t.clear=t.delete=yL),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>eg(r,!0))),t}function yL(){On(2)}function Cd(t){return Object.isFrozen(t)}var vL={};function us(t){const e=vL[t];return e||On(0,t),e}var dl;function Z1(){return dl}function _L(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function O_(t,e){e&&(us("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function tp(t){np(t),t.drafts_.forEach(wL),t.drafts_=null}function np(t){t===dl&&(dl=t.parent_)}function L_(t){return dl=_L(dl,t)}function wL(t){const e=t[cn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function M_(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[cn].modified_&&(tp(e),On(4)),Nr(t)&&(t=Vc(e,t),e.parent_||jc(e,t)),e.patches_&&us("Patches").generateReplacementPatches_(n[cn].base_,t,e.patches_,e.inversePatches_)):t=Vc(e,n,[]),tp(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==X1?t:void 0}function Vc(t,e,n){if(Cd(e))return e;const r=e[cn];if(!r)return Mc(e,(i,s)=>V_(t,r,e,i,s,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return jc(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,o=!1;r.type_===3&&(s=new Set(i),i.clear(),o=!0),Mc(s,(l,u)=>V_(t,r,i,l,u,n,o)),jc(t,i,!1),n&&t.patches_&&us("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function V_(t,e,n,r,i,s,o){if(Ei(i)){const l=s&&e&&e.type_!==3&&!Zf(e.assigned_,r)?s.concat(r):void 0,u=Vc(t,i,l);if(J1(n,r,u),Ei(u))t.canAutoFreeze_=!1;else return}else o&&n.add(i);if(Nr(i)&&!Cd(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Vc(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&jc(t,i)}}function jc(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&eg(e,n)}function EL(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:Z1(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=tg;n&&(i=[r],s=hl);const{revoke:o,proxy:l}=Proxy.revocable(i,s);return r.draft_=l,r.revoke_=o,l}var tg={get(t,e){if(e===cn)return t;const n=ji(t);if(!Zf(n,e))return TL(t,n,e);const r=n[e];return t.finalized_||!Nr(r)?r:r===Ch(t.base_,e)?(Ah(t),t.copy_[e]=ip(r,t)):r},has(t,e){return e in ji(t)},ownKeys(t){return Reflect.ownKeys(ji(t))},set(t,e,n){const r=eI(ji(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=Ch(ji(t),e),s=i==null?void 0:i[cn];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(gL(n,i)&&(n!==void 0||Zf(t.base_,e)))return!0;Ah(t),rp(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Ch(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Ah(t),rp(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=ji(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){On(11)},getPrototypeOf(t){return vo(t.base_)},setPrototypeOf(){On(12)}},hl={};Mc(tg,(t,e)=>{hl[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});hl.deleteProperty=function(t,e){return hl.set.call(this,t,e,void 0)};hl.set=function(t,e,n){return tg.set.call(this,t[0],e,n,t[0])};function Ch(t,e){const n=t[cn];return(n?ji(n):t)[e]}function TL(t,e,n){var i;const r=eI(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function eI(t,e){if(!(e in t))return;let n=vo(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=vo(n)}}function rp(t){t.modified_||(t.modified_=!0,t.parent_&&rp(t.parent_))}function Ah(t){t.copy_||(t.copy_=ep(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var IL=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const o=this;return function(u=s,...c){return o.produce(u,h=>n.call(this,h,...c))}}typeof n!="function"&&On(6),r!==void 0&&typeof r!="function"&&On(7);let i;if(Nr(e)){const s=L_(this),o=ip(e,void 0);let l=!0;try{i=n(o),l=!1}finally{l?tp(s):np(s)}return O_(s,r),M_(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===X1&&(i=void 0),this.autoFreeze_&&eg(i,!0),r){const s=[],o=[];us("Patches").generateReplacementPatches_(e,i,s,o),r(s,o)}return i}else On(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...l)=>this.produceWithPatches(o,u=>e(u,...l));let r,i;return[this.produce(e,n,(o,l)=>{r=o,i=l}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Nr(t)||On(8),Ei(t)&&(t=tI(t));const e=L_(this),n=ip(t,void 0);return n[cn].isManual_=!0,np(e),n}finishDraft(t,e){const n=t&&t[cn];(!n||!n.isManual_)&&On(9);const{scope_:r}=n;return O_(r,e),M_(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=us("Patches").applyPatches_;return Ei(t)?r(t,e):this.produce(t,i=>r(i,e))}};function ip(t,e){const n=Rd(t)?us("MapSet").proxyMap_(t,e):Pd(t)?us("MapSet").proxySet_(t,e):EL(t,e);return(e?e.scope_:Z1()).drafts_.push(n),n}function tI(t){return Ei(t)||On(10,t),nI(t)}function nI(t){if(!Nr(t)||Cd(t))return t;const e=t[cn];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=ep(t,e.scope_.immer_.useStrictShallowCopy_)}else n=ep(t,!0);return Mc(n,(r,i)=>{J1(n,r,nI(i))}),e&&(e.finalized_=!1),n}var dn=new IL,rI=dn.produce;dn.produceWithPatches.bind(dn);dn.setAutoFreeze.bind(dn);dn.setUseStrictShallowCopy.bind(dn);dn.applyPatches.bind(dn);dn.createDraft.bind(dn);dn.finishDraft.bind(dn);function SL(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function xL(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function RL(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var j_=t=>Array.isArray(t)?t:[t];function PL(t){const e=Array.isArray(t[0])?t[0]:t;return RL(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function CL(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var AL=class{constructor(t){this.value=t}deref(){return this.value}},kL=typeof WeakRef<"u"?WeakRef:AL,NL=0,F_=1;function _u(){return{s:NL,v:void 0,o:null,p:null}}function ng(t,e={}){let n=_u();const{resultEqualityCheck:r}=e;let i,s=0;function o(){var f;let l=n;const{length:u}=arguments;for(let m=0,S=u;m<S;m++){const x=arguments[m];if(typeof x=="function"||typeof x=="object"&&x!==null){let R=l.o;R===null&&(l.o=R=new WeakMap);const A=R.get(x);A===void 0?(l=_u(),R.set(x,l)):l=A}else{let R=l.p;R===null&&(l.p=R=new Map);const A=R.get(x);A===void 0?(l=_u(),R.set(x,l)):l=A}}const c=l;let h;if(l.s===F_)h=l.v;else if(h=t.apply(null,arguments),s++,r){const m=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;m!=null&&r(m,h)&&(h=m,s!==0&&s--),i=typeof h=="object"&&h!==null||typeof h=="function"?new kL(h):h}return c.s=F_,c.v=h,h}return o.clearCache=()=>{n=_u(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function iI(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,o=0,l,u={},c=i.pop();typeof c=="object"&&(u=c,c=i.pop()),SL(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const h={...n,...u},{memoize:f,memoizeOptions:m=[],argsMemoize:S=ng,argsMemoizeOptions:x=[],devModeChecks:R={}}=h,A=j_(m),I=j_(x),v=PL(i),w=f(function(){return s++,c.apply(null,arguments)},...A),b=S(function(){o++;const N=CL(v,arguments);return l=w.apply(null,N),l},...I);return Object.assign(b,{resultFunc:c,memoizedResultFunc:w,dependencies:v,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:f,argsMemoize:S})};return Object.assign(r,{withTypes:()=>r}),r}var bL=iI(ng),DL=Object.assign((t,e=bL)=>{xL(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((o,l,u)=>(o[n[u]]=l,o),{}))},{withTypes:()=>DL});function sI(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var OL=sI(),LL=sI,ML=(...t)=>{const e=iI(...t),n=Object.assign((...r)=>{const i=e(...r),s=(o,...l)=>i(Ei(o)?tI(o):o,...l);return Object.assign(s,i),s},{withTypes:()=>n});return n};ML(ng);var VL=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Lc:Lc.apply(null,arguments)};function _o(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Jt(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>pL(r)&&r.type===t,n}var oI=class pa extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,pa.prototype)}static get[Symbol.species](){return pa}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new pa(...e[0].concat(this)):new pa(...e.concat(this))}};function U_(t){return Nr(t)?rI(t,()=>{}):t}function z_(t,e,n){if(t.has(e)){let i=t.get(e);return n.update&&(i=n.update(i,e,t),t.set(e,i)),i}if(!n.insert)throw new Error(Jt(10));const r=n.insert(e,t);return t.set(e,r),r}function jL(t){return typeof t=="boolean"}var FL=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let o=new oI;return n&&(jL(n)?o.push(OL):o.push(LL(n.extraArgument))),o},UL="RTK_autoBatch",aI=t=>e=>{setTimeout(e,t)},zL=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:aI(10),BL=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,o=!1;const l=new Set,u=t.type==="tick"?queueMicrotask:t.type==="raf"?zL:t.type==="callback"?t.queueNotification:aI(t.timeout),c=()=>{o=!1,s&&(s=!1,l.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const f=()=>i&&h(),m=r.subscribe(f);return l.add(h),()=>{m(),l.delete(h)}},dispatch(h){var f;try{return i=!((f=h==null?void 0:h.meta)!=null&&f[UL]),s=!i,s&&(o||(o=!0,u(c))),r.dispatch(h)}finally{i=!0}}})},$L=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new oI(t);return r&&i.push(BL(typeof r=="object"?r:void 0)),i},HL=!0;function WL(t){const e=FL(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=t||{};let l;if(typeof n=="function")l=n;else if(Zm(n))l=hL(n);else throw new Error(Jt(1));let u;typeof r=="function"?u=r(e):u=e();let c=Lc;i&&(c=VL({trace:!HL,...typeof i=="object"&&i}));const h=fL(...u),f=$L(h);let m=typeof o=="function"?o(f):f();const S=c(...m);return Q1(l,s,S)}function lI(t){const e={},n=[];let r;const i={addCase(s,o){const l=typeof s=="string"?s:s.type;if(!l)throw new Error(Jt(28));if(l in e)throw new Error(Jt(29));return e[l]=o,i},addMatcher(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function qL(t){return typeof t=="function"}function KL(t,e){let[n,r,i]=lI(e),s;if(qL(t))s=()=>U_(t());else{const l=U_(t);s=()=>l}function o(l=s(),u){let c=[n[u.type],...r.filter(({matcher:h})=>h(u)).map(({reducer:h})=>h)];return c.filter(h=>!!h).length===0&&(c=[i]),c.reduce((h,f)=>{if(f)if(Ei(h)){const S=f(h,u);return S===void 0?h:S}else{if(Nr(h))return rI(h,m=>f(m,u));{const m=f(h,u);if(m===void 0){if(h===null)return h;throw new Error(Jt(9))}return m}}return h},l)}return o.getInitialState=s,o}var GL="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",QL=(t=21)=>{let e="",n=t;for(;n--;)e+=GL[Math.random()*64|0];return e},XL=Symbol.for("rtk-slice-createasyncthunk");function YL(t,e){return`${t}/${e}`}function JL({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[XL];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(Jt(11));typeof process<"u";const l=(typeof i.reducers=="function"?i.reducers(tM()):i.reducers)||{},u=Object.keys(l),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(w,b){const U=typeof w=="string"?w:w.type;if(!U)throw new Error(Jt(12));if(U in c.sliceCaseReducersByType)throw new Error(Jt(13));return c.sliceCaseReducersByType[U]=b,h},addMatcher(w,b){return c.sliceMatchers.push({matcher:w,reducer:b}),h},exposeAction(w,b){return c.actionCreators[w]=b,h},exposeCaseReducer(w,b){return c.sliceCaseReducersByName[w]=b,h}};u.forEach(w=>{const b=l[w],U={reducerName:w,type:YL(s,w),createNotation:typeof i.reducers=="function"};rM(b)?sM(U,b,h,e):nM(U,b,h)});function f(){const[w={},b=[],U=void 0]=typeof i.extraReducers=="function"?lI(i.extraReducers):[i.extraReducers],N={...w,...c.sliceCaseReducersByType};return KL(i.initialState,T=>{for(let y in N)T.addCase(y,N[y]);for(let y of c.sliceMatchers)T.addMatcher(y.matcher,y.reducer);for(let y of b)T.addMatcher(y.matcher,y.reducer);U&&T.addDefaultCase(U)})}const m=w=>w,S=new Map;let x;function R(w,b){return x||(x=f()),x(w,b)}function A(){return x||(x=f()),x.getInitialState()}function I(w,b=!1){function U(T){let y=T[w];return typeof y>"u"&&b&&(y=A()),y}function N(T=m){const y=z_(S,b,{insert:()=>new WeakMap});return z_(y,T,{insert:()=>{const E={};for(const[P,k]of Object.entries(i.selectors??{}))E[P]=ZL(k,T,A,b);return E}})}return{reducerPath:w,getSelectors:N,get selectors(){return N(U)},selectSlice:U}}const v={name:s,reducer:R,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:A,...I(o),injectInto(w,{reducerPath:b,...U}={}){const N=b??o;return w.inject({reducerPath:N,reducer:R},U),{...v,...I(N,!0)}}};return v}}function ZL(t,e,n,r){function i(s,...o){let l=e(s);return typeof l>"u"&&r&&(l=n()),t(l,...o)}return i.unwrapped=t,i}var eM=JL();function tM(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function nM({type:t,reducerName:e,createNotation:n},r,i){let s,o;if("reducer"in r){if(n&&!iM(r))throw new Error(Jt(17));s=r.reducer,o=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,o?_o(t,o):_o(t))}function rM(t){return t._reducerDefinitionType==="asyncThunk"}function iM(t){return t._reducerDefinitionType==="reducerWithPrepare"}function sM({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Jt(18));const{payloadCreator:s,fulfilled:o,pending:l,rejected:u,settled:c,options:h}=n,f=i(t,s,h);r.exposeAction(e,f),o&&r.addCase(f.fulfilled,o),l&&r.addCase(f.pending,l),u&&r.addCase(f.rejected,u),c&&r.addMatcher(f.settled,c),r.exposeCaseReducer(e,{fulfilled:o||wu,pending:l||wu,rejected:u||wu,settled:c||wu})}function wu(){}var oM=(t,e)=>{if(typeof t!="function")throw new Error(Jt(32))},rg="listenerMiddleware",aM=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=_o(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Jt(21));return oM(s),{predicate:i,type:e,effect:s}},lM=Object.assign(t=>{const{type:e,predicate:n,effect:r}=aM(t);return{id:QL(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Jt(22))}}},{withTypes:()=>lM}),uM=Object.assign(_o(`${rg}/add`),{withTypes:()=>uM});_o(`${rg}/removeAll`);var cM=Object.assign(_o(`${rg}/remove`),{withTypes:()=>cM});function Jt(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const dM={items:localStorage.getItem("carts")?JSON.parse(localStorage.getItem("carts")):[]},uI=eM({name:"cart",initialState:dM,reducers:{addToCart(t,e){const{productId:n,quantity:r}=e.payload,i=t.items.findIndex(s=>s.productId===n);i>=0?t.items[i].quantity+=r:t.items.push({productId:n,quantity:r}),localStorage.setItem("carts",JSON.stringify(t.items))},changeQuantity(t,e){const{productId:n,quantity:r}=e.payload,i=t.items.findIndex(s=>s.productId===n);r>0?t.items[i].quantity=r:t.items=t.items.filter(s=>s.productId!==n),localStorage.setItem("carts",JSON.stringify(t.items))}}}),{addToCart:cI,changeQuantity:B_}=uI.actions,hM=uI.reducer,fM=({product:t})=>{lm();const e=Sd(),n=()=>{e(cI({productId:t.id,quantity:1}))},r=Ym(i=>i.cart.items);return console.log(r),g.jsxs("div",{className:"border p-4 rounded-2xl bg-white-400 flex flex-col items-center justify-center gap-5  text-center mt-5 shadow-3xl",children:[g.jsx(Oe,{to:t.slug,children:g.jsx("img",{src:t.image,alt:t.name,className:"w-[80%] h-64 object-cover"})}),g.jsx("h2",{className:"text-lg font-semibold",children:t.name}),g.jsxs("p",{className:"text-zinc-900 font-medium",children:["$",t.price]}),g.jsx("button",{className:"bg-orange-600 p-3 rounded-lg font-medium text-white",onClick:n,children:"Add to Cart"})]})},pM=({products:t})=>g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:t.map(e=>g.jsx(fM,{product:e},e.id))}),mM=()=>{const[t,e]=j.useState(""),[n,r]=j.useState(""),i=td.filter(s=>(s.name.toLowerCase().includes(t.toLowerCase())||t==="")&&(s.category===n||n===""));return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"container mx-auto p-4",children:[g.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Products"}),g.jsx("input",{type:"text",placeholder:"Search products...",value:t,onChange:s=>e(s.target.value),className:"border p-2 mb-4 w-full rounded-2xl"}),g.jsxs("div",{className:"flex mb-4",children:[g.jsx("button",{onClick:()=>r(""),className:`border p-2 mr-2 ${n===""?"bg-black text-white":""}`,children:"All"}),g.jsx("button",{onClick:()=>r("electronics"),className:`border p-2 mr-2  ${n==="electronics"?"bg-black text-white":""}`,children:"Electronics"}),g.jsx("button",{onClick:()=>r("gadgets"),className:`border p-2 mr-2 ${n==="gadgets"?"bg-black text-white":""}`,children:"Gadgets"}),g.jsx("button",{onClick:()=>r("accessories"),className:`border p-2 ${n==="accessories"?"bg-black text-white":""}`,children:"Accessories"})]}),g.jsx(pM,{products:i})]}),g.jsx("section",{children:g.jsx(Jm,{})})]})},gM=()=>{const{slug:t}=lm(),[e,n]=j.useState([]),[r,i]=j.useState(1),s=Sd(),o=()=>{i(r+1)},l=()=>{i(r-1===0?r=1:r-1)},u=()=>{s(cI({productId:e.id,quantity:r}))};return j.useEffect(()=>{const c=td.filter(h=>h.slug===t);c.length>0?n(c[0]):window.location.href="/product"},[t]),g.jsxs("div",{className:"text-center bg-orange-50 flex flex-col gap-10 p-10 ",children:[g.jsx("section",{children:g.jsx("h1",{className:"text-2xl font-bold",children:"Product Details"})}),g.jsxs("section",{className:"flex items-center justify-center md:flex-row flex-col gap-20 ",children:[g.jsx("div",{className:"w-[50%]",children:g.jsx("img",{src:e.image,alt:"",className:"w-[50%] mx-auto"})}),g.jsxs("main",{className:"flex-col flex gap-10",children:[g.jsxs("div",{children:[g.jsx("h1",{children:e.name}),g.jsxs("p",{className:"font-bold text-lg font-merriweather",children:["$",e.price*r]})]}),g.jsxs("div",{className:"flex flex-col md:flex-row gap-2 mx-auto",children:[g.jsxs("div",{className:"flex flex-row gap-2 items-center justify-center",children:[g.jsx("button",{onClick:l,className:"bg-white text-black p-2 rounded-lg",children:"-"}),g.jsx("span",{children:r}),g.jsx("button",{onClick:o,className:"bg-white text-black p-2 rounded-lg",children:"+"})]}),g.jsx("div",{children:g.jsx("button",{className:"bg-coral-red p-3 rounded-3xl text-orange-50",onClick:u,children:"Add to Cart"})})]}),g.jsx("div",{children:g.jsx("p",{className:"w-[80%] mx-auto font-palanquin font-medium md:w-[50%] ",children:e.description})})]})]})]})};var Na=function(){return Na=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Na.apply(this,arguments)};function yM(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function sp(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(h){try{c(r.next(h))}catch(f){o(f)}}function u(h){try{c(r.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):i(h.value).then(l,u)}c((r=r.apply(t,[])).next())})}function op(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(c){return function(h){return u([c,h])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(n=0)),n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(h){c=[6,h],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var vM="https://checkout.flutterwave.com/v3.js",$_=3,H_=1,kh=1;function W_(t){return typeof t=="number"}function dI(t){var e=t.maxAttempt,n=e===void 0?$_:e,r=t.interval,i=r===void 0?H_:r;return sp(this,void 0,void 0,function(){return op(this,function(s){return n=W_(n)?Math.max(1,n):$_,i=W_(i)?Math.max(1,i):H_,[2,new Promise(function(o,l){var u=document.createElement("script");u.src=vM,u.async=!0;var c=function(){u.removeEventListener("load",c),u.removeEventListener("error",h),o()},h=function(){document.body.removeChild(u),console.log("Flutterwave script download failed. Attempt: "+kh),kh<n?(++kh,setTimeout(function(){return dI({maxAttempt:n,interval:i}).then(o).catch(l)},i*1e3)):l(new Error("Failed to load payment modal. Check your internet connection and retry later."))};u.addEventListener("load",c),u.addEventListener("error",h),document.body.appendChild(u)})]})})}var Nh=!1;function _M(t){return function(n){var r,i,s=n.callback,o=n.onClose;return sp(this,void 0,void 0,function(){var l,u=this;return op(this,function(c){switch(c.label){case 0:return Nh?[2]:window.FlutterwaveCheckout?[3,2]:(Nh=!0,[4,dI(Na({},t.retry))]);case 1:c.sent(),Nh=!1,c.label=2;case 2:return l=Na(Na({},t),{amount:(r=t.amount)!==null&&r!==void 0?r:0,callback:function(h){return sp(u,void 0,void 0,function(){var f;return op(this,function(m){switch(m.label){case 0:return h.status!=="successful"?[3,2]:(s(h),[4,fetch("https://cors-anywhere.herokuapp.com/https://kgelfdz7mf.execute-api.us-east-1.amazonaws.com/staging/sendevent",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({publicKey:t.public_key,language:"Flutterwave-React-v3",version:"1.0.7",title:(t==null?void 0:t.payment_options.split(",").length)>1?"Initiate-Charge-Multiple":"Initiate-Charge-"+(t==null?void 0:t.payment_options),message:"15s"})})]);case 1:return m.sent(),[3,4];case 2:return s(h),[4,fetch("https://cors-anywhere.herokuapp.com/https://kgelfdz7mf.execute-api.us-east-1.amazonaws.com/staging/sendevent",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({publicKey:(f=t.public_key)!==null&&f!==void 0?f:"",language:"Flutterwave-React-v3",version:"1.0.7",title:(t==null?void 0:t.payment_options.split(",").length)>1?"Initiate-Charge-Multiple-error":"Initiate-Charge-"+(t==null?void 0:t.payment_options)+"-error",message:"15s"})})];case 3:m.sent(),m.label=4;case 4:return[2]}})})},onclose:o,payment_options:(i=t==null?void 0:t.payment_options)!==null&&i!==void 0?i:"card, ussd, mobilemoney"}),window.FlutterwaveCheckout(l),[2]}})})}}var wM=function(t){var e=t.text,n=t.className,r=t.children,i=t.callback,s=t.onClose,o=t.disabled,l=yM(t,["text","className","children","callback","onClose","disabled"]),u=_M(l);return j.createElement("button",{disabled:o,className:n,onClick:function(){return u({callback:i,onClose:s})}},e||r)};function EM(){document.getElementsByName("checkout").forEach(function(t){t.setAttribute("style","position:fixed;top:0;left:0;z-index:-1;border:none;opacity:0;pointer-events:none;width:100%;height:100%;"),t.setAttribute("id","flwpugpaidid"),t.setAttribute("src","https://checkout.flutterwave.com/?"),document.body.style.overflow=""})}const TM=t=>{const{productId:e,quantity:n}=t.data,[r,i]=j.useState([]);j.useState(""),j.useState(),j.useState(!1);const s=Sd(),o=()=>{s(B_({productId:e,quantity:n+1}))},l=()=>{s(B_({productId:e,quantity:n-1}))};return j.useEffect(()=>{const u=td.filter(c=>c.id===e)[0];i(u)},[e]),g.jsxs("div",{className:"flex justify-around  items-center bg-zinc-800 text-white w-[90%] font-medium mx-auto padAir:flex-row flex-col gap-4 pb-5 p-3 rounded-lg",children:[g.jsx("img",{src:r.image,alt:"",width:200,className:"bg-zinc-600 rounded-xl"}),g.jsx("h3",{children:r.name}),g.jsxs("p",{children:["$",r.price*n]}),g.jsxs("div",{className:"flex gap-10",children:[g.jsx("button",{onClick:l,children:"-"}),g.jsx("span",{children:n}),g.jsx("button",{onClick:o,children:"+"})]}),g.jsx("div",{children:g.jsx(Oe,{to:r.pay,children:"Purchase"})})]})},IM=()=>{const[t,e]=j.useState(""),n=Ym(i=>i.cart.items),r=async()=>{kr.onAuthStateChanged(async i=>{console.log(i);const s=Pl(bl,"Users",i.uid),o=await yd(s);o.exists()?(e(o.data()),console.log(o.data())):console.log("User is not logged in")})};return j.useEffect(()=>{r()},[]),g.jsxs("div",{children:[g.jsx("section",{children:g.jsx("h2",{className:"text-center mb-7 text-xl padAir:text-2xl font-bold",children:"Shopping Cart"})}),g.jsx("section",{className:"flex flex-col gap-10 items-center justify-end w-[90%] mx-auto ",children:t?g.jsx(g.Fragment,{children:n.map((i,s)=>g.jsx(TM,{data:i},s))}):g.jsxs("div",{children:["Pls Login to continue.... ",g.jsx(Oe,{to:"/login",className:"text-coral-red",children:"Login"})]})}),g.jsx("section",{className:"text-center mt-52",children:g.jsx(Jm,{})})]})},SM=()=>{const{pay:t}=lm(),[e,n]=j.useState([]),[r,i]=j.useState(1),[s,o]=j.useState(""),[l,u]=j.useState(!1),[c,h]=j.useState("");e.price*r;const S={...{public_key:"FLWPUBK_TEST-0a7c5d2506fd8dcbf462d781842b5ff4-X",tx_ref:Date.now(),amount:`${e.price*r}`,currency:"USD",payment_options:"card, mobilemoney ,ussd, banktransfer",customer:{email:c.email,phone_number:c.phone,name:c.firstName},customizations:{title:"Nexusmart",description:`Payment for the Purchase of ${e.name}`,logo:"https://www.logomaker.com/api/main/images/1j+ojlxEOMkX9Wyqfhe43D6kh...GIpBVImBnJwXs1M3EMoAJtlyIthftp9vo...PExevg9C3ktKMcs8"}},text:`Pay $${Math.floor(e.price*r)}`,callback:w=>{w.status!=="completed"?(console.log("failed Transaction"),Se.error("Failed Transaction",{position:"top-center"})):(console.log("Success"),Se.success("Successful, Get your  package in some mins.",{position:"top-center"})),EM()},onClose:()=>{console.log("User Closed it Himself")}};Sd();const x=()=>{i(r+1)},R=()=>{i(r-1===0?r=1:r-1)},A=()=>{u(!0)};j.useEffect(()=>{const w=td.filter(b=>b.pay===t);w.length>0?n(w[0]):window.location.href="/product"},[t]);const I=async()=>{kr.onAuthStateChanged(async w=>{console.log(w);const b=Pl(bl,"Users",w.uid),U=await yd(b);U.exists()?(h(U.data()),console.log(U.data())):console.log("User is not logged in")})};j.useEffect(()=>{I()},[]);const v=w=>{w.preventDefault(),o(!0)};return g.jsx("div",{className:"text-center bg-orange-50 flex flex-col gap-10 p-10 ",children:l?g.jsx("section",{className:"flex flex-col gap-10",children:s?g.jsxs("div",{className:"flex justify-center flex-col items-center gap-7 font-medium w-[80%] mx-auto",children:[g.jsx("img",{src:e.image,alt:"",width:200}),g.jsx("h1",{className:"text-xl",children:e.name}),g.jsx("button",{className:"bg-black p-3 rounded-2xl text-orange-50",children:g.jsx(wM,{...S})})]}):g.jsxs(g.Fragment,{children:[g.jsx("h2",{className:"font-semibold text-xl",children:"Billing Info"}),g.jsxs("form",{className:"flex flex-col items-center justify-center gap-5 w-[80%] mx-auto font-medium outline-none",onSubmit:v,children:[g.jsx("input",{type:"text",required:!0,placeholder:"enter Delivery Address",className:"w-[100%] mx-auto p-3 rounded-2xl outline-none"}),g.jsx("button",{className:"bg-zinc-900 text-white w-[40%] p-2 rounded-lg",children:"Add"})]})]})}):g.jsxs(g.Fragment,{children:[g.jsx("section",{children:g.jsx("h1",{className:"text-2xl font-bold",children:"Purchase Product"})}),g.jsxs("section",{className:"flex items-center justify-center md:flex-row flex-col gap-20 ",children:[g.jsx("div",{className:"w-[20%]",children:g.jsx("img",{src:e.image,alt:"",className:"rounded-lg shadow-xl w-[100%]"})}),g.jsxs("main",{className:"flex-col flex gap-10 font-medium",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-lg mb-2",children:e.name}),g.jsxs("p",{className:"font-bold text-lg font-merriweather",children:["$",Math.floor(e.price*r)]})]}),g.jsxs("div",{className:"flex flex-col  gap-5 mx-auto font-medium",children:[g.jsxs("div",{className:"flex flex-row gap-2 items-center justify-center",children:[g.jsx("button",{onClick:R,className:"bg-white text-black p-2 rounded-lg",children:"-"}),g.jsx("span",{children:r}),g.jsx("button",{onClick:x,className:"bg-white text-black p-2 rounded-lg",children:"+"})]}),g.jsx("div",{children:g.jsx("button",{className:"bg-coral-red p-3 rounded-3xl text-orange-50",onClick:A,children:"Purchase Item"})})]}),g.jsx("div",{children:g.jsx("p",{className:"w-[80%] mx-auto md:w-[50%]",children:e.description})})]})]})]})})},xM=RP([{path:"/",element:g.jsx(aL,{}),children:[{path:"/",element:g.jsx(sL,{})},{path:"/register",element:g.jsx(oL,{})},{path:"/login",element:g.jsx(lL,{})},{path:"/product",element:g.jsx(mM,{})},{path:"/product/:slug",element:g.jsx(gM,{})},{path:"/cart",element:g.jsx(IM,{})},{path:"/cart/:pay",element:g.jsx(SM,{})},{path:"/user/profile",element:g.jsx(N_,{})}]},{path:"/code",element:g.jsx(N_,{})}]),RM=WL({reducer:{cart:hM}});Dh.createRoot(document.getElementById("root")).render(g.jsx(KO,{store:RM,children:g.jsx(LP,{router:xM})}));
